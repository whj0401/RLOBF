/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2017 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

void *init_proc();
int sub_8048FC0();
// int dup2(int fd, int fd2);
// int strcmp(const char *s1, const char *s2);
// int __cdecl open64(_DWORD, _DWORD); weak
// int putc_unlocked(int c, FILE *stream);
// int printf(const char *format, ...);
// int fflush(FILE *stream);
// void _exit(int status);
// void *memmove(void *dest, const void *src, size_t n);
// void free(void *ptr);
// char *strdup(const char *s);
// void *memcpy(void *dest, const void *src, size_t n);
// int mbsinit(const mbstate_t *ps);
// int ferror(FILE *stream);
// int fclose(FILE *stream);
// int getc_unlocked(FILE *stream);
// intmax_t strtoimax(const char *nptr, char **endptr, int base);
// int __stdcall fseeko64(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int memcmp(const void *s1, const void *s2, size_t n);
// char *textdomain(const char *domainname);
// int iswprint(wint_t wc);
// int fopen64(void); weak
// int ferror_unlocked(FILE *stream);
// size_t fwrite(const void *ptr, size_t size, size_t n, FILE *s);
// int __cdecl __fxstat64(_DWORD, _DWORD, _DWORD); weak
// size_t __ctype_get_mb_cur_max(void);
// size_t fread(void *ptr, size_t size, size_t n, FILE *stream);
// size_t __fpending(FILE *fp);
// size_t mbrtowc(wchar_t *pwc, const char *s, size_t n, mbstate_t *p);
// int __cdecl __cxa_atexit(_DWORD, _DWORD, _DWORD); weak
// void error(int status, int errnum, const char *format, ...);
// char *getenv(const char *name);
// void *realloc(void *ptr, size_t size);
// void *malloc(size_t size);
// int re_match(struct re_pattern_buffer *buffer, const char *string, int length, int start, struct re_registers *regs);
// int __freading(FILE *fp);
// int iswspace(wint_t wc);
// void exit(int status);
// int ftello64(void); weak
// char *gettext(const char *msgid);
// FILE *fdopen(int fd, const char *modes);
// int __cdecl fputs_unlocked(_DWORD, _DWORD); weak
// int getopt_long(int argc, char *const *argv, const char *shortopts, const struct option *longopts, int *longind);
// char *strchr(const char *s, int c);
// size_t strlen(const char *s);
// size_t iconv(iconv_t cd, char **inbuf, size_t *inbytesleft, char **outbuf, size_t *outbytesleft);
// int fprintf(FILE *stream, const char *format, ...);
// int re_search(struct re_pattern_buffer *buffer, const char *string, int length, int start, int range, struct re_registers *regs);
// int re_compile_fastmap(struct re_pattern_buffer *buffer);
// void *memset(void *s, int c, size_t n);
// int iswalnum(wint_t wc);
// int *__errno_location(void);
// void *memchr(const void *s, int c, size_t n);
// int fileno(FILE *stream);
// size_t fwrite_unlocked(const void *ptr, size_t size, size_t n, FILE *stream);
// char *nl_langinfo(nl_item item);
// char *setlocale(int category, const char *locale);
// char *strrchr(const char *s, int c);
// int sprintf(char *s, const char *format, ...);
// int __stdcall lseek64(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// void qsort(void *base, size_t nmemb, size_t size, __compar_fn_t compar);
// const char *re_compile_pattern(const char *pattern, size_t length, struct re_pattern_buffer *buffer);
// char *bindtextdomain(const char *domainname, const char *dirname);
// int strncmp(const char *s1, const char *s2, size_t n);
// void abort(void);
// iconv_t iconv_open(const char *tocode, const char *fromcode);
// int close(int fd);
// void __assert_fail(const char *assertion, const char *file, unsigned int line, const char *function);
// const unsigned __int16 **__ctype_b_loc(void);
// int putchar_unlocked(int c);
// int _gmon_start__(void); weak
void sub_8049533();
void sub_8049550();
int sub_8049560();
int sub_80495D0();
int sub_80495F0();
void sub_804964F();
void sub_804966A();
int sub_804967A();
void sub_804975C();
void sub_8049777();
signed int sub_8049787();
void sub_8049869();
void sub_8049884();
int sub_8049894();
void sub_8049976();
void sub_8049991();
int sub_80499A1();
void sub_8049A9F();
void sub_8049ABA();
int sub_8049ACA();
int sub_8049B54();
void sub_8049BC8();
void sub_8049BE3();
int sub_8049BF3();
// int __usercall sub_8049CA5@<eax>(void (__cdecl *a1)(int *)@<eax>);
void sub_8049CF1();
void sub_8049D0C();
int sub_8049D1C();
int sub_8049DA6();
void sub_8049E1A();
void sub_8049E35();
int sub_8049E45();
void sub_8049F55();
void sub_8049F70();
int sub_8049F80();
void sub_804A062();
void sub_804A07D();
int sub_804A08D();
int __cdecl sub_804A13D(unsigned __int8 a1);
int sub_804A14F();
int sub_804A17A();
int __cdecl sub_804A1A5(char *s1); // idb
char *__cdecl sub_804A34B(char *a1);
char *__cdecl sub_804A37B(char *s);
int __cdecl sub_804A73B(_DWORD); // weak
char sub_804A850();
int __cdecl sub_804AA18(char *s1, int); // idb
int sub_804AB16(const void *, const void *); // idb
int compar(const void *, const void *); // idb
int __cdecl sub_804AD47(void *, int); // idb
void sub_804AE09();
int __cdecl sub_804AE42(char *s1); // idb
int __cdecl sub_804AF03(char *s1, int); // idb
int __cdecl sub_804B7CB(int a1);
_DWORD __cdecl sub_804B7F1(_DWORD, _DWORD); // weak
_DWORD sub_804BD13(); // weak
_DWORD __cdecl sub_804C0EF(_DWORD); // weak
int __cdecl sub_804C6A4(char *string, int length, int start, struct re_registers *regs); // idb
int __cdecl sub_804C932(char *string, int length, int start, struct re_registers *regs); // idb
int sub_804CD02();
int sub_804CF0C();
int sub_804D1AD(void); // weak
size_t sub_804D645();
void __cdecl __noreturn sub_804D6FF(int status); // idb
int __cdecl main(int, char **, char **); // idb
void __noreturn sub_804E261();
int __cdecl sub_804E275(char *s, int a2);
void __cdecl sub_804E3BB(int a1, int a2, int a3);
int __cdecl sub_804E43E(int, int, size_t n); // idb
int __cdecl sub_804E577(int, char *s, int, int, size_t n, int); // idb
void __noreturn sub_804E6A7();
int sub_804E79E(); // weak
int __cdecl sub_804E7A4(int a1);
int __cdecl sub_804E80C(int, int, FILE *stream); // idb
char *__cdecl sub_804E9AD(char *s);
void __cdecl __noreturn sub_804F091(char *msgid);
int __cdecl sub_804F3FE(int *a1, unsigned __int8 a2, char a3);
int *__cdecl sub_804F4C8(int *a1, int a2, int a3);
int __cdecl sub_804F509(_DWORD, _DWORD); // weak
char *__cdecl sub_804F5E0(char *msgid);
_DWORD __cdecl sub_804F6AC(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_8050938(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_8050C73(int a1, int a2);
int __cdecl sub_8050C9D(int a1, int a2, int a3);
int __cdecl sub_8050D13(int a1, int a2, int a3);
int __cdecl sub_8050D51(int a1, int a2, int a3, int a4);
int __cdecl sub_8050DE9(int a1, int a2, unsigned __int8 a3);
int __cdecl sub_8050EB3(int a1, unsigned __int8 a2);
int __cdecl sub_8050EEC(int a1);
int __cdecl sub_8050F29(int a1, int a2, int a3);
int __cdecl sub_8050FFA(int a1, int a2, int a3, int a4);
int __cdecl sub_805103A(int a1, int a2, int a3, int a4, int a5);
int __cdecl sub_8051194(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_80511B6(int a1, int a2, int a3, int a4);
int __cdecl sub_8051214(int a1, int a2);
int __cdecl sub_8051236(int a1);
char *__cdecl sub_8051251(FILE *stream, int a2);
char *__cdecl sub_8051528(int a1, int a2);
char *__cdecl sub_80515C4(int a1, int a2);
_DWORD __cdecl sub_8051608(_DWORD, _DWORD); // weak
int __cdecl sub_8051A45(FILE *stream, int, int, int, int, int); // idb
_DWORD __cdecl sub_80521E3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int sub_8052293(int a1, int a2, int a3, int a4, ...);
void *__cdecl sub_8052353(unsigned int a1, unsigned int a2);
void *__cdecl sub_80523B6(void *ptr, int a2, int a3);
void *__cdecl sub_805244D(size_t size);
void *__cdecl sub_8052460(size_t size);
void *__cdecl sub_80524A3(void *ptr, size_t size);
void *__cdecl sub_8052594(void *src, size_t n);
void __noreturn sub_80525E2();
int __cdecl sub_80526AE(char *s, char *fromcode, char *tocode); // idb
signed int __cdecl sub_8052705(unsigned int *a1, signed int a2);
int __cdecl sub_805281F(unsigned int *a1, signed int a2, int a3);
int __cdecl sub_8052855(char *nptr, int, int base, int, char *s); // idb
int __cdecl sub_8052C9B(FILE *stream); // idb
int __cdecl sub_8052D5E(_DWORD *a1);
int __cdecl sub_8052D97(FILE *fp); // idb
int __cdecl sub_8052DD7(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_8052DFB(int a1, int a2, int a3, FILE *a4);
size_t __cdecl sub_8052F0F(wchar_t *pwc, char *s, size_t n, mbstate_t *p);
int __cdecl sub_8052F81(unsigned __int8 *a1, unsigned __int8 *a2);
int __cdecl sub_8052FFF(FILE *fp); // idb
int __cdecl sub_8053099(int category); // idb
int __fastcall __noreturn sub_80530F7(int a1, int a2);
int sub_805364C(); // weak
void __noreturn sub_8053655();
_DWORD __cdecl sub_8053721(_DWORD); // weak
signed int __cdecl sub_8053AB7(_BYTE *a1, int a2, unsigned int a3, _DWORD *a4);
_DWORD sub_8053D3C(); // weak
_DWORD __cdecl sub_8054609(_DWORD, _DWORD); // weak
void __cdecl __noreturn sub_8054656(int c, size_t n, int); // idb
_DWORD __cdecl sub_8054F06(_DWORD); // weak
// signed int __usercall sub_80551B0@<eax>(int a1@<ebx>, char *a2, size_t a3, void *a4, void **a5, size_t *a6);
int __cdecl sub_8055605(char *s);
int __cdecl sub_80559A3(char *s, char *fromcode, char *tocode); // idb
size_t __cdecl sub_8055ACF(void *s, size_t n);
int __cdecl sub_8055D5C(int a1);
unsigned int __cdecl sub_8055D92(unsigned int a1);
void __cdecl sub_8055E47(unsigned int a1);
_DWORD __cdecl sub_8055F3F(_DWORD, _DWORD); // weak
bool __cdecl sub_8055FFD(unsigned __int8 a1);
size_t __cdecl sub_8056054(const char *a1);
_DWORD __cdecl sub_8056134(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_80563D6(int a1);
int __cdecl sub_8056405(int a1, int a2);
int __stdcall sub_8056592(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_8056602(_DWORD); // weak
int __stdcall sub_8056678(_DWORD); // weak
int __stdcall sub_80566EE(_DWORD); // weak
int __stdcall sub_8056764(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_80567D4(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __fastcall sub_8056844(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
int (**sub_8056860())();
void term_proc();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_804A3E8; // weak
_UNKNOWN loc_804A406; // weak
_UNKNOWN loc_804A431; // weak
_UNKNOWN loc_804A44D; // weak
_UNKNOWN loc_804A584; // weak
_UNKNOWN loc_804A5E8; // weak
_UNKNOWN loc_804A86A; // weak
_UNKNOWN loc_804A8D4; // weak
_UNKNOWN loc_804A919; // weak
_UNKNOWN loc_804A933; // weak
_UNKNOWN loc_804A93D; // weak
_UNKNOWN loc_804AAB9; // weak
_UNKNOWN loc_804AAC0; // weak
_UNKNOWN loc_804D06F; // weak
_UNKNOWN loc_804D071; // weak
_UNKNOWN loc_804D0B7; // weak
_UNKNOWN loc_804D0B9; // weak
_UNKNOWN loc_804D6F3; // weak
_UNKNOWN loc_804E336; // weak
_UNKNOWN loc_804E33E; // weak
_UNKNOWN locret_804E3B9; // weak
_UNKNOWN loc_804E543; // weak
_UNKNOWN loc_804E791; // weak
_UNKNOWN loc_804E7E2; // weak
_UNKNOWN loc_804E805; // weak
_UNKNOWN loc_804EA18; // weak
_UNKNOWN loc_804EA20; // weak
_UNKNOWN loc_80514D4; // weak
_UNKNOWN loc_80514F8; // weak
_UNKNOWN loc_8051506; // weak
_UNKNOWN locret_8051526; // weak
_UNKNOWN locret_80515C2; // weak
_UNKNOWN loc_8052493; // weak
_UNKNOWN loc_805249E; // weak
_UNKNOWN loc_80524CE; // weak
_UNKNOWN loc_80524E0; // weak
_UNKNOWN loc_80526FB; // weak
_UNKNOWN loc_8052700; // weak
_UNKNOWN loc_8052EB1; // weak
_UNKNOWN loc_8052EB8; // weak
_UNKNOWN loc_8052F9A; // weak
_UNKNOWN loc_8052FEC; // weak
_UNKNOWN loc_805305D; // weak
_UNKNOWN loc_8053075; // weak
_UNKNOWN loc_805338A; // weak
_UNKNOWN loc_805338F; // weak
_UNKNOWN loc_8053647; // weak
_UNKNOWN loc_8053B61; // weak
_UNKNOWN loc_8053BCD; // weak
_UNKNOWN loc_8053BFE; // weak
_UNKNOWN loc_8053C92; // weak
_UNKNOWN loc_8053CAC; // weak
_UNKNOWN loc_8055527; // weak
_UNKNOWN loc_805558D; // weak
_UNKNOWN loc_8055592; // weak
_UNKNOWN loc_805566C; // weak
_UNKNOWN loc_8055681; // weak
_UNKNOWN locret_8055B1F; // weak
_UNKNOWN loc_80560AE; // weak
_UNKNOWN loc_8056107; // weak
char locale = '\0'; // idb
_UNKNOWN unk_80581F0; // weak
_UNKNOWN unk_8058247; // weak
int dword_8058408[8] = { 6656, 4294967279, 4294967294, 2147483646, 0, 0, 0, 0 }; // idb
_UNKNOWN unk_80591FC; // weak
_UNKNOWN unk_80591FF; // weak
int dword_8059F00 = 34; // weak
_UNKNOWN unk_805A230; // weak
_UNKNOWN unk_805A233; // weak
int (*off_805BEE0[2])() = { &sub_80495F0, &sub_80495D0 }; // weak
int (*off_805BEE4)() = &sub_80495D0; // weak
int (*dword_805C008)(void) = NULL; // weak
int dword_805C160 = 0; // weak
int dword_805C174 = 0; // weak
int dword_805C188 = 0; // weak
int dword_805C19C = 0; // weak
int dword_805C1B0 = 0; // weak
int dword_805C1C4 = 0; // weak
int dword_805C1D8 = 0; // weak
int dword_805C208 = 0; // weak
char byte_805C20C = '\x01'; // weak
char *s = "/"; // idb
char *off_805C21C[2] = { "xx", "8.28" }; // weak
int status = 1; // idb
_UNKNOWN unk_805C264; // weak
_UNKNOWN unk_805C280; // weak
_UNKNOWN unk_805C283; // weak
_UNKNOWN unk_805C294; // weak
_UNKNOWN unk_805C297; // weak
int program_invocation_short_name; // weak
FILE *stderr; // idb
int program_invocation_name; // weak
FILE *stdin; // idb
FILE *stdout; // idb
char byte_805C2EC; // weak
_UNKNOWN unk_805C2F0; // weak
char byte_805C46D; // weak
char byte_805C507; // weak
char byte_805C602; // weak
char byte_805C603; // weak
int dword_805C606; // weak
char byte_805C60A; // weak
char *dword_805C60E; // idb
int dword_805C622; // weak
int dword_805C762; // weak
struct re_pattern_buffer buffer; // idb
char byte_805C9C2[9]; // idb
char byte_805C9CB; // weak
char byte_805C9CC; // weak
char byte_805C9E2; // weak
void *ptr; // idb
size_t nmemb; // idb
int dword_805CC32; // weak
int dword_805CC36; // weak
char byte_805CC3A; // weak
char *string; // idb
int dword_805CC42; // weak
char byte_805CC46; // weak
int dword_805CC4A; // weak
int dword_805CC4E; // weak
char byte_805CC52; // weak
char *dword_805CC56; // idb
int dword_805CC5A; // weak
char byte_805CC5E; // weak
int dword_805CC62; // weak
int dword_805CC66; // weak
int dword_805CC6A; // weak
char byte_805CC6E; // weak
int dword_805CC72; // weak
int dword_805CC82; // weak
int dword_805CC86; // weak
int dword_805CC8A; // weak
int dword_805CC8E; // weak
int dword_805CC92; // weak
int dword_805CC96; // weak
int dword_805CC9A; // weak
int dword_805CC9E; // weak
int dword_805CCA2; // weak
int dword_805CCA6; // weak
int dword_805CCAA; // weak
int dword_805CCAE; // weak
int dword_805CDC2; // weak
int dword_805CDE2[264]; // idb
// extern _UNKNOWN __gmon_start__; weak


//----- (08048F98) --------------------------------------------------------
void *init_proc()
{
  void *result; // eax

  result = &__gmon_start__;
  if ( &__gmon_start__ )
    result = (void *)_gmon_start__();
  return result;
}
// 80494F0: using guessed type int _gmon_start__(void);

//----- (08048FC0) --------------------------------------------------------
int sub_8048FC0()
{
  return dword_805C008();
}
// 805C008: using guessed type int (*dword_805C008)(void);

//----- (08049500) --------------------------------------------------------
#error "8049503: positive sp value has been found (funcsize=2)"

//----- (08049533) --------------------------------------------------------
void sub_8049533()
{
  ;
}

//----- (08049550) --------------------------------------------------------
void sub_8049550()
{
  ;
}

//----- (08049560) --------------------------------------------------------
int sub_8049560()
{
  int result; // eax

  result = &unk_805C297 - &unk_805C294;
  if ( (unsigned int)(&unk_805C297 - &unk_805C294) > 6 )
    result = 0;
  return result;
}
// 8049560: could not find valid save-restore pair for ebp

//----- (080495D0) --------------------------------------------------------
int sub_80495D0()
{
  int result; // eax

  if ( !byte_805C2EC )
  {
    result = sub_8049560();
    byte_805C2EC = 1;
  }
  return result;
}
// 80495D0: could not find valid save-restore pair for ebp
// 805C2EC: using guessed type char byte_805C2EC;

//----- (080495F0) --------------------------------------------------------
int sub_80495F0()
{
  return 0;
}
// 80495F0: could not find valid save-restore pair for ebp

//----- (0804964F) --------------------------------------------------------
void sub_804964F()
{
  ;
}

//----- (0804966A) --------------------------------------------------------
void sub_804966A()
{
  ;
}

//----- (0804967A) --------------------------------------------------------
int sub_804967A()
{
  int result; // eax

  result = &unk_805C2F0 - (_UNKNOWN *)&program_invocation_short_name;
  if ( (unsigned int)(&unk_805C2F0 - (_UNKNOWN *)&program_invocation_short_name) > 6 )
    result = 0;
  return result;
}
// 804967A: could not find valid save-restore pair for ebp
// 805C2A0: using guessed type int program_invocation_short_name;

//----- (0804975C) --------------------------------------------------------
void sub_804975C()
{
  ;
}

//----- (08049777) --------------------------------------------------------
void sub_8049777()
{
  ;
}

//----- (08049787) --------------------------------------------------------
signed int sub_8049787()
{
  return 3;
}
// 8049787: could not find valid save-restore pair for ebp

//----- (08049869) --------------------------------------------------------
void sub_8049869()
{
  ;
}

//----- (08049884) --------------------------------------------------------
void sub_8049884()
{
  ;
}

//----- (08049894) --------------------------------------------------------
int sub_8049894()
{
  int result; // eax

  result = &unk_805C283 - &unk_805C280;
  if ( (unsigned int)(&unk_805C283 - &unk_805C280) > 6 )
    result = 0;
  return result;
}
// 8049894: could not find valid save-restore pair for ebp

//----- (08049976) --------------------------------------------------------
void sub_8049976()
{
  ;
}

//----- (08049991) --------------------------------------------------------
void sub_8049991()
{
  ;
}

//----- (080499A1) --------------------------------------------------------
int sub_80499A1()
{
  int result; // eax

  result = &unk_805C283 - &unk_805C280;
  if ( (unsigned int)(&unk_805C283 - &unk_805C280) > 6 )
    result = 0;
  return result;
}
// 80499A1: could not find valid save-restore pair for ebp

//----- (08049A9F) --------------------------------------------------------
void sub_8049A9F()
{
  ;
}

//----- (08049ABA) --------------------------------------------------------
void sub_8049ABA()
{
  ;
}

//----- (08049ACA) --------------------------------------------------------
int sub_8049ACA()
{
  int result; // eax

  result = &unk_805A233 - &unk_805A230;
  if ( (unsigned int)(&unk_805A233 - &unk_805A230) > 6 )
    result = 0;
  return result;
}
// 8049ACA: could not find valid save-restore pair for ebp

//----- (08049B54) --------------------------------------------------------
int sub_8049B54()
{
  int result; // eax

  result = sub_8049ACA();
  byte_805C46D = 1;
  return result;
}
// 805C46D: using guessed type char byte_805C46D;

//----- (08049BC8) --------------------------------------------------------
void sub_8049BC8()
{
  ;
}

//----- (08049BE3) --------------------------------------------------------
void sub_8049BE3()
{
  ;
}

//----- (08049BF3) --------------------------------------------------------
int sub_8049BF3()
{
  int result; // eax

  result = &unk_805C283 - &unk_805C280;
  if ( (unsigned int)(&unk_805C283 - &unk_805C280) > 6 )
    result = 0;
  return result;
}
// 8049BF3: could not find valid save-restore pair for ebp

//----- (08049CA5) --------------------------------------------------------
int __usercall sub_8049CA5@<eax>(void (__cdecl *a1)(int *)@<eax>)
{
  a1(&dword_8059F00);
  return 0;
}
// 8059F00: using guessed type int dword_8059F00;

//----- (08049CF1) --------------------------------------------------------
void sub_8049CF1()
{
  ;
}

//----- (08049D0C) --------------------------------------------------------
void sub_8049D0C()
{
  ;
}

//----- (08049D1C) --------------------------------------------------------
int sub_8049D1C()
{
  int result; // eax

  result = &unk_805C283 - &unk_805C280;
  if ( (unsigned int)(&unk_805C283 - &unk_805C280) > 6 )
    result = 0;
  return result;
}
// 8049D1C: could not find valid save-restore pair for ebp

//----- (08049DA6) --------------------------------------------------------
int sub_8049DA6()
{
  int result; // eax

  result = sub_8049D1C();
  byte_805C507 = 1;
  return result;
}
// 805C507: using guessed type char byte_805C507;

//----- (08049E1A) --------------------------------------------------------
void sub_8049E1A()
{
  ;
}

//----- (08049E35) --------------------------------------------------------
void sub_8049E35()
{
  ;
}

//----- (08049E45) --------------------------------------------------------
int sub_8049E45()
{
  int result; // eax

  result = &unk_80591FF - &unk_80591FC;
  if ( (unsigned int)(&unk_80591FF - &unk_80591FC) > 6 )
    result = 0;
  return result;
}
// 8049E45: could not find valid save-restore pair for ebp

//----- (08049F55) --------------------------------------------------------
void sub_8049F55()
{
  ;
}

//----- (08049F70) --------------------------------------------------------
void sub_8049F70()
{
  ;
}

//----- (08049F80) --------------------------------------------------------
int sub_8049F80()
{
  int result; // eax

  result = "rset.alias" - (char *)&unk_80581F0;
  if ( (unsigned int)("rset.alias" - (char *)&unk_80581F0) > 6 )
    result = 0;
  return result;
}
// 8049F80: could not find valid save-restore pair for ebp

//----- (0804A062) --------------------------------------------------------
void sub_804A062()
{
  ;
}

//----- (0804A07D) --------------------------------------------------------
void sub_804A07D()
{
  ;
}

//----- (0804A08D) --------------------------------------------------------
int sub_804A08D()
{
  int result; // eax

  result = "rset.alias" - (char *)&unk_80581F0;
  if ( (unsigned int)("rset.alias" - (char *)&unk_80581F0) > 6 )
    result = 0;
  return result;
}
// 804A08D: could not find valid save-restore pair for ebp

//----- (0804A13D) --------------------------------------------------------
int __cdecl sub_804A13D(unsigned __int8 a1)
{
  return a1;
}

//----- (0804A14F) --------------------------------------------------------
int sub_804A14F()
{
  FILE *v0; // ebx
  char *v1; // eax

  v0 = stdout;
  v1 = gettext("\nWith no FILE, or when FILE is -, read standard input.\n");
  return fputs_unlocked(v1, v0);
}
// 80492B0: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);

//----- (0804A17A) --------------------------------------------------------
int sub_804A17A()
{
  FILE *v0; // ebx
  char *v1; // eax

  v0 = stdout;
  v1 = gettext("\nMandatory arguments to long options are mandatory for short options too.\n");
  return fputs_unlocked(v1, v0);
}
// 80492B0: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);

//----- (0804A1A5) --------------------------------------------------------
int __cdecl sub_804A1A5(char *s1)
{
  char *v1; // eax
  char *v2; // eax
  char *v3; // eax
  char *v4; // ebx
  char *v5; // eax
  int v7; // [esp+0h] [ebp-68h]
  char *v8; // [esp+4h] [ebp-64h]
  char *v9; // [esp+8h] [ebp-60h]
  char *v10; // [esp+1Ch] [ebp-4Ch]
  char **i; // [esp+20h] [ebp-48h]
  char *v12; // [esp+24h] [ebp-44h]
  const char *v13; // [esp+28h] [ebp-40h]
  const char *v14; // [esp+2Ch] [ebp-3Ch]
  const char *v15; // [esp+30h] [ebp-38h]
  const char *v16; // [esp+34h] [ebp-34h]
  const char *v17; // [esp+38h] [ebp-30h]
  const char *v18; // [esp+3Ch] [ebp-2Ch]
  const char *v19; // [esp+40h] [ebp-28h]
  const char *v20; // [esp+44h] [ebp-24h]
  const char *v21; // [esp+48h] [ebp-20h]
  const char *v22; // [esp+4Ch] [ebp-1Ch]
  const char *v23; // [esp+50h] [ebp-18h]
  const char *v24; // [esp+54h] [ebp-14h]
  int v25; // [esp+58h] [ebp-10h]
  int v26; // [esp+5Ch] [ebp-Ch]

  v13 = "[";
  v14 = "test invocation";
  v15 = "coreutils";
  v16 = "Multi-call invocation";
  v17 = "sha224sum";
  v18 = "sha2 utilities";
  v19 = "sha256sum";
  v20 = "sha2 utilities";
  v21 = "sha384sum";
  v22 = "sha2 utilities";
  v23 = "sha512sum";
  v24 = "sha2 utilities";
  v25 = 0;
  v26 = 0;
  v10 = s1;
  for ( i = (char **)(&v7 - 16); *i; i += 2 )
  {
    v8 = *i;
    if ( !strcmp(s1, v8) )
      break;
  }
  if ( i[1] )
    v10 = i[1];
  v1 = gettext("\n%s online help: <%s>\n");
  v9 = "http://www.gnu.org/software/coreutils/";
  v8 = "GNU coreutils";
  printf(v1, "GNU coreutils", "http://www.gnu.org/software/coreutils/");
  v12 = setlocale(5, 0);
  if ( v12 && strncmp(v12, "en_", 3u) )
  {
    v2 = gettext("Report %s translation bugs to <http://translationproject.org/team/>\n");
    v8 = s1;
    printf(v2, s1);
  }
  v3 = gettext("Full documentation at: <%s%s>\n");
  v9 = s1;
  v8 = "http://www.gnu.org/software/coreutils/";
  printf(v3, "http://www.gnu.org/software/coreutils/", s1);
  if ( v10 == s1 )
    v4 = " invocation";
  else
    v4 = &locale;
  v5 = gettext("or available locally via: info '(coreutils) %s%s'\n");
  v9 = v4;
  v8 = v10;
  return printf(v5, v10, v4);
}

//----- (0804A34B) --------------------------------------------------------
char *__cdecl sub_804A34B(char *a1)
{
  char *v1; // ebx
  int *v2; // eax

  v1 = gettext("error in regular expression matcher");
  v2 = __errno_location();
  error(1, *v2, v1);
  return sub_804A37B(a1);
}

//----- (0804A37B) --------------------------------------------------------
char *__cdecl sub_804A37B(char *s)
{
  size_t v1; // eax
  int v2; // eax
  bool v3; // zf
  bool v4; // sf
  unsigned __int8 v5; // of
  void *v6; // eax
  void *v7; // eax
  int v8; // eax
  void *v9; // eax
  char *v10; // eax
  char *v11; // eax
  char *v12; // eax
  char *v13; // edx
  char *v14; // eax
  char *v15; // edx
  int v17; // [esp+0h] [ebp-28h]
  int v18; // [esp+0h] [ebp-28h]
  char *v19; // [esp+10h] [ebp-18h]
  char *v20; // [esp+1Ch] [ebp-Ch]

  v1 = strlen(s);
  v20 = (char *)sub_8052460(v1 + 1);
  v19 = v20;
  while ( *s )
  {
    if ( *s == 92 )
    {
      v2 = *++s;
      if ( v2 == 102 )
      {
        v11 = v19++;
        *v11 = 12;
        ++s;
      }
      else
      {
        v5 = __OFSUB__(v2, 102);
        v3 = v2 == 102;
        v4 = v2 - 102 < 0;
        v6 = &loc_804A3E8;
        if ( !((unsigned __int8)(v4 ^ v5) | v3) )
          v6 = &loc_804A44D;
        dword_805C1B0 = (int)v6;
        v3 = sub_8056678(v17) == 97;
        v7 = &loc_804A406;
        if ( v3 )
          v7 = &loc_804A5E8;
        dword_805C1B0 = (int)v7;
        v8 = sub_8056678(v18);
        if ( v8 > 97 )
        {
          if ( v8 == 98 )
          {
            v10 = v19++;
            *v10 = 8;
            ++s;
          }
          else
          {
            if ( v8 != 99 )
              goto LABEL_21;
            while ( *s )
              ++s;
          }
        }
        else if ( v8 )
        {
          v3 = v8 == 48;
          v9 = &loc_804A431;
          if ( v3 )
            v9 = &loc_804A584;
          dword_805C1C4 = (int)v9;
          sub_8056602(v17);
LABEL_21:
          *v19 = 92;
          v12 = v19 + 1;
          v19 += 2;
          v13 = s++;
          *v12 = *v13;
        }
      }
    }
    else
    {
      v14 = v19++;
      v15 = s++;
      *v14 = *v15;
    }
  }
  *v19 = 0;
  return v20;
}
// 8056602: using guessed type int __stdcall sub_8056602(_DWORD);
// 8056678: using guessed type int __stdcall sub_8056678(_DWORD);
// 805C1B0: using guessed type int dword_805C1B0;
// 805C1C4: using guessed type int dword_805C1C4;

//----- (0804A73B) --------------------------------------------------------
#error "804A75A: call analysis failed (funcsize=12)"

//----- (0804A75F) --------------------------------------------------------
#error "804A84F: positive sp value has been found (funcsize=65)"

//----- (0804A850) --------------------------------------------------------
char sub_804A850()
{
  void *v0; // eax
  int v1; // ST08_4
  void *v2; // eax
  char result; // al
  int v4; // [esp+0h] [ebp-28h]
  int v5; // [esp+4h] [ebp-24h]
  int v6; // [esp+8h] [ebp-20h]
  int v7; // [esp+Ch] [ebp-1Ch]
  int v8; // [esp+10h] [ebp-18h]
  int v9; // [esp+14h] [ebp-14h]
  int v10; // [esp+18h] [ebp-10h]
  int c; // [esp+1Ch] [ebp-Ch]
  int ca; // [esp+1Ch] [ebp-Ch]
  int v13; // [esp+20h] [ebp-8h]
  int v14; // [esp+24h] [ebp-4h]
  int savedregs; // [esp+28h] [ebp+0h]

  if ( byte_805C60A )
  {
    c = 0;
    dword_805C1B0 = (int)&loc_804A86A;
    sub_8056678(v4);
  }
  if ( dword_805C622 )
  {
    v0 = &loc_804A8D4;
    if ( *(_BYTE *)dword_805C622 )
      v0 = &loc_804A93D;
    dword_805C1C4 = (int)v0;
    sub_8056602(v4);
    dword_805C622 = 0;
    dword_805C188 = (int)&loc_804A93D;
    sub_8056764(v1, v5, v6, v7, v8, v9, v10, c, v13, v14, savedregs);
  }
  v2 = &loc_804A919;
  if ( !byte_805C20C )
    v2 = &loc_804A933;
  dword_805C188 = (int)v2;
  sub_8056764(v4, v5, v6, v7, v8, v9, v10, c, v13, v14, savedregs);
  if ( byte_805C603 == 1 )
    dword_805C622 = (int)"\n";
  else
    dword_805C622 = (int)"[.?!][]\"')}]*\\($\\|\t\\|  \\)[ \t\n]*";
  if ( dword_805C622 )
    sub_804A73B(&dword_805C622);
  if ( dword_805C762 )
    return sub_804A73B(&dword_805C762);
  result = (char)dword_805C60E;
  if ( !dword_805C60E )
  {
    result = byte_805C20C;
    if ( byte_805C20C )
    {
      for ( ca = 0; ca <= 255; ++ca )
      {
        result = ((*__ctype_b_loc())[ca] & 0x400) != 0;
        *(_BYTE *)(ca + 134597058) = result;
      }
    }
    else
    {
      result = (unsigned int)memset(byte_805C9C2, 1, 0x100u);
      byte_805C9E2 = 0;
      byte_805C9CB = 0;
      byte_805C9CC = 0;
    }
  }
  return result;
}
// 804A850: could not find valid save-restore pair for ebx
// 804A73B: using guessed type int __cdecl sub_804A73B(_DWORD);
// 8056602: using guessed type int __stdcall sub_8056602(_DWORD);
// 8056678: using guessed type int __stdcall sub_8056678(_DWORD);
// 8056764: using guessed type int __stdcall sub_8056764(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C188: using guessed type int dword_805C188;
// 805C1B0: using guessed type int dword_805C1B0;
// 805C1C4: using guessed type int dword_805C1C4;
// 805C20C: using guessed type char byte_805C20C;
// 805C603: using guessed type char byte_805C603;
// 805C60A: using guessed type char byte_805C60A;
// 805C622: using guessed type int dword_805C622;
// 805C762: using guessed type int dword_805C762;
// 805C9CB: using guessed type char byte_805C9CB;
// 805C9CC: using guessed type char byte_805C9CC;
// 805C9E2: using guessed type char byte_805C9E2;

//----- (0804AA18) --------------------------------------------------------
int __cdecl sub_804AA18(char *s1, int a2)
{
  bool v2; // al
  char *v3; // eax
  void *v4; // eax
  int v5; // ebx
  int *v6; // eax
  int result; // eax
  int v8; // [esp+0h] [ebp-28h]
  int v9; // [esp+4h] [ebp-24h]
  int v10; // [esp+8h] [ebp-20h]
  int v11; // [esp+Ch] [ebp-1Ch]
  int v12; // [esp+10h] [ebp-18h]
  int v13; // [esp+14h] [ebp-14h]
  int v14; // [esp+18h] [ebp-10h]
  int v15; // [esp+1Ch] [ebp-Ch]
  int v16; // [esp+20h] [ebp-8h]
  int v17; // [esp+24h] [ebp-4h]
  int savedregs; // [esp+28h] [ebp+0h]

  v2 = !s1 || !*s1 || !strcmp(s1, "-");
  HIBYTE(v14) = v2;
  if ( v2 )
    v3 = sub_8051251(stdin, (int)&v15);
  else
    v3 = sub_80515C4((int)s1, (int)&v15);
  *(_DWORD *)a2 = v3;
  if ( !*(_DWORD *)a2 )
  {
    v4 = &loc_804AAB9;
    if ( !HIBYTE(v14) )
      v4 = &loc_804AAC0;
    dword_805C188 = (int)v4;
    sub_8056764(v8, v9, v10, v11, v12, v13, v14, v15, v16, v17, savedregs);
    v5 = sub_8050F29(0, 3, (int)"-");
    v6 = __errno_location();
    error(1, *v6, "%s", v5);
  }
  result = a2;
  *(_DWORD *)(a2 + 4) = v15 + *(_DWORD *)a2;
  return result;
}
// 8056764: using guessed type int __stdcall sub_8056764(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C188: using guessed type int dword_805C188;

//----- (0804AB16) --------------------------------------------------------
#error "804AB47: call analysis failed (funcsize=19)"

//----- (0804AB4C) --------------------------------------------------------
#error "804ACF5: positive sp value has been found (funcsize=59)"

//----- (0804ACF8) --------------------------------------------------------
int __cdecl compar(const void *a1, const void *a2)
{
  int v3; // [esp+14h] [ebp-4h]

  v3 = sub_804AB16(a1, a2);
  if ( v3 )
    return v3;
  if ( *(_DWORD *)a1 < *(_DWORD *)a2 )
    return -1;
  return *(_DWORD *)a1 > *(_DWORD *)a2;
}

//----- (0804AD47) --------------------------------------------------------
#error "804AD84: call analysis failed (funcsize=26)"

//----- (0804AE09) --------------------------------------------------------
void sub_804AE09()
{
  if ( nmemb )
    qsort(ptr, nmemb, 0x1Cu, compar);
}

//----- (0804AE42) --------------------------------------------------------
#error "804AE8A: call analysis failed (funcsize=51)"

//----- (0804AF03) --------------------------------------------------------
#error "804AFD7: call analysis failed (funcsize=86)"

//----- (0804B06C) --------------------------------------------------------
#error "804B798: call analysis failed (funcsize=526)"

//----- (0804B7CB) --------------------------------------------------------
int __cdecl sub_804B7CB(int a1)
{
  int result; // eax
  int i; // [esp+1Ch] [ebp-Ch]

  result = a1;
  for ( i = a1; i > 0; --i )
    result = putchar_unlocked(32);
  return result;
}

//----- (0804B7F1) --------------------------------------------------------
#error "804B99C: call analysis failed (funcsize=281)"

//----- (0804BD13) --------------------------------------------------------
#error "804BEF4: call analysis failed (funcsize=131)"

//----- (0804BEF9) --------------------------------------------------------
#error "804C0EE: positive sp value has been found (funcsize=108)"

//----- (0804C0EF) --------------------------------------------------------
#error "804C69F: call analysis failed (funcsize=378)"

//----- (0804C6A4) --------------------------------------------------------
#error "804C708: call analysis failed (funcsize=179)"

//----- (0804C932) --------------------------------------------------------
#error "804CCFF: positive sp value has been found (funcsize=256)"

//----- (0804CD02) --------------------------------------------------------
int sub_804CD02()
{
  printf(".%s \"", off_805C21C[0]);
  sub_804B7F1(dword_805CC32, dword_805CC36);
  if ( byte_805CC3A )
    fputs_unlocked(s, stdout);
  putchar_unlocked(34);
  fwrite_unlocked(" \"", 1u, 2u, stdout);
  if ( byte_805CC46 )
    fputs_unlocked(s, stdout);
  sub_804B7F1(string, dword_805CC42);
  putchar_unlocked(34);
  fwrite_unlocked(" \"", 1u, 2u, stdout);
  sub_804B7F1(dword_805CC4A, dword_805CC4E);
  if ( byte_805CC52 )
    fputs_unlocked(s, stdout);
  putchar_unlocked(34);
  fwrite_unlocked(" \"", 1u, 2u, stdout);
  if ( byte_805CC5E )
    fputs_unlocked(s, stdout);
  sub_804B7F1(dword_805CC56, dword_805CC5A);
  putchar_unlocked(34);
  if ( byte_805C602 || byte_805C603 )
  {
    fwrite_unlocked(" \"", 1u, 2u, stdout);
    sub_804B7F1(dword_805CC62, dword_805CC66);
    putchar_unlocked(34);
  }
  return putchar_unlocked(10);
}
// 80492B0: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);
// 804B7F1: using guessed type _DWORD __cdecl sub_804B7F1(_DWORD, _DWORD);
// 805C21C: using guessed type char *off_805C21C[2];
// 805C602: using guessed type char byte_805C602;
// 805C603: using guessed type char byte_805C603;
// 805CC32: using guessed type int dword_805CC32;
// 805CC36: using guessed type int dword_805CC36;
// 805CC3A: using guessed type char byte_805CC3A;
// 805CC42: using guessed type int dword_805CC42;
// 805CC46: using guessed type char byte_805CC46;
// 805CC4A: using guessed type int dword_805CC4A;
// 805CC4E: using guessed type int dword_805CC4E;
// 805CC52: using guessed type char byte_805CC52;
// 805CC5A: using guessed type int dword_805CC5A;
// 805CC5E: using guessed type char byte_805CC5E;
// 805CC62: using guessed type int dword_805CC62;
// 805CC66: using guessed type int dword_805CC66;

//----- (0804CF0C) --------------------------------------------------------
int sub_804CF0C()
{
  signed int v0; // eax
  bool v1; // zf
  void *v2; // eax
  void *v3; // eax
  char *v5; // [esp+0h] [ebp-48h]
  int v6; // [esp+0h] [ebp-48h]
  int v7; // [esp+0h] [ebp-48h]
  int v8; // [esp+4h] [ebp-44h]
  int v9; // [esp+8h] [ebp-40h]
  int v10; // [esp+Ch] [ebp-3Ch]
  int v11; // [esp+10h] [ebp-38h]
  int v12; // [esp+14h] [ebp-34h]
  int v13; // [esp+18h] [ebp-30h]
  int v14; // [esp+1Ch] [ebp-2Ch]
  int v15; // [esp+20h] [ebp-28h]
  int v16; // [esp+24h] [ebp-24h]
  unsigned __int8 *string; // [esp+28h] [ebp-20h]
  int v18; // [esp+2Ch] [ebp-1Ch]
  int v19; // [esp+30h] [ebp-18h]
  int v20; // [esp+3Ch] [ebp-Ch]

  printf("\\%s ", off_805C21C[0]);
  putchar_unlocked(123);
  sub_804B7F1(dword_805CC32, dword_805CC36);
  fwrite_unlocked("}{", 1u, 2u, stdout);
  sub_804B7F1(::string, dword_805CC42);
  fwrite_unlocked("}{", 1u, 2u, stdout);
  v19 = dword_805CC4A;
  v20 = dword_805CC4E;
  string = (unsigned __int8 *)dword_805CC4A;
  if ( dword_805C762 )
  {
    v18 = re_match(&buffer, (const char *)dword_805CC4A, dword_805CC4E - dword_805CC4A, 0, 0);
    if ( v18 == -2 )
      sub_804A34B(v5);
    if ( v18 == -1 )
      v0 = 1;
    else
      v0 = v18;
    string += v0;
  }
  else
  {
    v1 = byte_805C9C2[(unsigned __int8)sub_804A13D(*(_BYTE *)dword_805CC4A)] == 0;
    v2 = &loc_804D06F;
    if ( v1 )
      v2 = &loc_804D0B9;
    dword_805C1B0 = (int)v2;
    sub_8056678(v6);
    if ( dword_805CC4E > (unsigned int)string )
    {
      v1 = byte_805C9C2[(unsigned __int8)sub_804A13D(*string)] == 0;
      v3 = &loc_804D0B7;
      if ( !v1 )
        v3 = &loc_804D071;
      dword_805C188 = (int)v3;
      sub_8056764(v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, string);
    }
  }
  sub_804B7F1(v19, string);
  fwrite_unlocked("}{", 1u, 2u, stdout);
  sub_804B7F1(string, v20);
  fwrite_unlocked("}{", 1u, 2u, stdout);
  sub_804B7F1(dword_805CC56, dword_805CC5A);
  putchar_unlocked(125);
  if ( byte_805C602 || byte_805C603 )
  {
    putchar_unlocked(123);
    sub_804B7F1(dword_805CC62, dword_805CC66);
    putchar_unlocked(125);
  }
  return putchar_unlocked(10);
}
// 804CF0C: could not find valid save-restore pair for ebx
// 804B7F1: using guessed type _DWORD __cdecl sub_804B7F1(_DWORD, _DWORD);
// 8056678: using guessed type int __stdcall sub_8056678(_DWORD);
// 8056764: using guessed type int __stdcall sub_8056764(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C188: using guessed type int dword_805C188;
// 805C1B0: using guessed type int dword_805C1B0;
// 805C21C: using guessed type char *off_805C21C[2];
// 805C602: using guessed type char byte_805C602;
// 805C603: using guessed type char byte_805C603;
// 805C762: using guessed type int dword_805C762;
// 805CC32: using guessed type int dword_805CC32;
// 805CC36: using guessed type int dword_805CC36;
// 805CC42: using guessed type int dword_805CC42;
// 805CC4A: using guessed type int dword_805CC4A;
// 805CC4E: using guessed type int dword_805CC4E;
// 805CC5A: using guessed type int dword_805CC5A;
// 805CC62: using guessed type int dword_805CC62;
// 805CC66: using guessed type int dword_805CC66;

//----- (0804D1AD) --------------------------------------------------------
#error "804D42E: call analysis failed (funcsize=288)"

//----- (0804D645) --------------------------------------------------------
size_t sub_804D645()
{
  size_t result; // eax
  int v1; // [esp+0h] [ebp-28h]
  int v2; // [esp+18h] [ebp-10h]
  char *v3; // [esp+1Ch] [ebp-Ch]

  dword_805CC32 = 0;
  dword_805CC36 = 0;
  byte_805CC3A = 0;
  dword_805CC56 = 0;
  dword_805CC5A = 0;
  byte_805CC5E = 0;
  v3 = (char *)ptr;
  v2 = 0;
  dword_805C19C = (int)&loc_804D6F3;
  sub_80566EE(v1);
  do
  {
    sub_804C0EF(v3);
    if ( dword_805C606 == 2 )
    {
      sub_804CD02();
    }
    else if ( (unsigned int)dword_805C606 < 2 )
    {
      sub_804D1AD();
    }
    else if ( dword_805C606 == 3 )
    {
      sub_804CF0C();
    }
    v3 += 28;
    ++v2;
    result = nmemb;
  }
  while ( (signed int)nmemb > v2 );
  return result;
}
// 804C0EF: using guessed type _DWORD __cdecl sub_804C0EF(_DWORD);
// 804D1AD: using guessed type int sub_804D1AD(void);
// 80566EE: using guessed type int __stdcall sub_80566EE(_DWORD);
// 805C19C: using guessed type int dword_805C19C;
// 805C606: using guessed type int dword_805C606;
// 805CC32: using guessed type int dword_805CC32;
// 805CC36: using guessed type int dword_805CC36;
// 805CC3A: using guessed type char byte_805CC3A;
// 805CC5A: using guessed type int dword_805CC5A;
// 805CC5E: using guessed type char byte_805CC5E;

//----- (0804D6FF) --------------------------------------------------------
void __cdecl __noreturn sub_804D6FF(int status)
{
  int v1; // ebx
  char *v2; // eax
  int v3; // esi
  int v4; // ebx
  char *v5; // eax
  FILE *v6; // ebx
  char *v7; // eax
  FILE *v8; // ebx
  char *v9; // eax
  FILE *v10; // ebx
  char *v11; // eax
  FILE *v12; // ebx
  char *v13; // eax
  FILE *v14; // ebx
  char *v15; // eax
  FILE *v16; // ebx
  char *v17; // eax
  FILE *v18; // ebx
  char *v19; // eax
  FILE *v20; // ebx
  char *v21; // eax

  if ( status )
  {
    v1 = dword_805CC72;
    v2 = gettext("Try '%s --help' for more information.\n");
    fprintf(stderr, v2, v1);
  }
  else
  {
    v3 = dword_805CC72;
    v4 = dword_805CC72;
    v5 = gettext("Usage: %s [OPTION]... [INPUT]...   (without -G)\n  or:  %s -G [OPTION]... [INPUT [OUTPUT]]\n");
    printf(v5, v4, v3);
    v6 = stdout;
    v7 = gettext("Output a permuted index, including context, of the words in the input files.\n");
    fputs_unlocked(v7, v6);
    sub_804A14F();
    sub_804A17A();
    v8 = stdout;
    v9 = gettext(
           "  -A, --auto-reference           output automatically generated references\n"
           "  -G, --traditional              behave more like System V 'ptx'\n");
    fputs_unlocked(v9, v8);
    v10 = stdout;
    v11 = gettext(
            "  -F, --flag-truncation=STRING   use STRING for flagging line truncations.\n"
            "                                 The default is '/'\n");
    fputs_unlocked(v11, v10);
    v12 = stdout;
    v13 = gettext(
            "  -M, --macro-name=STRING        macro name to use instead of 'xx'\n"
            "  -O, --format=roff              generate output as roff directives\n"
            "  -R, --right-side-refs          put references at right, not counted in -w\n"
            "  -S, --sentence-regexp=REGEXP   for end of lines or end of sentences\n"
            "  -T, --format=tex               generate output as TeX directives\n");
    fputs_unlocked(v13, v12);
    v14 = stdout;
    v15 = gettext(
            "  -W, --word-regexp=REGEXP       use REGEXP to match each keyword\n"
            "  -b, --break-file=FILE          word break characters in this FILE\n"
            "  -f, --ignore-case              fold lower case to upper case for sorting\n"
            "  -g, --gap-size=NUMBER          gap size in columns between output fields\n"
            "  -i, --ignore-file=FILE         read ignore word list from FILE\n"
            "  -o, --only-file=FILE           read only word list from this FILE\n");
    fputs_unlocked(v15, v14);
    v16 = stdout;
    v17 = gettext(
            "  -r, --references               first field of each line is a reference\n"
            "  -t, --typeset-mode               - not implemented -\n"
            "  -w, --width=NUMBER             output width in columns, reference excluded\n");
    fputs_unlocked(v17, v16);
    v18 = stdout;
    v19 = gettext("      --help     display this help and exit\n");
    fputs_unlocked(v19, v18);
    v20 = stdout;
    v21 = gettext("      --version  output version information and exit\n");
    fputs_unlocked(v21, v20);
    sub_804A1A5("ptx");
  }
  exit(status);
}
// 80492B0: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);
// 805CC72: using guessed type int dword_805CC72;

//----- (0804D873) --------------------------------------------------------
#error "804E1B4: call analysis failed (funcsize=396)"

//----- (0804E261) --------------------------------------------------------
void __noreturn sub_804E261()
{
  sub_804D6FF(1);
}

//----- (0804E275) --------------------------------------------------------
int __cdecl sub_804E275(char *s, int a2)
{
  void *v2; // eax
  int v4; // [esp+0h] [ebp-28h]
  signed int i; // [esp+14h] [ebp-14h]
  signed int v6; // [esp+18h] [ebp-10h]
  size_t n; // [esp+1Ch] [ebp-Ch]

  v6 = -1;
  n = strlen(s);
  for ( i = 0; *(_DWORD *)(4 * i + a2); ++i )
  {
    if ( !strncmp(*(const char **)(4 * i + a2), s, n) )
    {
      if ( strlen(*(const char **)(4 * i + a2)) == n )
      {
        dword_805C1C4 = (int)&locret_804E3B9;
        sub_8056602(v4);
      }
      v2 = &loc_804E336;
      if ( v6 != -1 )
        v2 = &loc_804E33E;
      dword_805C1C4 = (int)v2;
      sub_8056602(v4);
      v6 = i;
    }
  }
  return v6;
}
// 8056602: using guessed type int __stdcall sub_8056602(_DWORD);
// 805C1C4: using guessed type int dword_805C1C4;

//----- (0804E3BB) --------------------------------------------------------
void __cdecl sub_804E3BB(int a1, int a2, int a3)
{
  char *v3; // eax
  char *format; // ST2C_4
  int v5; // ebx
  int v6; // eax

  if ( a3 == -1 )
    v3 = gettext("invalid argument %s for %s");
  else
    v3 = gettext("ambiguous argument %s for %s");
  format = v3;
  v5 = sub_8051214(1, a1);
  v6 = sub_8050D13(0, 8, a2);
  error(0, 0, format, v6, v5);
}

//----- (0804E43E) --------------------------------------------------------
int __cdecl sub_804E43E(int a1, int a2, size_t n)
{
  FILE *v3; // ebx
  char *v4; // eax
  int v6; // [esp+0h] [ebp-28h]
  const void *v7; // [esp+4h] [ebp-24h]
  int v8; // [esp+8h] [ebp-20h]
  int v9; // [esp+Ch] [ebp-1Ch]
  int v10; // [esp+10h] [ebp-18h]
  int v11; // [esp+14h] [ebp-14h]
  int v12; // [esp+18h] [ebp-10h]
  void *s1; // [esp+1Ch] [ebp-Ch]
  int v14; // [esp+20h] [ebp-8h]
  int v15; // [esp+24h] [ebp-4h]
  int savedregs; // [esp+28h] [ebp+0h]

  v3 = stderr;
  v4 = gettext("Valid arguments are:");
  fputs_unlocked(v4, v3);
  dword_805C188 = (int)&loc_804E543;
  sub_8056764(v6, v7, v8, v9, v10, v11, 0, 0, v14, v15, savedregs);
  do
  {
    if ( v12 && (v7 = (const void *)(a2 + v12 * n), !memcmp(s1, v7, n)) )
    {
      v8 = sub_8051236(*(_DWORD *)(4 * v12 + a1));
      fprintf(stderr, ", %s", v8);
    }
    else
    {
      v8 = sub_8051236(*(_DWORD *)(4 * v12 + a1));
      fprintf(stderr, "\n  - %s", v8);
      s1 = (void *)(v12 * n + a2);
    }
    ++v12;
  }
  while ( *(_DWORD *)(4 * v12 + a1) );
  return putc_unlocked(10, stderr);
}
// 80492B0: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);
// 8056764: using guessed type int __stdcall sub_8056764(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C188: using guessed type int dword_805C188;

//----- (0804E577) --------------------------------------------------------
int __cdecl sub_804E577(int a1, char *s, int a3, int a4, size_t n, int a6)
{
  int v7; // [esp+8h] [ebp-20h]
  size_t v8; // [esp+Ch] [ebp-1Ch]
  int v9; // [esp+1Ch] [ebp-Ch]

  v8 = n;
  v7 = a4;
  v9 = sub_804E275(s, a3);
  if ( v9 >= 0 )
    return v9;
  sub_804E3BB(a1, (int)s, v9);
  sub_804E43E(a3, a4, n);
  ((void (*)(void))a6)();
  return -1;
}

//----- (0804E6A7) --------------------------------------------------------
void __noreturn sub_804E6A7()
{
  int v0; // ebx
  int *v1; // eax
  int *v2; // eax
  bool v3; // zf
  int (*v4)(); // eax
  int v5; // [esp+0h] [ebp-38h]
  char *v6; // [esp+2Ch] [ebp-Ch]

  if ( sub_8052FFF(stdout) && (byte_805CC6E != 1 || *__errno_location() != 32) )
  {
    v6 = gettext("write error");
    if ( dword_805CC6A )
    {
      v0 = sub_8050EEC(dword_805CC6A);
      v1 = __errno_location();
      error(0, *v1, "%s: %s", v0, v6);
    }
    else
    {
      v2 = __errno_location();
      error(0, *v2, "%s", v6);
    }
    _exit(status);
  }
  v3 = sub_8052FFF(stderr) == 0;
  v4 = (int (*)())&loc_804E791;
  if ( v3 )
    v4 = sub_804E79E;
  dword_805C1B0 = (int)v4;
  sub_8056678(v5);
  _exit(status);
}
// 804E79E: using guessed type int sub_804E79E();
// 8056678: using guessed type int __stdcall sub_8056678(_DWORD);
// 805C1B0: using guessed type int dword_805C1B0;
// 805CC6A: using guessed type int dword_805CC6A;
// 805CC6E: using guessed type char byte_805CC6E;

//----- (0804E79E) --------------------------------------------------------
#error "804E7A1: positive sp value has been found (funcsize=0)"

//----- (0804E7A4) --------------------------------------------------------
int __cdecl sub_804E7A4(int a1)
{
  int v1; // eax
  bool v2; // zf
  void *v3; // eax
  int v5; // [esp+0h] [ebp-28h]
  int fd; // [esp+1Ch] [ebp-Ch]

  v1 = open64("/dev/null", 0);
  fd = v1;
  v2 = v1 == a1;
  v3 = &loc_804E7E2;
  if ( v2 )
    v3 = &loc_804E805;
  dword_805C19C = (int)v3;
  sub_80566EE(v5);
  if ( fd >= 0 )
  {
    close(fd);
    *__errno_location() = 9;
  }
  return 0;
}
// 8049000: using guessed type int __cdecl open64(_DWORD, _DWORD);
// 80566EE: using guessed type int __stdcall sub_80566EE(_DWORD);
// 805C19C: using guessed type int dword_805C19C;

//----- (0804E80C) --------------------------------------------------------
#error "804E8BD: call analysis failed (funcsize=113)"

//----- (0804E9AD) --------------------------------------------------------
char *__cdecl sub_804E9AD(char *s)
{
  char *v1; // eax
  bool v2; // zf
  void *v3; // eax
  char *result; // eax
  int v5; // [esp+0h] [ebp-28h]
  char *v6; // [esp+18h] [ebp-10h]

  if ( !s )
  {
    fwrite("A NULL argv[0] was passed through an exec system call.\n", 1u, 0x37u, stderr);
    abort();
  }
  v1 = strrchr(s, 47);
  v6 = v1;
  v2 = v1 == 0;
  v3 = &loc_804EA18;
  if ( v2 )
    v3 = &loc_804EA20;
  dword_805C19C = (int)v3;
  sub_80566EE(v5);
  if ( v6 + 1 - s > 6 && !strncmp(v6 - 6, "/.libs/", 7u) )
  {
    s = v6 + 1;
    if ( !strncmp(v6 + 1, "lt-", 3u) )
    {
      s = v6 + 4;
      program_invocation_short_name = (int)(v6 + 4);
    }
  }
  dword_805CC72 = (int)s;
  result = s;
  program_invocation_name = (int)s;
  return result;
}
// 80566EE: using guessed type int __stdcall sub_80566EE(_DWORD);
// 805C19C: using guessed type int dword_805C19C;
// 805C2A0: using guessed type int program_invocation_short_name;
// 805C2B0: using guessed type int program_invocation_name;
// 805CC72: using guessed type int dword_805CC72;

//----- (0804EA9F) --------------------------------------------------------
#error "804EF44: call analysis failed (funcsize=343)"

//----- (0804F091) --------------------------------------------------------
void __cdecl __noreturn sub_804F091(char *msgid)
{
  gettext(msgid);
  sub_8053655();
}

//----- (0804F3FE) --------------------------------------------------------
int __cdecl sub_804F3FE(int *a1, unsigned __int8 a2, char a3)
{
  int *v3; // eax
  int *v4; // eax
  int v5; // ST10_4

  if ( a1 )
    v3 = a1;
  else
    v3 = &dword_805CC82;
  v4 = &v3[(a2 >> 5) + 2];
  v5 = ((unsigned int)*v4 >> (a2 & 0x1F)) & 1;
  *v4 ^= (v5 ^ a3 & 1) << (a2 & 0x1F);
  return v5;
}
// 805CC82: using guessed type int dword_805CC82;

//----- (0804F4C8) --------------------------------------------------------
int *__cdecl sub_804F4C8(int *a1, int a2, int a3)
{
  int *result; // eax

  if ( !a1 )
    a1 = &dword_805CC82;
  *a1 = 10;
  if ( !a2 || !a3 )
    abort();
  a1[10] = a2;
  result = a1;
  a1[11] = a3;
  return result;
}
// 805CC82: using guessed type int dword_805CC82;

//----- (0804F509) --------------------------------------------------------
#error "804F51B: call analysis failed (funcsize=13)"

//----- (0804F52E) --------------------------------------------------------
#error "804F5DC: positive sp value has been found (funcsize=53)"

//----- (0804F5E0) --------------------------------------------------------
char *__cdecl sub_804F5E0(char *msgid)
{
  char *v2; // [esp+18h] [ebp-10h]

  v2 = gettext(msgid);
  if ( v2 == msgid )
    sub_8053655();
  return v2;
}

//----- (0804F6AC) --------------------------------------------------------
#error "804FFDF: call analysis failed (funcsize=1054)"

//----- (08050723) --------------------------------------------------------
#error "8050782: call analysis failed (funcsize=32)"

//----- (08050787) --------------------------------------------------------
#error "805089D: positive sp value has been found (funcsize=77)"

//----- (08050938) --------------------------------------------------------
#error "8050ADC: call analysis failed (funcsize=92)"

//----- (08050AE1) --------------------------------------------------------
#error "8050C70: positive sp value has been found (funcsize=104)"

//----- (08050C73) --------------------------------------------------------
int __cdecl sub_8050C73(int a1, int a2)
{
  return sub_8050938(a1, a2, -1, &dword_805CC82);
}
// 8050938: using guessed type _DWORD __cdecl sub_8050938(_DWORD, _DWORD, _DWORD, _DWORD);
// 805CC82: using guessed type int dword_805CC82;

//----- (08050C9D) --------------------------------------------------------
int __cdecl sub_8050C9D(int a1, int a2, int a3)
{
  return sub_8050938(a1, a2, a3, &dword_805CC82);
}
// 8050938: using guessed type _DWORD __cdecl sub_8050938(_DWORD, _DWORD, _DWORD, _DWORD);
// 805CC82: using guessed type int dword_805CC82;

//----- (08050D13) --------------------------------------------------------
int __cdecl sub_8050D13(int a1, int a2, int a3)
{
  char v4; // [esp+10h] [ebp-38h]

  sub_804F509(&v4, a2);
  return sub_8050938(a1, a3, -1, &v4);
}
// 804F509: using guessed type int __cdecl sub_804F509(_DWORD, _DWORD);
// 8050938: using guessed type _DWORD __cdecl sub_8050938(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (08050D51) --------------------------------------------------------
int __cdecl sub_8050D51(int a1, int a2, int a3, int a4)
{
  char v5; // [esp+10h] [ebp-38h]

  sub_804F509(&v5, a2);
  return sub_8050938(a1, a3, a4, &v5);
}
// 804F509: using guessed type int __cdecl sub_804F509(_DWORD, _DWORD);
// 8050938: using guessed type _DWORD __cdecl sub_8050938(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (08050DE9) --------------------------------------------------------
int __cdecl sub_8050DE9(int a1, int a2, unsigned __int8 a3)
{
  int v4; // [esp+0h] [ebp-58h]
  unsigned __int8 v5; // [esp+1Ch] [ebp-3Ch]
  int v6; // [esp+20h] [ebp-38h]
  int v7; // [esp+24h] [ebp-34h]
  int v8; // [esp+28h] [ebp-30h]
  int v9; // [esp+2Ch] [ebp-2Ch]
  int v10; // [esp+30h] [ebp-28h]
  int v11; // [esp+34h] [ebp-24h]
  int v12; // [esp+38h] [ebp-20h]
  int v13; // [esp+3Ch] [ebp-1Ch]
  int v14; // [esp+40h] [ebp-18h]
  int v15; // [esp+44h] [ebp-14h]
  int v16; // [esp+48h] [ebp-10h]
  int v17; // [esp+4Ch] [ebp-Ch]

  v5 = a3;
  v6 = dword_805CC82;
  v7 = dword_805CC86;
  v8 = dword_805CC8A;
  v9 = dword_805CC8E;
  v10 = dword_805CC92;
  v11 = dword_805CC96;
  v12 = dword_805CC9A;
  v13 = dword_805CC9E;
  v14 = dword_805CCA2;
  v15 = dword_805CCA6;
  v16 = dword_805CCAA;
  v17 = dword_805CCAE;
  sub_804F3FE(&v4 - 14, a3, 1);
  return sub_8050938(0, a1, a2, &v6);
}
// 8050938: using guessed type _DWORD __cdecl sub_8050938(_DWORD, _DWORD, _DWORD, _DWORD);
// 805CC82: using guessed type int dword_805CC82;
// 805CC86: using guessed type int dword_805CC86;
// 805CC8A: using guessed type int dword_805CC8A;
// 805CC8E: using guessed type int dword_805CC8E;
// 805CC92: using guessed type int dword_805CC92;
// 805CC96: using guessed type int dword_805CC96;
// 805CC9A: using guessed type int dword_805CC9A;
// 805CC9E: using guessed type int dword_805CC9E;
// 805CCA2: using guessed type int dword_805CCA2;
// 805CCA6: using guessed type int dword_805CCA6;
// 805CCAA: using guessed type int dword_805CCAA;
// 805CCAE: using guessed type int dword_805CCAE;

//----- (08050EB3) --------------------------------------------------------
int __cdecl sub_8050EB3(int a1, unsigned __int8 a2)
{
  return sub_8050DE9(a1, -1, a2);
}

//----- (08050EEC) --------------------------------------------------------
int __cdecl sub_8050EEC(int a1)
{
  return sub_8050EB3(a1, 0x3Au);
}

//----- (08050F29) --------------------------------------------------------
int __cdecl sub_8050F29(int a1, int a2, int a3)
{
  int v4; // [esp-4h] [ebp-7Ch]
  int v5; // [esp+10h] [ebp-68h]
  int v6; // [esp+14h] [ebp-64h]
  int v7; // [esp+18h] [ebp-60h]
  int v8; // [esp+1Ch] [ebp-5Ch]
  int v9; // [esp+20h] [ebp-58h]
  int v10; // [esp+24h] [ebp-54h]
  int v11; // [esp+28h] [ebp-50h]
  int v12; // [esp+2Ch] [ebp-4Ch]
  int v13; // [esp+30h] [ebp-48h]
  int v14; // [esp+34h] [ebp-44h]
  int v15; // [esp+38h] [ebp-40h]
  int v16; // [esp+3Ch] [ebp-3Ch]
  int v17; // [esp+40h] [ebp-38h]
  int v18; // [esp+44h] [ebp-34h]
  int v19; // [esp+48h] [ebp-30h]
  int v20; // [esp+4Ch] [ebp-2Ch]
  int v21; // [esp+50h] [ebp-28h]
  int v22; // [esp+54h] [ebp-24h]
  int v23; // [esp+58h] [ebp-20h]
  int v24; // [esp+5Ch] [ebp-1Ch]
  int v25; // [esp+60h] [ebp-18h]
  int v26; // [esp+64h] [ebp-14h]
  int v27; // [esp+68h] [ebp-10h]
  int v28; // [esp+6Ch] [ebp-Ch]

  sub_804F509(&v5, a2);
  v17 = v5;
  v18 = v6;
  v19 = v7;
  v20 = v8;
  v21 = v9;
  v22 = v10;
  v23 = v11;
  v24 = v12;
  v25 = v13;
  v26 = v14;
  v27 = v15;
  v28 = v16;
  sub_804F3FE(&v4 - 14, 0x3Au, 1);
  return sub_8050938(a1, a3, -1, &v17);
}
// 804F509: using guessed type int __cdecl sub_804F509(_DWORD, _DWORD);
// 8050938: using guessed type _DWORD __cdecl sub_8050938(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (08050FFA) --------------------------------------------------------
int __cdecl sub_8050FFA(int a1, int a2, int a3, int a4)
{
  return sub_805103A(a1, a2, a3, a4, -1);
}

//----- (0805103A) --------------------------------------------------------
int __cdecl sub_805103A(int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [esp+0h] [ebp-48h]
  int v7; // [esp+10h] [ebp-38h]
  int v8; // [esp+14h] [ebp-34h]
  int v9; // [esp+18h] [ebp-30h]
  int v10; // [esp+1Ch] [ebp-2Ch]
  int v11; // [esp+20h] [ebp-28h]
  int v12; // [esp+24h] [ebp-24h]
  int v13; // [esp+28h] [ebp-20h]
  int v14; // [esp+2Ch] [ebp-1Ch]
  int v15; // [esp+30h] [ebp-18h]
  int v16; // [esp+34h] [ebp-14h]
  int v17; // [esp+38h] [ebp-10h]
  int v18; // [esp+3Ch] [ebp-Ch]

  v7 = dword_805CC82;
  v8 = dword_805CC86;
  v9 = dword_805CC8A;
  v10 = dword_805CC8E;
  v11 = dword_805CC92;
  v12 = dword_805CC96;
  v13 = dword_805CC9A;
  v14 = dword_805CC9E;
  v15 = dword_805CCA2;
  v16 = dword_805CCA6;
  v17 = dword_805CCAA;
  v18 = dword_805CCAE;
  sub_804F4C8(&v6 - 14, a2, a3);
  return sub_8050938(a1, a4, a5, &v7);
}
// 8050938: using guessed type _DWORD __cdecl sub_8050938(_DWORD, _DWORD, _DWORD, _DWORD);
// 805CC82: using guessed type int dword_805CC82;
// 805CC86: using guessed type int dword_805CC86;
// 805CC8A: using guessed type int dword_805CC8A;
// 805CC8E: using guessed type int dword_805CC8E;
// 805CC92: using guessed type int dword_805CC92;
// 805CC96: using guessed type int dword_805CC96;
// 805CC9A: using guessed type int dword_805CC9A;
// 805CC9E: using guessed type int dword_805CC9E;
// 805CCA2: using guessed type int dword_805CCA2;
// 805CCA6: using guessed type int dword_805CCA6;
// 805CCAA: using guessed type int dword_805CCAA;
// 805CCAE: using guessed type int dword_805CCAE;

//----- (08051194) --------------------------------------------------------
#error "80511B1: call analysis failed (funcsize=11)"

//----- (080511B6) --------------------------------------------------------
int __cdecl sub_80511B6(int a1, int a2, int a3, int a4)
{
  return sub_8050938(a4, &unk_805C264, a4, &unk_805C264);
}
// 8050938: using guessed type _DWORD __cdecl sub_8050938(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (08051214) --------------------------------------------------------
int __cdecl sub_8051214(int a1, int a2)
{
  return sub_8051194(a1, a2, -1);
}
// 8051194: using guessed type int __cdecl sub_8051194(_DWORD, _DWORD, _DWORD);

//----- (08051236) --------------------------------------------------------
int __cdecl sub_8051236(int a1)
{
  return sub_8051214(0, a1);
}

//----- (08051251) --------------------------------------------------------
char *__cdecl sub_8051251(FILE *stream, int a2)
{
  int v2; // eax
  __int64 v3; // rax
  void *v5; // eax
  bool v6; // zf
  void *v7; // eax
  int v8; // ST24_4
  int v9; // edx
  int v10; // ecx
  int v11; // ST08_4
  int v12; // ST0C_4
  int v13; // ST10_4
  int v14; // ST14_4
  void *v15; // ST18_4
  size_t v16; // ST1C_4
  int v17; // ST20_4
  size_t v18; // ST28_4
  int v19; // ST2C_4
  int v20; // ST30_4
  int v21; // ST34_4
  int v22; // ST38_4
  int v23; // ST3C_4
  int v24; // ST40_4
  int v25; // ST44_4
  char *v26; // ST34_4
  int v27; // [esp+0h] [ebp-A8h]
  int v28; // [esp+4h] [ebp-A4h]
  int v29; // [esp+4h] [ebp-A4h]
  int v30; // [esp+8h] [ebp-A0h]
  int v31; // [esp+8h] [ebp-A0h]
  int v32; // [esp+Ch] [ebp-9Ch]
  int v33; // [esp+Ch] [ebp-9Ch]
  char *ptr; // [esp+10h] [ebp-98h]
  unsigned int size; // [esp+14h] [ebp-94h]
  int sizea; // [esp+14h] [ebp-94h]
  int v37; // [esp+18h] [ebp-90h]
  int v38; // [esp+18h] [ebp-90h]
  unsigned int v39; // [esp+18h] [ebp-90h]
  int v40; // [esp+1Ch] [ebp-8Ch]
  signed int v41; // [esp+1Ch] [ebp-8Ch]
  size_t n; // [esp+20h] [ebp-88h]
  size_t v43; // [esp+24h] [ebp-84h]
  int v44; // [esp+28h] [ebp-80h]
  char *v45; // [esp+28h] [ebp-80h]
  void *v46; // [esp+2Ch] [ebp-7Ch]
  __int64 v47; // [esp+30h] [ebp-78h]
  __int64 v48; // [esp+38h] [ebp-70h]
  char v49; // [esp+40h] [ebp-68h]
  int v50; // [esp+44h] [ebp-64h]
  int v51; // [esp+48h] [ebp-60h]
  int v52; // [esp+4Ch] [ebp-5Ch]
  int v53; // [esp+50h] [ebp-58h]
  int v54; // [esp+54h] [ebp-54h]
  int v55; // [esp+58h] [ebp-50h]
  __int64 v56; // [esp+6Ch] [ebp-3Ch]

  size = 0x2000;
  v2 = fileno(stream);
  if ( sub_8056405(v2, (int)&v49) >= 0 && (v53 & 0xF000) == 0x8000 )
  {
    LODWORD(v3) = ftello64();
    v47 = v3;
    if ( v3 >= 0 && v56 > v3 )
    {
      v48 = v56 - v3;
      if ( v56 - v3 > 4294967294LL )
      {
        *__errno_location() = 12;
        dword_805C174 = (int)&locret_8051526;
        sub_80567D4(stream, v28, v30, v32, 0, 0x2000, v37);
      }
      size = v48 + 1;
    }
  }
  ptr = (char *)malloc(size);
  if ( !ptr )
    return 0;
  v38 = 0;
  while ( 1 )
  {
    n = size - v38;
    v43 = fread(&ptr[v38], 1u, size - v38, stream);
    v39 = v43 + v38;
    if ( v43 != n )
      break;
    if ( size == -1 )
    {
      v41 = 12;
      goto LABEL_25;
    }
    if ( ~(size >> 1) <= size )
      sizea = -1;
    else
      sizea = (size >> 1) + size;
    v5 = realloc(ptr, sizea);
    v46 = v5;
    v6 = v5 == 0;
    v7 = &loc_80514D4;
    if ( !v6 )
      v7 = &loc_80514F8;
    dword_805C1D8 = (int)v7;
    sub_8056592(
      v27,
      v29,
      v31,
      v33,
      ptr,
      sizea,
      v39,
      v40,
      n,
      v43,
      v44,
      v46,
      v47,
      HIDWORD(v47),
      v48,
      HIDWORD(v48),
      *(_DWORD *)&v49,
      v50,
      v51,
      v52,
      v53,
      v54,
      v55);
    v8 = *__errno_location();
    dword_805C160 = (int)&loc_8051506;
    sub_8056844(
      v10,
      v9,
      v11,
      v12,
      v13,
      v14,
      v15,
      v16,
      v17,
      v8,
      v18,
      v19,
      v20,
      v21,
      v22,
      v23,
      v24,
      v25,
      *(_DWORD *)&v49,
      v50);
    ptr = v26;
  }
  v41 = *__errno_location();
  if ( ferror(stream) )
  {
LABEL_25:
    free(ptr);
    *__errno_location() = v41;
    return 0;
  }
  if ( size - 1 > v39 )
  {
    v45 = (char *)realloc(ptr, v39 + 1);
    if ( v45 )
      ptr = v45;
  }
  ptr[v39] = 0;
  *(_DWORD *)a2 = v39;
  return ptr;
}
// 8049280: using guessed type int ftello64(void);
// 8056592: using guessed type int __stdcall sub_8056592(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 80567D4: using guessed type int __stdcall sub_80567D4(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C160: using guessed type int dword_805C160;
// 805C174: using guessed type int dword_805C174;
// 805C1D8: using guessed type int dword_805C1D8;

//----- (08051528) --------------------------------------------------------
char *__cdecl sub_8051528(int a1, int a2)
{
  int v3; // [esp+14h] [ebp-14h]
  FILE *stream; // [esp+18h] [ebp-10h]
  char *ptr; // [esp+1Ch] [ebp-Ch]

  stream = (FILE *)fopen64();
  if ( !stream )
  {
    dword_805C1C4 = (int)&locret_80515C2;
    sub_8056602(a1);
  }
  ptr = sub_8051251(stream, a2);
  v3 = *__errno_location();
  if ( !sub_8052C9B(stream) )
    return ptr;
  if ( ptr )
  {
    v3 = *__errno_location();
    free(ptr);
  }
  *__errno_location() = v3;
  return 0;
}
// 8049160: using guessed type int fopen64(void);
// 8056602: using guessed type int __stdcall sub_8056602(_DWORD);
// 805C1C4: using guessed type int dword_805C1C4;

//----- (080515C4) --------------------------------------------------------
char *__cdecl sub_80515C4(int a1, int a2)
{
  return sub_8051528(a1, a2);
}

//----- (08051608) --------------------------------------------------------
#error "8051A13: call analysis failed (funcsize=293)"

//----- (08051A45) --------------------------------------------------------
#error "8051ECC: call analysis failed (funcsize=424)"

//----- (080521E3) --------------------------------------------------------
#error "805226F: call analysis failed (funcsize=42)"

//----- (08052274) --------------------------------------------------------
#error "8052292: positive sp value has been found (funcsize=0)"

//----- (08052293) --------------------------------------------------------
int sub_8052293(int a1, int a2, int a3, int a4, ...)
{
  va_list va; // [esp+50h] [ebp+14h]

  va_start(va, a4);
  return sub_80521E3(a1, a2, a3, a4, (int *)va);
}
// 80521E3: using guessed type _DWORD __cdecl sub_80521E3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (08052353) --------------------------------------------------------
void *__cdecl sub_8052353(unsigned int a1, unsigned int a2)
{
  if ( 0x7FFFFFFF / a2 < a1 )
    sub_80525E2();
  return sub_8052460(a2 * a1);
}

//----- (080523B6) --------------------------------------------------------
void *__cdecl sub_80523B6(void *ptr, int a2, int a3)
{
  unsigned int v4; // [esp+1Ch] [ebp-Ch]

  v4 = *(_DWORD *)a2;
  if ( ptr )
  {
    if ( 0x55555554u / a3 <= v4 )
      sub_80525E2();
    v4 += (v4 >> 1) + 1;
  }
  else
  {
    if ( !v4 )
      v4 = (0x40u / a3 == 0) + 0x40u / a3;
    if ( 0x7FFFFFFFu / a3 < v4 )
      sub_80525E2();
  }
  *(_DWORD *)a2 = v4;
  return sub_80524A3(ptr, a3 * v4);
}

//----- (0805244D) --------------------------------------------------------
void *__cdecl sub_805244D(size_t size)
{
  return sub_8052460(size);
}

//----- (08052460) --------------------------------------------------------
void *__cdecl sub_8052460(size_t size)
{
  void *v1; // eax
  bool v2; // zf
  void *v3; // eax
  int v5; // [esp+0h] [ebp-28h]
  void *v6; // [esp+1Ch] [ebp-Ch]

  v1 = malloc(size);
  v6 = v1;
  v2 = v1 == 0;
  v3 = &loc_8052493;
  if ( !v2 )
    v3 = &loc_805249E;
  dword_805C19C = (int)v3;
  sub_80566EE(v5);
  if ( size )
    sub_80525E2();
  return v6;
}
// 80566EE: using guessed type int __stdcall sub_80566EE(_DWORD);
// 805C19C: using guessed type int dword_805C19C;

//----- (080524A3) --------------------------------------------------------
void *__cdecl sub_80524A3(void *ptr, size_t size)
{
  void *v2; // eax
  void *result; // eax
  int v4; // [esp+0h] [ebp-18h]
  void *ptra; // [esp+20h] [ebp+8h]

  if ( size )
  {
    ptra = realloc(ptr, size);
    if ( !ptra && size )
      sub_80525E2();
    result = ptra;
  }
  else
  {
    v2 = &loc_80524CE;
    if ( !ptr )
      v2 = &loc_80524E0;
    dword_805C1C4 = (int)v2;
    sub_8056602(v4);
    free(ptr);
    result = 0;
  }
  return result;
}
// 8056602: using guessed type int __stdcall sub_8056602(_DWORD);
// 805C1C4: using guessed type int dword_805C1C4;

//----- (08052594) --------------------------------------------------------
void *__cdecl sub_8052594(void *src, size_t n)
{
  void *v2; // eax

  v2 = sub_8052460(n);
  return memcpy(v2, src, n);
}

//----- (080525E2) --------------------------------------------------------
void __noreturn sub_80525E2()
{
  char *v0; // eax

  v0 = gettext("memory exhausted");
  error(status, 0, "%s", v0);
  abort();
}

//----- (080526AE) --------------------------------------------------------
int __cdecl sub_80526AE(char *s, char *fromcode, char *tocode)
{
  bool v3; // zf
  void *v4; // eax
  int v6; // [esp+0h] [ebp-28h]
  int v7; // [esp+1Ch] [ebp-Ch]

  v7 = sub_80559A3(s, fromcode, tocode);
  if ( !v7 )
  {
    v3 = *__errno_location() == 12;
    v4 = &loc_80526FB;
    if ( !v3 )
      v4 = &loc_8052700;
    dword_805C1C4 = (int)v4;
    sub_8056602(v6);
    sub_80525E2();
  }
  return v7;
}
// 8056602: using guessed type int __stdcall sub_8056602(_DWORD);
// 805C1C4: using guessed type int dword_805C1C4;

//----- (08052705) --------------------------------------------------------
signed int __cdecl sub_8052705(unsigned int *a1, signed int a2)
{
  unsigned int v2; // ebx
  unsigned int v3; // esi
  signed __int64 v4; // rax
  signed int result; // eax
  __int64 v6; // rcx
  int v7; // edx
  int v8; // esi
  unsigned __int64 v9; // rax

  v2 = *a1;
  v3 = a1[1];
  LODWORD(v4) = sub_8056134(0, 2147483648, a2);
  if ( (signed __int64)__PAIR__(v3, v2) >= v4 )
  {
    LODWORD(v6) = sub_8056134(-1, 0x7FFFFFFF, a2);
    HIDWORD(v6) = v7;
    if ( v6 >= *(_QWORD *)a1 )
    {
      v8 = a2 * a1[1] + *a1 * (a2 >> 31);
      v9 = *a1 * (unsigned __int64)(unsigned int)a2;
      *a1 = v9;
      a1[1] = v8 + HIDWORD(v9);
      result = 0;
    }
    else
    {
      *a1 = -1;
      a1[1] = 0x7FFFFFFF;
      result = 1;
    }
  }
  else
  {
    *a1 = 0;
    a1[1] = 2147483648;
    result = 1;
  }
  return result;
}
// 8056134: using guessed type _DWORD __cdecl sub_8056134(_DWORD, _DWORD, _DWORD);

//----- (0805281F) --------------------------------------------------------
int __cdecl sub_805281F(unsigned int *a1, signed int a2, int a3)
{
  int v3; // eax
  int i; // [esp+1Ch] [ebp-Ch]

  for ( i = 0; ; i |= sub_8052705(a1, a2) )
  {
    v3 = a3--;
    if ( !v3 )
      break;
  }
  return i;
}

//----- (08052855) --------------------------------------------------------
#error "8052C0F: call analysis failed (funcsize=294)"

//----- (08052C9B) --------------------------------------------------------
#error "8052D08: call analysis failed (funcsize=55)"

//----- (08052D5E) --------------------------------------------------------
int __cdecl sub_8052D5E(_DWORD *a1)
{
  int result; // eax

  result = *a1 & 0x100;
  if ( result )
    result = sub_8052DD7(a1, 0, 0, 1);
  return result;
}
// 8052DD7: using guessed type int __cdecl sub_8052DD7(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (08052D97) --------------------------------------------------------
int __cdecl sub_8052D97(FILE *fp)
{
  if ( !fp || !__freading(fp) )
    return fflush(fp);
  sub_8052D5E(fp);
  return fflush(fp);
}

//----- (08052DD7) --------------------------------------------------------
#error "8052DF6: call analysis failed (funcsize=12)"

//----- (08052DFB) --------------------------------------------------------
int __cdecl sub_8052DFB(int a1, int a2, int a3, FILE *a4)
{
  int v4; // eax
  int v5; // edx
  FILE *v6; // edx
  bool v7; // zf
  void *v8; // eax
  int result; // eax
  int v10; // edx
  FILE *stream; // [esp+0h] [ebp-38h]
  int v12; // [esp+4h] [ebp-34h]
  FILE *v13; // [esp+8h] [ebp-30h]
  int v14; // [esp+Ch] [ebp-2Ch]
  int v15; // [esp+10h] [ebp-28h]
  int v16; // [esp+14h] [ebp-24h]
  int v17; // [esp+18h] [ebp-20h]
  int v18; // [esp+1Ch] [ebp-1Ch]
  int v19; // [esp+20h] [ebp-18h]
  int v20; // [esp+24h] [ebp-14h]
  int v21; // [esp+28h] [ebp-10h]
  int v22; // [esp+2Ch] [ebp-Ch]
  unsigned int v23; // [esp+30h] [ebp-8h]
  int v24; // [esp+34h] [ebp-4h]

  v17 = a3;
  *(&stream - 7) = a4;
  if ( v13->_IO_read_end != v13->_IO_read_ptr || v13->_IO_write_ptr != v13->_IO_write_base || v13->_IO_save_base )
  {
    v14 = v16;
    v10 = (int)*(&stream - 7);
    v12 = (int)*(&stream - 8);
    result = fseeko64(v10, v12, v10, v16, v15, v16, v17, v18, v19, v20, v21, v22, v23);
  }
  else
  {
    v4 = fileno(v13);
    v14 = v16;
    v5 = (int)*(&stream - 7);
    v12 = (int)*(&stream - 8);
    *(&stream - 4) = (FILE *)lseek64(v4, v12, v5, v16, v15, v16, v17, v18, v19, v20, v21, v22, v23);
    *(&stream - 3) = v6;
    v7 = *((_QWORD *)&stream - 2) == -1LL;
    v23 = ~(unsigned int)*(&stream - 3) | ~(unsigned int)*(&stream - 4);
    v8 = &loc_8052EB1;
    if ( !v7 )
      v8 = &loc_8052EB8;
    dword_805C1C4 = (int)v8;
    sub_8056602(v24);
    result = -1;
  }
  return result;
}
// 8052DFB: could not find valid save-restore pair for ebp
// 80490F0: using guessed type int __stdcall fseeko64(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8049430: using guessed type int __stdcall lseek64(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8056602: using guessed type int __stdcall sub_8056602(_DWORD);
// 805C1C4: using guessed type int dword_805C1C4;

//----- (08052F0F) --------------------------------------------------------
size_t __cdecl sub_8052F0F(wchar_t *pwc, char *s, size_t n, mbstate_t *p)
{
  char v5; // [esp+18h] [ebp-10h]
  size_t v6; // [esp+1Ch] [ebp-Ch]

  if ( !pwc )
    pwc = (wchar_t *)&v5;
  v6 = mbrtowc(pwc, s, n, p);
  if ( v6 <= 0xFFFFFFFD || !n || !((unsigned __int8)sub_8053099(0) ^ 1) )
    return v6;
  *pwc = (unsigned __int8)*s;
  return 1;
}

//----- (08052F81) --------------------------------------------------------
int __cdecl sub_8052F81(unsigned __int8 *a1, unsigned __int8 *a2)
{
  void *v3; // eax
  int v4; // [esp+0h] [ebp-28h]
  int v5; // [esp+4h] [ebp-24h]
  int v6; // [esp+8h] [ebp-20h]
  int v7; // [esp+Ch] [ebp-1Ch]
  int v8; // [esp+10h] [ebp-18h]
  int v9; // [esp+14h] [ebp-14h]
  int v10; // [esp+18h] [ebp-10h]
  unsigned __int8 v11; // [esp+1Eh] [ebp-Ah]
  unsigned __int8 v12; // [esp+1Fh] [ebp-9h]

  if ( a1 == a2 )
    return 0;
  v11 = sub_8055D5C(*a1);
  v12 = sub_8055D5C(*a2);
  if ( v11 )
  {
    v3 = &loc_8052FEC;
    if ( v11 == v12 )
      v3 = &loc_8052F9A;
    dword_805C174 = (int)v3;
    sub_80567D4(v4, v5, v6, v7, v8, v9, v10);
  }
  return v11 - v12;
}
// 80567D4: using guessed type int __stdcall sub_80567D4(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C174: using guessed type int dword_805C174;

//----- (08052FFF) --------------------------------------------------------
int __cdecl sub_8052FFF(FILE *fp)
{
  bool v1; // ST26_1
  void *v2; // eax
  int v4; // [esp+0h] [ebp-28h]
  bool v5; // [esp+1Dh] [ebp-Bh]
  bool v6; // [esp+1Fh] [ebp-9h]

  v5 = __fpending(fp) != 0;
  v1 = ferror_unlocked(fp) != 0;
  v6 = sub_8052C9B(fp) != 0;
  v2 = &loc_805305D;
  if ( v1 )
    v2 = &loc_8053075;
  dword_805C1B0 = (int)v2;
  sub_8056678(v4);
  if ( !v6 || !v5 && *__errno_location() == 9 )
    return 0;
  if ( v6 != 1 )
    *__errno_location() = 0;
  return -1;
}
// 8056678: using guessed type int __stdcall sub_8056678(_DWORD);
// 805C1B0: using guessed type int dword_805C1B0;

//----- (08053099) --------------------------------------------------------
int __cdecl sub_8053099(int category)
{
  unsigned __int8 v2; // [esp+1Bh] [ebp-Dh]
  const char *s1; // [esp+1Ch] [ebp-Ch]

  v2 = 1;
  s1 = setlocale(category, 0);
  if ( s1 && (!strcmp(s1, "C") || !strcmp(s1, "POSIX")) )
    v2 = 0;
  return v2;
}

//----- (080530F7) --------------------------------------------------------
int __fastcall __noreturn sub_80530F7(int a1, int a2)
{
  _BOOL4 v2; // eax
  int v3; // eax
  bool v4; // zf
  void *v5; // eax
  int (*v6)(); // eax
  int v8; // [esp+0h] [ebp-C8h]
  int v9; // [esp+0h] [ebp-C8h]
  int v10; // [esp+4h] [ebp-C4h]
  int v11; // [esp+8h] [ebp-C0h]
  int v12; // [esp+Ch] [ebp-BCh]
  int v13; // [esp+10h] [ebp-B8h]
  void *ptr; // [esp+14h] [ebp-B4h]
  void *v15; // [esp+18h] [ebp-B0h]
  const char *s; // [esp+1Ch] [ebp-ACh]
  _BYTE *v17; // [esp+20h] [ebp-A8h]
  int v18; // [esp+24h] [ebp-A4h]
  char *v19; // [esp+28h] [ebp-A0h]
  size_t n; // [esp+2Ch] [ebp-9Ch]
  size_t v21; // [esp+30h] [ebp-98h]
  _BOOL4 v22; // [esp+34h] [ebp-94h]
  char *dest; // [esp+38h] [ebp-90h]
  int fd; // [esp+3Ch] [ebp-8Ch]
  FILE *stream; // [esp+40h] [ebp-88h]
  int c; // [esp+44h] [ebp-84h]
  unsigned int v27; // [esp+BCh] [ebp-Ch]

  v27 = __readgsdword(0x14u);
  v15 = (void *)dword_805CDC2;
  if ( !dword_805CDC2 )
  {
    ptr = 0;
    v19 = (char *)&unk_80581F0;
    s = getenv("CHARSETALIASDIR");
    if ( !s || !*s )
    {
      ptr = 0;
      s = "/home/hwangdz/coreutils/coreutils-8.28/install_m32/lib";
    }
    n = strlen(s);
    v21 = strlen((const char *)&unk_80581F0);
    v2 = n && s[n - 1] != 47;
    v22 = v2;
    dest = (char *)malloc(n + v2 + v21 + 1);
    if ( dest )
    {
      memcpy(dest, s, n);
      if ( v22 )
        dest[n] = 47;
      memcpy(&dest[n + v22], &unk_80581F0, v21 + 1);
    }
    free(0);
    if ( dest )
    {
      fd = open64(dest, 0x20000);
      if ( fd >= 0 )
      {
        stream = fdopen(fd, "r");
        if ( stream )
        {
          v3 = getc_unlocked(stream);
          c = v3;
          v4 = v3 == -1;
          v5 = &loc_805338A;
          if ( !v4 )
            v5 = &loc_805338F;
          dword_805C188 = (int)v5;
          sub_8056764(v9, v10, v11, v12, v13, 0, v15, s, 0, 0, &unk_80581F0);
          sub_8052C9B(stream);
          if ( v18 )
          {
            v17[v18] = 0;
            v15 = v17;
          }
          else
          {
            v15 = &unk_8058247;
          }
        }
        else
        {
          close(fd);
          v15 = &unk_8058247;
        }
      }
      else
      {
        v15 = &unk_8058247;
      }
      free(dest);
    }
    else
    {
      v15 = &unk_8058247;
    }
    dword_805CDC2 = (int)v15;
  }
  v6 = (int (*)())&loc_8053647;
  if ( __readgsdword(0x14u) == v27 )
    v6 = sub_805364C;
  dword_805C160 = (int)v6;
  return sub_8056844(a1, a2, v8, v10, v11, v12, v13, ptr, v15, s, v17, v18, v19, n, v21, v22, dest, fd, stream, c);
}
// 8049000: using guessed type int __cdecl open64(_DWORD, _DWORD);
// 805364C: using guessed type int sub_805364C();
// 8056764: using guessed type int __stdcall sub_8056764(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C160: using guessed type int dword_805C160;
// 805C188: using guessed type int dword_805C188;
// 805CDC2: using guessed type int dword_805CDC2;

//----- (0805364C) --------------------------------------------------------
#error "8053652: positive sp value has been found (funcsize=0)"

//----- (08053655) --------------------------------------------------------
void __noreturn sub_8053655()
{
  int v0; // edx
  int v1; // ecx

  nl_langinfo(14);
  sub_80530F7(v1, v0);
}

//----- (08053721) --------------------------------------------------------
#error "8053741: call analysis failed (funcsize=90)"

//----- (08053AB7) --------------------------------------------------------
signed int __cdecl sub_8053AB7(_BYTE *a1, int a2, unsigned int a3, _DWORD *a4)
{
  void *v4; // esp
  unsigned int v5; // eax
  void *v7; // eax
  void *v8; // eax
  int v9; // [esp+0h] [ebp-38h]
  int v10; // [esp+4h] [ebp-34h]
  int v11; // [esp+8h] [ebp-30h]
  int v12; // [esp+Ch] [ebp-2Ch]
  int v13; // [esp+10h] [ebp-28h]
  int v14; // [esp+14h] [ebp-24h]
  unsigned int i; // [esp+14h] [ebp-24h]
  int v16; // [esp+18h] [ebp-20h]
  int v17; // [esp+18h] [ebp-20h]
  int v18; // [esp+1Ch] [ebp-1Ch]
  _BYTE *v19; // [esp+24h] [ebp-14h]
  unsigned int v20; // [esp+2Ch] [ebp-Ch]

  if ( a3 > 0x1FFFFFFF )
  {
    v5 = 0;
  }
  else
  {
    if ( 4 * a3 <= 0xFB7 )
    {
      v4 = alloca(16 * ((4 * (a3 + 2) + 30) / 0x10));
      dword_805C174 = (int)&loc_8053B61;
      sub_80567D4(v9, v10, v11, v12, v13, v14, v16);
    }
    v5 = sub_8055D92(4 * a3);
  }
  v20 = v5;
  if ( !v5 )
    return 0;
  *(_DWORD *)(v5 + 4) = 1;
  v17 = 0;
  for ( i = 2; i < a3; ++i )
  {
    v7 = &loc_8053BCD;
    if ( *(_BYTE *)(a2 + v17) != *(_BYTE *)(i - 1 + a2) )
      v7 = &loc_8053BFE;
    dword_805C1C4 = (int)v7;
    sub_8056602(v9);
    *(_DWORD *)(4 * i + v20) = i - ++v17;
  }
  *a4 = 0;
  v18 = 0;
  v19 = a1;
  while ( *v19 )
  {
    v8 = &loc_8053C92;
    if ( *(_BYTE *)(a2 + v18) != *v19 )
      v8 = &loc_8053CAC;
    dword_805C1B0 = (int)v8;
    sub_8056678(v9);
    ++v18;
    ++v19;
    if ( v18 == a3 )
    {
      *a4 = a1;
      break;
    }
  }
  sub_8055E47(v20);
  return 1;
}
// 8056602: using guessed type int __stdcall sub_8056602(_DWORD);
// 8056678: using guessed type int __stdcall sub_8056678(_DWORD);
// 80567D4: using guessed type int __stdcall sub_80567D4(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C174: using guessed type int dword_805C174;
// 805C1B0: using guessed type int dword_805C1B0;
// 805C1C4: using guessed type int dword_805C1C4;

//----- (08053D3C) --------------------------------------------------------
#error "80540B0: call analysis failed (funcsize=469)"

//----- (08054609) --------------------------------------------------------
#error "8054651: call analysis failed (funcsize=21)"

//----- (08054656) --------------------------------------------------------
#error "8054D1E: call analysis failed (funcsize=426)"

//----- (08054EFD) --------------------------------------------------------
#error "8054F03: positive sp value has been found (funcsize=0)"

//----- (08054F06) --------------------------------------------------------
#error "8055025: call analysis failed (funcsize=136)"

//----- (080551B0) --------------------------------------------------------
signed int __usercall sub_80551B0@<eax>(int a1@<ebx>, char *a2, size_t a3, void *a4, void **a5, size_t *a6)
{
  void *v7; // eax
  int v8; // [esp-28h] [ebp-1080h]
  size_t v9; // [esp-24h] [ebp-107Ch]
  int v10; // [esp-20h] [ebp-1078h]
  int v11; // [esp-1Ch] [ebp-1074h]
  int v12; // [esp-18h] [ebp-1070h]
  int v13; // [esp-14h] [ebp-106Ch]
  int v14; // [esp-10h] [ebp-1068h]
  int v15; // [esp-Ch] [ebp-1064h]
  int v16; // [esp-8h] [ebp-1060h]
  int v17; // [esp-4h] [ebp-105Ch]
  size_t *v18; // [esp+0h] [ebp-1058h]
  void **v19; // [esp+4h] [ebp-1054h]
  iconv_t cd; // [esp+8h] [ebp-1050h]
  char *v21; // [esp+Ch] [ebp-104Ch]
  int v22; // [esp+10h] [ebp-1048h]
  int v23; // [esp+14h] [ebp-1044h]
  int v24; // [esp+18h] [ebp-1040h]
  char *inbuf; // [esp+1Ch] [ebp-103Ch]
  size_t inbytesleft; // [esp+20h] [ebp-1038h]
  char *outbuf; // [esp+24h] [ebp-1034h]
  size_t outbytesleft; // [esp+28h] [ebp-1030h]
  void *ptr; // [esp+2Ch] [ebp-102Ch]
  size_t v30; // [esp+30h] [ebp-1028h]
  size_t v31; // [esp+34h] [ebp-1024h]
  size_t v32; // [esp+38h] [ebp-1020h]
  size_t size; // [esp+3Ch] [ebp-101Ch]
  size_t v34; // [esp+40h] [ebp-1018h]
  size_t v35; // [esp+44h] [ebp-1014h]
  int v36; // [esp+48h] [ebp-1010h]
  char v37; // [esp+4Ch] [ebp-100Ch]
  unsigned int v38; // [esp+104Ch] [ebp-Ch]

  v21 = a2;
  cd = a4;
  v19 = a5;
  v18 = a6;
  v38 = __readgsdword(0x14u);
  iconv(a4, 0, 0, 0, 0);
  v30 = 0;
  inbuf = a2;
  inbytesleft = a3;
  while ( inbytesleft )
  {
    outbuf = &v37;
    outbytesleft = 4096;
    v31 = iconv(cd, (char **)&v10 - 1039, (size_t *)&v10 - 1038, (char **)&v10 - 1037, &outbytesleft);
    if ( v31 == -1 && *__errno_location() != 7 )
    {
      if ( *__errno_location() != 22 )
        return -1;
      break;
    }
    v30 += outbuf - &v37;
  }
  outbuf = &v37;
  outbytesleft = 4096;
  v32 = iconv(cd, 0, 0, (char **)&v10 - 1037, (size_t *)&v10 - 1036);
  if ( v32 == -1 )
    return -1;
  v30 += outbuf - &v37;
  size = v30;
  if ( !v30 )
  {
    *v18 = 0;
    return 0;
  }
  if ( *v19 && *v18 >= size )
  {
    ptr = *v19;
  }
  else
  {
    ptr = malloc(size);
    if ( !ptr )
    {
      *__errno_location() = 12;
      return -1;
    }
  }
  iconv(cd, 0, 0, 0, 0);
  inbuf = v21;
  inbytesleft = a3;
  outbuf = (char *)ptr;
  outbytesleft = size;
  do
  {
    if ( !inbytesleft )
    {
      v35 = iconv(cd, 0, 0, &outbuf, &outbytesleft);
      if ( v35 != -1 )
      {
        v9 = outbytesleft;
        v8 = a1;
        v7 = &loc_805558D;
        if ( !outbytesleft )
          v7 = &loc_8055592;
        dword_805C1D8 = (int)v7;
        sub_8056592(
          v10,
          v11,
          v12,
          v13,
          v14,
          v15,
          v16,
          v17,
          v18,
          v19,
          cd,
          v21,
          v22,
          v23,
          v24,
          inbuf,
          inbytesleft,
          outbuf,
          outbytesleft,
          ptr,
          v30,
          v31,
          v32);
        abort();
      }
      goto LABEL_28;
    }
    v34 = iconv(cd, &inbuf, &inbytesleft, &outbuf, &outbytesleft);
  }
  while ( v34 != -1 );
  if ( *__errno_location() == 22 )
  {
    dword_805C188 = (int)&loc_8055527;
    sub_8056764(v10, v11, v12, v13, v14, v15, v16, v17, v18, v19, cd);
  }
LABEL_28:
  if ( *v19 != ptr )
  {
    v36 = *__errno_location();
    free(ptr);
    *__errno_location() = v36;
  }
  return -1;
}
// 8056592: using guessed type int __stdcall sub_8056592(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8056764: using guessed type int __stdcall sub_8056764(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C188: using guessed type int dword_805C188;
// 805C1D8: using guessed type int dword_805C1D8;

//----- (08055605) --------------------------------------------------------
int __cdecl sub_8055605(char *s)
{
  bool v1; // zf
  void *v2; // eax
  int v4; // [esp+0h] [ebp-78h]
  int v5; // [esp+4h] [ebp-74h]
  int v6; // [esp+8h] [ebp-70h]
  int v7; // [esp+Ch] [ebp-6Ch]
  int v8; // [esp+10h] [ebp-68h]
  int v9; // [esp+14h] [ebp-64h]
  int v10; // [esp+18h] [ebp-60h]
  int v11; // [esp+1Ch] [ebp-5Ch]
  int v12; // [esp+20h] [ebp-58h]
  int v13; // [esp+24h] [ebp-54h]
  size_t size; // [esp+3Ch] [ebp-3Ch]

  size = strlen(s);
  if ( size <= 0xFFF )
    size *= 16;
  v1 = malloc(size + 1) == 0;
  v2 = &loc_805566C;
  if ( !v1 )
    v2 = &loc_8055681;
  dword_805C188 = (int)v2;
  sub_8056764(v4, v5, v6, v7, v8, v9, v10, v11, v12, v13, s);
  *__errno_location() = 12;
  return 0;
}
// 8056764: using guessed type int __stdcall sub_8056764(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C188: using guessed type int dword_805C188;

//----- (080559A3) --------------------------------------------------------
#error "80559F9: call analysis failed (funcsize=49)"

//----- (08055ACF) --------------------------------------------------------
size_t __cdecl sub_8055ACF(void *s, size_t n)
{
  int v3; // [esp+0h] [ebp-28h]
  int v4; // [esp+4h] [ebp-24h]
  int v5; // [esp+8h] [ebp-20h]
  int v6; // [esp+Ch] [ebp-1Ch]
  int v7; // [esp+10h] [ebp-18h]
  int v8; // [esp+14h] [ebp-14h]
  int v9; // [esp+18h] [ebp-10h]
  void *v10; // [esp+1Ch] [ebp-Ch]
  int v11; // [esp+20h] [ebp-8h]
  int v12; // [esp+24h] [ebp-4h]
  int savedregs; // [esp+28h] [ebp+0h]

  v10 = memchr(s, 0, n);
  if ( v10 )
  {
    dword_805C188 = (int)&locret_8055B1F;
    sub_8056764(v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, savedregs);
  }
  return n;
}
// 8056764: using guessed type int __stdcall sub_8056764(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 805C188: using guessed type int dword_805C188;

//----- (08055D5C) --------------------------------------------------------
int __cdecl sub_8055D5C(int a1)
{
  int result; // eax

  if ( (unsigned int)(a1 - 65) > 0x19 )
    result = a1;
  else
    result = a1 + 32;
  return result;
}

//----- (08055D92) --------------------------------------------------------
unsigned int __cdecl sub_8055D92(unsigned int a1)
{
  _DWORD *v1; // ST18_4
  unsigned int v2; // ST14_4
  _DWORD *v4; // [esp+14h] [ebp-14h]

  if ( a1 + 8 < a1 )
    return 0;
  v4 = malloc(a1 + 8);
  if ( !v4 )
    return 0;
  v1 = v4;
  v2 = (unsigned int)(v4 + 2);
  v1[1] = 336984906;
  *v1 = dword_805CDE2[v2 % 0x101];
  dword_805CDE2[v2 % 0x101] = v2;
  return v2;
}

//----- (08055E47) --------------------------------------------------------
void __cdecl sub_8055E47(unsigned int a1)
{
  _DWORD *i; // [esp+10h] [ebp-18h]

  if ( a1 && *(_DWORD *)(a1 - 4) == 336984906 )
  {
    for ( i = (_DWORD *)(4 * (a1 % 0x101) + 134598114); *i; i = (_DWORD *)(*i - 8) )
    {
      if ( *i == a1 )
      {
        *i = *(_DWORD *)(a1 - 8);
        free((void *)(a1 - 8));
        return;
      }
    }
  }
}

//----- (08055F3F) --------------------------------------------------------
#error "8055FD8: call analysis failed (funcsize=49)"

//----- (08055FDD) --------------------------------------------------------
#error "8055FFC: positive sp value has been found (funcsize=0)"

//----- (08055FFD) --------------------------------------------------------
bool __cdecl sub_8055FFD(unsigned __int8 a1)
{
  return (((unsigned int)dword_8058408[a1 >> 5] >> (a1 & 0x1F)) & 1) != 0;
}

//----- (08056054) --------------------------------------------------------
size_t __cdecl sub_8056054(const char *a1)
{
  _BOOL4 v1; // eax
  bool v2; // zf
  void *v3; // eax
  int v5; // [esp+0h] [ebp-58h]
  char v6; // [esp+14h] [ebp-44h]
  int v7; // [esp+18h] [ebp-40h]
  char v8; // [esp+20h] [ebp-38h]
  const char *v9; // [esp+24h] [ebp-34h]
  char v10; // [esp+2Ch] [ebp-2Ch]
  int v11; // [esp+30h] [ebp-28h]
  unsigned int v12; // [esp+4Ch] [ebp-Ch]

  v12 = __readgsdword(0x14u);
  if ( __ctype_get_mb_cur_max() <= 1 )
    return strlen(a1);
  v9 = a1;
  v6 = 0;
  memset(&v7, 0, 8u);
  v8 = 0;
  sub_8054F06(&v6);
  v1 = v10 != 1 || v11;
  v2 = v1 == 0;
  v3 = &loc_8056107;
  if ( !v2 )
    v3 = &loc_80560AE;
  dword_805C1C4 = (int)v3;
  sub_8056602(v5);
  return 0;
}
// 8054F06: using guessed type _DWORD __cdecl sub_8054F06(_DWORD);
// 8056602: using guessed type int __stdcall sub_8056602(_DWORD);
// 805C1C4: using guessed type int dword_805C1C4;

//----- (08056134) --------------------------------------------------------
#error "8056154: call analysis failed (funcsize=17)"

//----- (08056167) --------------------------------------------------------
#error "80561EE: positive sp value has been found (funcsize=49)"

//----- (08056299) --------------------------------------------------------
#error "8056324: call analysis failed (funcsize=56)"

//----- (080563D6) --------------------------------------------------------
int __cdecl sub_80563D6(int a1)
{
  return __cxa_atexit(a1, 0, dword_805C208);
}
// 80491F0: using guessed type int __cdecl __cxa_atexit(_DWORD, _DWORD, _DWORD);
// 805C208: using guessed type int dword_805C208;

//----- (08056405) --------------------------------------------------------
int __cdecl sub_8056405(int a1, int a2)
{
  return __fxstat64(3, a1, a2);
}
// 8049190: using guessed type int __cdecl __fxstat64(_DWORD, _DWORD, _DWORD);

//----- (08056592) --------------------------------------------------------
#error "8056598: positive sp value has been found (funcsize=0)"

//----- (08056602) --------------------------------------------------------
#error "8056608: positive sp value has been found (funcsize=0)"

//----- (08056678) --------------------------------------------------------
#error "805667E: positive sp value has been found (funcsize=0)"

//----- (080566EE) --------------------------------------------------------
#error "80566F4: positive sp value has been found (funcsize=0)"

//----- (08056764) --------------------------------------------------------
#error "805676A: positive sp value has been found (funcsize=0)"

//----- (080567D4) --------------------------------------------------------
#error "80567DA: positive sp value has been found (funcsize=0)"

//----- (08056844) --------------------------------------------------------
#error "805684A: positive sp value has been found (funcsize=0)"

//----- (08056860) --------------------------------------------------------
int (**sub_8056860())()
{
  int (**result)(); // eax
  int v1; // esi
  int v2; // edi

  init_proc();
  result = off_805BEE0;
  v1 = &off_805BEE4 - off_805BEE0;
  if ( v1 )
  {
    v2 = 0;
    do
      result = (int (**)())off_805BEE0[v2++]();
    while ( v1 != v2 );
  }
  return result;
}
// 805BEE0: using guessed type int (*off_805BEE0[2])();
// 805BEE4: using guessed type int (*off_805BEE4)();

//----- (080568C4) --------------------------------------------------------
void term_proc()
{
  ;
}

#error "There were 55 decompilation failure(s) on 171 function(s)"

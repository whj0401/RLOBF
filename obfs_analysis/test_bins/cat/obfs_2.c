/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2017 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>

#include <stdarg.h>


//-------------------------------------------------------------------------
// Function declarations

void *init_proc();
int sub_8048C30();
// int strcmp(const char *s1, const char *s2);
// int __cdecl open64(_DWORD, _DWORD); weak
// ssize_t read(int fd, void *buf, size_t nbytes);
// int printf(const char *format, ...);
// int fflush(FILE *stream);
// void _exit(int status);
// void *memmove(void *dest, const void *src, size_t n);
// void free(void *ptr);
// void *memcpy(void *dest, const void *src, size_t n);
// int fclose(FILE *stream);
// int getc_unlocked(FILE *stream);
// int __cdecl fseeko64(_DWORD, _DWORD, _DWORD, _DWORD); weak
// char *textdomain(const char *domainname);
// int ioctl(int fd, unsigned int request, ...);
// int ferror_unlocked(FILE *stream);
// size_t fwrite(const void *ptr, size_t size, size_t n, FILE *s);
// int __cdecl __fxstat64(_DWORD, _DWORD, _DWORD); weak
// size_t __ctype_get_mb_cur_max(void);
// char *strcpy(char *dest, const char *src);
// size_t __fpending(FILE *fp);
// size_t mbrtowc(wchar_t *pwc, const char *s, size_t n, mbstate_t *p);
// int __cdecl __cxa_atexit(_DWORD, _DWORD, _DWORD); weak
// void error(int status, int errnum, const char *format, ...);
// char *getenv(const char *name);
// void *realloc(void *ptr, size_t size);
// void *malloc(size_t size);
// int __freading(FILE *fp);
// void exit(int status);
// char *gettext(const char *msgid);
// FILE *fdopen(int fd, const char *modes);
// int __cdecl fputs_unlocked(_DWORD, _DWORD); weak
// int fscanf(FILE *stream, const char *format, ...);
// size_t strlen(const char *s);
// int fprintf(FILE *stream, const char *format, ...);
// ssize_t write(int fd, const void *buf, size_t n);
// int getpagesize(void);
// void *memset(void *s, int c, size_t n);
// int ungetc(int c, FILE *stream);
// int *__errno_location(void);
// int fileno(FILE *stream);
// char *nl_langinfo(nl_item item);
// char *setlocale(int category, const char *locale);
// char *strrchr(const char *s, int c);
// int __cdecl lseek64(_DWORD, _DWORD, _DWORD, _DWORD); weak
// char *bindtextdomain(const char *domainname, const char *dirname);
// int __cdecl posix_fadvise64(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int strncmp(const char *s1, const char *s2, size_t n);
// void abort(void);
// int close(int fd);
// int _gmon_start__(void); weak
void sub_8049023();
void sub_8049040();
int sub_8049050();
int sub_80490C0();
int sub_80490E0();
void sub_804913F();
void sub_804915A();
int sub_804916A();
void sub_8049252();
void sub_804926D();
int sub_804927D();
void sub_8049365();
void sub_8049380();
int sub_8049390();
unsigned int __cdecl sub_8049446(int a1, unsigned int a2);
int sub_8049479();
int __cdecl sub_80494A4(char *s1); // idb
signed int __cdecl sub_804962A(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, signed int a14);
void __cdecl __noreturn sub_804966C(int status); // idb
char *sub_804979F();
int __cdecl sub_804981F(void *buf, size_t nbytes); // idb
int __cdecl sub_80498FA(int a1, _DWORD *a2);
int __cdecl sub_804996E(int, int, void *dest, size_t, int, int, int, int, int, int); // idb
int __cdecl sub_8049BB7(int errnum, char *format, int); // idb
int __cdecl sub_8049C1C(int errnum, char *format, int); // idb
// int __usercall sub_8049D5D@<eax>(int a1@<ebp>, int a2@<ecx>);
int sub_8049D87(); // weak
int sub_8049E7E(); // weak
int __cdecl main(int a1, char **a2);
// int __usercall sub_804A2E6@<eax>(int a1@<edx>, int a2@<ecx>, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, signed int a42);
// int __usercall sub_804A38E@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>);
int sub_804A3CF(); // weak
int sub_804A496(); // weak
int sub_804A550(); // weak
int sub_804A57B(); // weak
int sub_804A596(); // weak
void __noreturn sub_804A608(); // weak
int __cdecl sub_804A614(char **argv, char *shortopts, struct option *longopts, int *longind, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, char, char, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int); // weak
int sub_804AF2F();
void __cdecl __noreturn sub_804B00D(int errnum, char *format, int); // idb
int sub_804B040(); // weak
int __cdecl sub_804B076(int a1, int a2, int a3, int a4, int a5, int a6);
int __cdecl sub_804B10F(int fd, int, size_t n); // idb
int __fastcall sub_804B178(int a1, int a2, int a3);
int __cdecl sub_804B1C0(int c); // idb
int __cdecl sub_804B207(char *s2, size_t n); // idb
int __cdecl sub_804B398(int *a1, unsigned __int8 a2, char a3);
int *__cdecl sub_804B442(int *a1, int a2, int a3);
int __cdecl sub_804B483(int a1, int a2);
int __stdcall sub_804B4BC(int); // weak
const char *__cdecl sub_804B518(char *msgid, int a2);
void __cdecl sub_804B5B3(int a1, int a2, int a3, int a4, unsigned int a5, int a6, int a7, int a8, int a9);
void *__cdecl sub_804C24A(int a1, int a2, _DWORD *a3, int *a4);
int __cdecl sub_804C3F1(int a1);
// int __usercall sub_804C427@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<ebp>, int a4, unsigned int a5);
// int __usercall sub_804C471@<eax>(int a1@<ecx>, int a2@<ebp>);
int __cdecl sub_804C6A2(int a1);
int __cdecl sub_804C6CC(int a1);
int __cdecl sub_804C732(int a1, int a2);
int __cdecl sub_804C770(int a1, int a2);
int __cdecl sub_804C7AD(int a1);
int __cdecl sub_804C7F8(int a1, int a2, unsigned __int8 a3);
int __cdecl sub_804C8A2(int a1, unsigned __int8 a2);
int __cdecl sub_804C8CB(int a1);
int __cdecl sub_804C908(int a1, int a2);
int __cdecl sub_804C9A9(int a1, int a2, int a3);
int __cdecl sub_804C9D9(int a1, int a2, int a3);
int __cdecl sub_804CAD3(int a1);
int __cdecl sub_804CB1E(int a1);
ssize_t __cdecl sub_804CB5B(int fd, void *buf, size_t nbytes);
ssize_t __cdecl sub_804CBBD(int fd, void *buf, size_t n);
int __cdecl sub_804CC1F(FILE *stream, int, int, int, int, int); // idb
int __cdecl sub_804D184(FILE *stream, int, int, int, int); // idb
int sub_804D1EA(FILE *stream, int a2, int a3, int a4, ...);
void *__cdecl sub_804D2EF(void *ptr, int a2, int a3);
void *__cdecl sub_804D393(size_t size);
void *__cdecl sub_804D3A6(size_t size);
void *__cdecl sub_804D3D0(void *ptr, size_t size);
void *__cdecl sub_804D4AA(void *src, size_t n);
void __noreturn sub_804D4F8();
void sub_804D531();
void sub_804D536();
size_t __cdecl sub_804D559(wchar_t *pwc, char *s, size_t n, mbstate_t *p);
int sub_804D5CB();
int sub_804D5D6();
int sub_804D5E1();
int __cdecl sub_804D614(unsigned __int8 *a1, unsigned __int8 *a2);
int __cdecl sub_804D67A(FILE *fp); // idb
int sub_804D75F(); // weak
int __cdecl sub_804D767(int category); // idb
void *sub_804D7C5();
const char *sub_804DC3E();
int __cdecl sub_804DCF1(FILE *stream); // idb
int __cdecl sub_804DDB4(FILE *stream); // idb
int __cdecl sub_804DDED(FILE *fp); // idb
int __cdecl sub_804DE2D(FILE *stream, int, int, int); // idb
int __cdecl sub_804E0CF(int a1);
int __cdecl sub_804E17D(int a1);
int __cdecl sub_804E1AC(int a1, int a2);
int (**sub_804E290())();
void term_proc();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN loc_80499EE; // weak
_UNKNOWN loc_8049A48; // weak
_UNKNOWN loc_8049A9B; // weak
_UNKNOWN loc_8049BA0; // weak
_UNKNOWN sub_804A5B1; // weak
_UNKNOWN unk_804A5BD; // weak
_UNKNOWN loc_804AF97; // weak
_UNKNOWN loc_804B033; // weak
_UNKNOWN sub_804C4AF; // weak
_UNKNOWN loc_804C4B2; // weak
_UNKNOWN loc_804C53A; // weak
_UNKNOWN loc_804D71F; // weak
_UNKNOWN loc_804D747; // weak
_UNKNOWN locret_804D765; // weak
char locale = '\0'; // idb
_UNKNOWN unk_804EB8E; // weak
_UNKNOWN unk_804EB92; // weak
_UNKNOWN unk_804EB9E; // weak
_UNKNOWN unk_804EBA2; // weak
_UNKNOWN unk_804EBA5; // weak
_DWORD off_804EBAC[11] =
{
  134526831,
  134526755,
  134526774,
  134526751,
  134526759,
  134526544,
  134526533,
  134526601,
  134526614,
  134526614,
  134526614
}; // idb
void *off_804F134 = &loc_804CCD8; // weak
_UNKNOWN unk_804F2C3; // weak
int (*off_8051EFC[2])() = { &sub_80490E0, &sub_80490C0 }; // weak
int (*off_8051F00)() = &sub_80490C0; // weak
int (*dword_8052008)(void) = NULL; // weak
int (__fastcall *dword_8052108)(_DWORD, _DWORD) = NULL; // weak
int dword_8052120 = 0; // weak
char byte_8052124 = ' '; // weak
char *off_8052138 = "     0\t"; // weak
void *off_805213C = (void *)0x8052135; // weak
void *off_8052140 = (void *)0x8052135; // weak
int status = 1; // idb
int dword_805215C = 1; // weak
_UNKNOWN unk_80521AC; // weak
_UNKNOWN unk_80521AF; // weak
int program_invocation_short_name; // weak
FILE *stderr; // idb
FILE *stdout; // idb
char byte_80521D8; // weak
_UNKNOWN unk_80521DC; // weak
_UNKNOWN unk_8052205; // weak
int fd; // idb
int dword_805225F; // weak
int dword_8052263; // weak
char byte_8052267; // weak
int dword_805226B; // weak
int dword_805228B; // weak
int dword_805228F; // weak
int dword_8052293; // weak
int dword_8052297; // weak
int dword_805229B; // weak
int dword_805229F; // weak
int dword_80522A3; // weak
int dword_80522A7; // weak
int dword_80522AB; // weak
int dword_80522AF; // weak
int dword_80522B3; // weak
int dword_80522B7; // weak
int dword_80523CB; // weak
// extern _UNKNOWN __gmon_start__; weak


//----- (08048C0C) --------------------------------------------------------
void *init_proc()
{
  void *result; // eax

  result = &__gmon_start__;
  if ( &__gmon_start__ )
    result = (void *)_gmon_start__();
  return result;
}
// 8048FE0: using guessed type int _gmon_start__(void);

//----- (08048C30) --------------------------------------------------------
int sub_8048C30()
{
  return dword_8052008();
}
// 8052008: using guessed type int (*dword_8052008)(void);

//----- (08048FF0) --------------------------------------------------------
#error "8048FF3: positive sp value has been found (funcsize=2)"

//----- (08049023) --------------------------------------------------------
void sub_8049023()
{
  ;
}

//----- (08049040) --------------------------------------------------------
void sub_8049040()
{
  ;
}

//----- (08049050) --------------------------------------------------------
int sub_8049050()
{
  int result; // eax

  result = &unk_80521AF - &unk_80521AC;
  if ( (unsigned int)(&unk_80521AF - &unk_80521AC) > 6 )
    result = 0;
  return result;
}
// 8049050: could not find valid save-restore pair for ebp

//----- (080490C0) --------------------------------------------------------
int sub_80490C0()
{
  int result; // eax

  if ( !byte_80521D8 )
  {
    result = sub_8049050();
    byte_80521D8 = 1;
  }
  return result;
}
// 80490C0: could not find valid save-restore pair for ebp
// 80521D8: using guessed type char byte_80521D8;

//----- (080490E0) --------------------------------------------------------
int sub_80490E0()
{
  return 0;
}
// 80490E0: could not find valid save-restore pair for ebp

//----- (0804913F) --------------------------------------------------------
void sub_804913F()
{
  ;
}

//----- (0804915A) --------------------------------------------------------
void sub_804915A()
{
  ;
}

//----- (0804916A) --------------------------------------------------------
int sub_804916A()
{
  int result; // eax

  result = &unk_80521DC - (_UNKNOWN *)&program_invocation_short_name;
  _CF = (unsigned int)(&unk_80521DC - (_UNKNOWN *)&program_invocation_short_name) < 6;
  _OF = __OFSUB__(&unk_80521DC - (_UNKNOWN *)&program_invocation_short_name, 6);
  _ZF = &unk_80521DC - (_UNKNOWN *)&program_invocation_short_name == 6;
  _SF = &unk_80521DC - (_UNKNOWN *)&program_invocation_short_name - 6 < 0;
  if ( (unsigned int)(&unk_80521DC - (_UNKNOWN *)&program_invocation_short_name) > 6 )
  {
    __asm { pushfw }
    result = 0;
    __asm { popfw }
  }
  return result;
}
// 804916A: could not find valid save-restore pair for ebp
// 80521B0: using guessed type int program_invocation_short_name;

//----- (08049252) --------------------------------------------------------
void sub_8049252()
{
  ;
}

//----- (0804926D) --------------------------------------------------------
void sub_804926D()
{
  ;
}

//----- (0804927D) --------------------------------------------------------
int sub_804927D()
{
  int result; // eax

  result = &unk_8052205 - (_UNKNOWN *)&program_invocation_short_name;
  _CF = (unsigned int)(&unk_8052205 - (_UNKNOWN *)&program_invocation_short_name) < 6;
  _OF = __OFSUB__(&unk_8052205 - (_UNKNOWN *)&program_invocation_short_name, 6);
  _ZF = &unk_8052205 - (_UNKNOWN *)&program_invocation_short_name == 6;
  _SF = &unk_8052205 - (_UNKNOWN *)&program_invocation_short_name - 6 < 0;
  if ( (unsigned int)(&unk_8052205 - (_UNKNOWN *)&program_invocation_short_name) > 6 )
  {
    __asm { pushfw }
    result = 0;
    __asm { popfw }
  }
  return result;
}
// 804927D: could not find valid save-restore pair for ebp
// 80521B0: using guessed type int program_invocation_short_name;

//----- (08049365) --------------------------------------------------------
void sub_8049365()
{
  ;
}

//----- (08049380) --------------------------------------------------------
void sub_8049380()
{
  ;
}

//----- (08049390) --------------------------------------------------------
int sub_8049390()
{
  int result; // eax

  result = &unk_8052205 - (_UNKNOWN *)&program_invocation_short_name;
  _CF = (unsigned int)(&unk_8052205 - (_UNKNOWN *)&program_invocation_short_name) < 6;
  _OF = __OFSUB__(&unk_8052205 - (_UNKNOWN *)&program_invocation_short_name, 6);
  _ZF = &unk_8052205 - (_UNKNOWN *)&program_invocation_short_name == 6;
  _SF = &unk_8052205 - (_UNKNOWN *)&program_invocation_short_name - 6 < 0;
  if ( (unsigned int)(&unk_8052205 - (_UNKNOWN *)&program_invocation_short_name) > 6 )
  {
    __asm { pushfw }
    result = 0;
    __asm { popfw }
  }
  return result;
}
// 8049390: could not find valid save-restore pair for ebp
// 80521B0: using guessed type int program_invocation_short_name;

//----- (08049446) --------------------------------------------------------
unsigned int __cdecl sub_8049446(int a1, unsigned int a2)
{
  return a2 - 1 + a1 - (a2 - 1 + a1) % a2;
}

//----- (08049479) --------------------------------------------------------
int sub_8049479()
{
  FILE *v0; // ebx
  char *v1; // eax

  v0 = stdout;
  v1 = gettext("\nWith no FILE, or when FILE is -, read standard input.\n");
  return fputs_unlocked(v1, v0);
}
// 8048E70: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);

//----- (080494A4) --------------------------------------------------------
int __cdecl sub_80494A4(char *s1)
{
  char *v1; // eax
  char *v2; // eax
  char *v3; // eax
  char *v4; // ebx
  char *v5; // eax
  char *v7; // [esp+1Ch] [ebp-4Ch]
  const char **i; // [esp+20h] [ebp-48h]
  const char *v9; // [esp+24h] [ebp-44h]
  const char *v10; // [esp+28h] [ebp-40h]
  const char *v11; // [esp+2Ch] [ebp-3Ch]
  const char *v12; // [esp+30h] [ebp-38h]
  const char *v13; // [esp+34h] [ebp-34h]
  const char *v14; // [esp+38h] [ebp-30h]
  const char *v15; // [esp+3Ch] [ebp-2Ch]
  const char *v16; // [esp+40h] [ebp-28h]
  const char *v17; // [esp+44h] [ebp-24h]
  const char *v18; // [esp+48h] [ebp-20h]
  const char *v19; // [esp+4Ch] [ebp-1Ch]
  const char *v20; // [esp+50h] [ebp-18h]
  const char *v21; // [esp+54h] [ebp-14h]
  int v22; // [esp+58h] [ebp-10h]
  int v23; // [esp+5Ch] [ebp-Ch]

  v10 = "[";
  v11 = "test invocation";
  v12 = "coreutils";
  v13 = "Multi-call invocation";
  v14 = "sha224sum";
  v15 = "sha2 utilities";
  v16 = "sha256sum";
  v17 = "sha2 utilities";
  v18 = "sha384sum";
  v19 = "sha2 utilities";
  v20 = "sha512sum";
  v21 = "sha2 utilities";
  v22 = 0;
  v23 = 0;
  v7 = s1;
  for ( i = &v10; *i && strcmp(s1, *i); i += 2 )
    ;
  if ( i[1] )
    v7 = (char *)i[1];
  v1 = gettext("\n%s online help: <%s>\n");
  printf(v1, "GNU coreutils", "http://www.gnu.org/software/coreutils/");
  v9 = setlocale(5, 0);
  if ( v9 && strncmp(v9, "en_", 3u) )
  {
    v2 = gettext("Report %s translation bugs to <http://translationproject.org/team/>\n");
    printf(v2, s1);
  }
  v3 = gettext("Full documentation at: <%s%s>\n");
  printf(v3, "http://www.gnu.org/software/coreutils/", s1);
  if ( v7 == s1 )
    v4 = " invocation";
  else
    v4 = &locale;
  v5 = gettext("or available locally via: info '(coreutils) %s%s'\n");
  return printf(v5, v7, v4);
}

//----- (0804962A) --------------------------------------------------------
signed int __cdecl sub_804962A(int a1, int a2, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, signed int a14)
{
  if ( a14 <= 0 || (unsigned int)a14 > 0x20000000 || a14 <= 0x1FFFF )
    return 0x20000;
  if ( a14 <= 0 || (unsigned int)a14 > 0x20000000 )
    return 512;
  return a14;
}

//----- (0804966C) --------------------------------------------------------
void __cdecl __noreturn sub_804966C(int status)
{
  int v1; // ebx
  char *v2; // eax
  int v3; // ebx
  char *v4; // eax
  FILE *v5; // ebx
  char *v6; // eax
  FILE *v7; // ebx
  char *v8; // eax
  FILE *v9; // ebx
  char *v10; // eax
  FILE *v11; // ebx
  char *v12; // eax
  FILE *v13; // ebx
  char *v14; // eax
  int v15; // esi
  int v16; // ebx
  char *v17; // eax

  if ( status )
  {
    v1 = dword_805226B;
    v2 = gettext("Try '%s --help' for more information.\n");
    fprintf(stderr, v2, v1);
  }
  else
  {
    v3 = dword_805226B;
    v4 = gettext("Usage: %s [OPTION]... [FILE]...\n");
    printf(v4, v3);
    v5 = stdout;
    v6 = gettext("Concatenate FILE(s) to standard output.\n");
    fputs_unlocked(v6, v5);
    sub_8049479();
    v7 = stdout;
    v8 = gettext(
           "\n"
           "  -A, --show-all           equivalent to -vET\n"
           "  -b, --number-nonblank    number nonempty output lines, overrides -n\n"
           "  -e                       equivalent to -vE\n"
           "  -E, --show-ends          display $ at end of each line\n"
           "  -n, --number             number all output lines\n"
           "  -s, --squeeze-blank      suppress repeated empty output lines\n");
    fputs_unlocked(v8, v7);
    v9 = stdout;
    v10 = gettext(
            "  -t                       equivalent to -vT\n"
            "  -T, --show-tabs          display TAB characters as ^I\n"
            "  -u                       (ignored)\n"
            "  -v, --show-nonprinting   use ^ and M- notation, except for LFD and TAB\n");
    fputs_unlocked(v10, v9);
    v11 = stdout;
    v12 = gettext("      --help     display this help and exit\n");
    fputs_unlocked(v12, v11);
    v13 = stdout;
    v14 = gettext("      --version  output version information and exit\n");
    fputs_unlocked(v14, v13);
    v15 = dword_805226B;
    v16 = dword_805226B;
    v17 = gettext(
            "\n"
            "Examples:\n"
            "  %s f - g  Output f's contents, then standard input, then g's contents.\n"
            "  %s        Copy standard input to standard output.\n");
    printf(v17, v16, v15);
    sub_80494A4("cat");
  }
  exit(status);
}
// 8048E70: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);
// 805226B: using guessed type int dword_805226B;

//----- (0804979F) --------------------------------------------------------
char *sub_804979F()
{
  char *result; // eax
  _BYTE *v1; // eax
  _BYTE *v2; // [esp+Ch] [ebp-4h]

  v2 = off_8052140;
  while ( 1 )
  {
    result = (char *)(unsigned __int8)*v2;
    *v2 = (_BYTE)result + 1;
    if ( (char)result <= 56 )
      break;
    v1 = v2--;
    *v1 = 48;
    if ( v2 < off_805213C )
    {
      if ( off_805213C <= &byte_8052124 )
      {
        byte_8052124 = 62;
      }
      else
      {
        off_805213C = (char *)off_805213C - 1;
        *(_BYTE *)off_805213C = 49;
      }
      result = off_8052138;
      if ( off_805213C < off_8052138 )
        result = off_8052138-- - 1;
      return result;
    }
  }
  return result;
}
// 8052124: using guessed type char byte_8052124;
// 8052138: using guessed type char *off_8052138;
// 805213C: using guessed type void *off_805213C;
// 8052140: using guessed type void *off_8052140;

//----- (0804981F) --------------------------------------------------------
int __cdecl sub_804981F(void *buf, size_t nbytes)
{
  int v2; // ebx
  int *v3; // eax
  int result; // eax
  char *v9; // ebx
  int *v10; // eax
  size_t v11; // [esp+18h] [ebp-10h]

  while ( 1 )
  {
    v11 = sub_804CB5B(fd, buf, nbytes);
    if ( v11 == -1 )
    {
      v2 = sub_804C908(0, 3);
      v3 = __errno_location();
      error(0, *v3, "%s", v2);
      __asm { pushfw }
      result = 0;
      __asm { popfw }
      return result;
    }
    if ( !v11 )
      break;
    if ( sub_804B10F(1, (int)buf, v11) != v11 )
    {
      v9 = gettext("write error");
      v10 = __errno_location();
      error(1, *v10, v9);
    }
  }
  return 1;
}

//----- (080498FA) --------------------------------------------------------
int __cdecl sub_80498FA(int a1, _DWORD *a2)
{
  int result; // eax
  int n; // ST1C_4
  char *v4; // ebx
  int *v5; // eax

  result = *a2 - a1;
  if ( *a2 != a1 )
  {
    n = *a2 - a1;
    if ( sub_804B10F(1, a1, n) != n )
    {
      v4 = gettext("write error");
      v5 = __errno_location();
      error(1, *v5, v4);
    }
    result = (int)a2;
    *a2 = a1;
  }
  return result;
}

//----- (0804996E) --------------------------------------------------------
int __cdecl sub_804996E(int a1, int a2, void *dest, size_t a4, int a5, int a6, int a7, int a8, int a9, int a10)
{
  int v10; // ecx
  char *v11; // edx
  int v12; // eax
  char *v13; // ebx
  int *v14; // eax
  int v15; // eax
  int v16; // eax
  int v17; // eax
  int v18; // eax
  int v19; // eax
  int v20; // eax
  int *v22; // [esp+8h] [ebp-70h]
  int v23; // [esp+14h] [ebp-64h]
  char v24; // [esp+18h] [ebp-60h]
  char v25; // [esp+1Ch] [ebp-5Ch]
  char v26; // [esp+20h] [ebp-58h]
  char v27; // [esp+24h] [ebp-54h]
  char v28; // [esp+28h] [ebp-50h]
  char v29; // [esp+2Ch] [ebp-4Ch]
  char v30; // [esp+3Eh] [ebp-3Ah]
  char v31; // [esp+3Fh] [ebp-39h]
  char *v32; // [esp+40h] [ebp-38h]
  int v33; // [esp+44h] [ebp-34h]
  unsigned int v34; // [esp+48h] [ebp-30h]
  unsigned int v35; // [esp+4Ch] [ebp-2Ch]
  int v36; // [esp+50h] [ebp-28h]
  void *src; // [esp+54h] [ebp-24h]
  size_t n; // [esp+58h] [ebp-20h]

  v10 = a8;
  v23 = a10;
  v29 = a5;
  v28 = a6;
  v27 = a7;
  v26 = a8;
  v25 = a9;
  v24 = a10;
  v36 = dword_805225F;
  v30 = 1;
  v35 = a1;
  v34 = a1 + 1;
  v32 = (char *)dest;
  v11 = (char *)dest + a4;
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_8049A9B;
  if ( (char *)dest + a4 <= dest )
  {
    src = dest;
    v12 = sub_804B10F(1, (int)dest, a4);
    dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_8049A48;
    if ( v12 != a4 )
    {
      v13 = gettext("write error");
      v14 = __errno_location();
      error(1, *v14, v13);
      src = (char *)src + a4;
      v11 = (char *)(v32 - (_BYTE *)src);
      n = v32 - (_BYTE *)src;
      dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_80499EE;
      if ( a4 > v32 - (_BYTE *)src )
      {
        memmove(dest, src, n);
        v11 = (char *)dest;
        v32 = (char *)dest + n;
        dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_8049D87;
        if ( v34 > v35 )
        {
          v31 = 0;
          v33 = 0;
          dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_8049C1C;
          if ( v30 )
          {
            v22 = &v33;
            v15 = ioctl(fd, 0x541Bu, &v33);
            dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_8049C1C;
            if ( v15 < 0 )
            {
              v16 = *__errno_location();
              dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_8049BA0;
              if ( v16 != 95 )
              {
                v17 = *__errno_location();
                dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_8049BA0;
                if ( v17 != 25 )
                {
                  v18 = *__errno_location();
                  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_8049BA0;
                  if ( v18 != 22 )
                  {
                    v19 = *__errno_location();
                    dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_8049BA0;
                    if ( v19 != 19 )
                    {
                      v20 = *__errno_location();
                      dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_8049BB7;
                      if ( v20 == 38 )
                      {
                        v30 = 0;
                        dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_8049C1C;
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
  return dword_8052108(v10, v11);
}
// 8049D87: using guessed type int sub_8049D87();
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);
// 805225F: using guessed type int dword_805225F;

//----- (08049BB7) --------------------------------------------------------
#error "8049BC7: call analysis failed (funcsize=27)"

//----- (08049C1C) --------------------------------------------------------
#error "8049C63: call analysis failed (funcsize=62)"

//----- (08049D13) --------------------------------------------------------
#error "8049D38: call analysis failed (funcsize=20)"

//----- (08049D5D) --------------------------------------------------------
int __usercall sub_8049D5D@<eax>(int a1@<ebp>, int a2@<ecx>)
{
  int v2; // edx

  *(_DWORD *)(a1 - 48) = *(_DWORD *)(a1 + 8);
  v2 = *(_DWORD *)(a1 - 48);
  *(_DWORD *)(a1 - 44) = v2 + *(_DWORD *)(a1 - 28);
  **(_BYTE **)(a1 - 44) = 10;
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_8049E7E;
  return ((int (__fastcall *)(int, int))sub_8049E7E)(a2, v2);
}
// 8049E7E: using guessed type int sub_8049E7E();
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);

//----- (0804A220) --------------------------------------------------------
int __cdecl main(int a1, char **a2)
{
  int v2; // edx
  int v3; // ecx
  int v4; // edx
  int v5; // ecx

  getpagesize();
  sub_804B178(v3, v2, (int)*a2);
  setlocale(6, &locale);
  bindtextdomain("coreutils", "/home/hwangdz/coreutils/coreutils-8.28/install_m32/share/locale");
  textdomain("coreutils");
  sub_804E17D((int)sub_804AF2F);
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804A614;
  return ((int (__fastcall *)(int, int))sub_804A614)(v5, v4);
}
// 804A614: using guessed type int __cdecl sub_804A614(char **argv, char *shortopts, struct option *longopts, int *longind, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, char, char, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int, int);
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);

//----- (0804A2E6) --------------------------------------------------------
int __usercall sub_804A2E6@<eax>(int a1@<edx>, int a2@<ecx>, int a3, int a4, int a5, int a6, int a7, int a8, int a9, int a10, int a11, int a12, int a13, int a14, int a15, int a16, int a17, int a18, int a19, int a20, int a21, int a22, int a23, int a24, int a25, int a26, int a27, int a28, int a29, int a30, int a31, int a32, int a33, int a34, int a35, int a36, int a37, int a38, int a39, int a40, int a41, signed int a42)
{
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804A496;
  if ( a42 != 98 )
  {
    dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804A3CF;
    if ( a42 <= 98 )
    {
      dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804A550;
      if ( a42 != 65 )
      {
        dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804A38E;
        if ( a42 <= 65 )
        {
          dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&unk_804A5BD;
          if ( a42 != -131 )
          {
            dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804A5B1;
            if ( a42 != -130 )
              dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804A608;
          }
        }
      }
    }
  }
  return dword_8052108(a2, a1);
}
// 804A3CF: using guessed type int sub_804A3CF();
// 804A496: using guessed type int sub_804A496();
// 804A550: using guessed type int sub_804A550();
// 804A5B1: using guessed type int sub_804A5B1();
// 804A608: using guessed type void __noreturn sub_804A608();
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);

//----- (0804A38E) --------------------------------------------------------
int __usercall sub_804A38E@<eax>(int a1@<eax>, int a2@<edx>, int a3@<ecx>)
{
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804A57B;
  if ( a1 != 69 )
  {
    dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804A596;
    if ( a1 != 84 )
      dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804A608;
  }
  return dword_8052108(a3, a2);
}
// 804A57B: using guessed type int sub_804A57B();
// 804A596: using guessed type int sub_804A596();
// 804A608: using guessed type void __noreturn sub_804A608();
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);

//----- (0804AF2F) --------------------------------------------------------
int sub_804AF2F()
{
  int v0; // eax
  int v1; // edx
  int v2; // ecx
  int v3; // eax
  int v4; // ebx
  int v5; // eax
  int v7; // [esp+Ch] [ebp-2Ch]
  char *v8; // [esp+10h] [ebp-28h]
  char *v9; // [esp+2Ch] [ebp-Ch]

  v0 = sub_804D67A(stdout);
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804B040;
  if ( v0 )
  {
    dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_804AF97;
    if ( byte_8052267 == 1 )
    {
      v3 = *__errno_location();
      dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804B040;
      if ( v3 != 32 )
      {
        v9 = gettext("write error");
        dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804B00D;
        if ( dword_8052263 )
        {
          v4 = sub_804C8CB(dword_8052263);
          v5 = *__errno_location();
          v8 = v9;
          v7 = v4;
          error(0, v5, "%s: %s", v4, v9);
          dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_804B033;
        }
      }
    }
  }
  return dword_8052108(v2, v1);
}
// 804B040: using guessed type int sub_804B040();
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);
// 8052263: using guessed type int dword_8052263;
// 8052267: using guessed type char byte_8052267;

//----- (0804B00D) --------------------------------------------------------
#error "804B02E: call analysis failed (funcsize=11)"

//----- (0804B076) --------------------------------------------------------
int __cdecl sub_804B076(int a1, int a2, int a3, int a4, int a5, int a6)
{
  return posix_fadvise64(a1, a2, a3, a4, a5, a6);
}
// 8048F80: using guessed type int __cdecl posix_fadvise64(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (0804B10F) --------------------------------------------------------
int __cdecl sub_804B10F(int fd, int a2, size_t n)
{
  int v4; // [esp+14h] [ebp-14h]
  char *buf; // [esp+18h] [ebp-10h]
  ssize_t v6; // [esp+1Ch] [ebp-Ch]

  v4 = 0;
  buf = (char *)a2;
  while ( n )
  {
    v6 = sub_804CBBD(fd, buf, n);
    if ( v6 == -1 )
      break;
    if ( !v6 )
    {
      *__errno_location() = 28;
      return v4;
    }
    v4 += v6;
    buf += v6;
    n -= v6;
  }
  return v4;
}

//----- (0804B178) --------------------------------------------------------
int __fastcall sub_804B178(int a1, int a2, int a3)
{
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804B1C0;
  if ( !a3 )
  {
    fwrite("A NULL argv[0] was passed through an exec system call.\n", 1u, 0x37u, stderr);
    abort();
  }
  return dword_8052108(a1, a2);
}
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);

//----- (0804B1C0) --------------------------------------------------------
#error "804B1CE: call analysis failed (funcsize=19)"

//----- (0804B207) --------------------------------------------------------
#error "804B2BB: positive sp value has been found (funcsize=44)"

//----- (0804B398) --------------------------------------------------------
int __cdecl sub_804B398(int *a1, unsigned __int8 a2, char a3)
{
  int *v3; // eax
  int v4; // ST10_4

  if ( a1 )
    v3 = a1;
  else
    v3 = &dword_805228B;
  v4 = ((unsigned int)v3[(a2 >> 5) + 2] >> (a2 & 0x1F)) & 1;
  v3[(a2 >> 5) + 2] ^= (v4 ^ a3 & 1) << (a2 & 0x1F);
  return v4;
}
// 805228B: using guessed type int dword_805228B;

//----- (0804B442) --------------------------------------------------------
int *__cdecl sub_804B442(int *a1, int a2, int a3)
{
  int *result; // eax

  if ( !a1 )
    a1 = &dword_805228B;
  *a1 = 10;
  if ( !a2 || !a3 )
    abort();
  a1[10] = a2;
  result = a1;
  a1[11] = a3;
  return result;
}
// 805228B: using guessed type int dword_805228B;

//----- (0804B483) --------------------------------------------------------
int __cdecl sub_804B483(int a1, int a2)
{
  char v3; // [esp+0h] [ebp-38h]

  memset(&v3, 0, 0x30u);
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804B4BC;
  if ( a2 == 10 )
    abort();
  return dword_8052108(0, 12);
}
// 804B4BC: using guessed type int __stdcall sub_804B4BC(int);
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);

//----- (0804B4BC) --------------------------------------------------------
#error "804B512: positive sp value has been found (funcsize=0)"

//----- (0804B518) --------------------------------------------------------
const char *__cdecl sub_804B518(char *msgid, int a2)
{
  const char *result; // eax
  char *v3; // [esp+18h] [ebp-10h]
  unsigned __int8 *v4; // [esp+1Ch] [ebp-Ch]

  v3 = gettext(msgid);
  if ( v3 != msgid )
    return v3;
  v4 = (unsigned __int8 *)sub_804DC3E();
  if ( sub_804D614(v4, "UTF-8") )
  {
    if ( sub_804D614(v4, "GB18030") )
    {
      if ( a2 == 9 )
        result = (const char *)&unk_804EBA5;
      else
        result = "'";
    }
    else if ( *msgid == 96 )
    {
      result = (const char *)&unk_804EB9E;
    }
    else
    {
      result = (const char *)&unk_804EBA2;
    }
  }
  else if ( *msgid == 96 )
  {
    result = (const char *)&unk_804EB8E;
  }
  else
  {
    result = (const char *)&unk_804EB92;
  }
  return result;
}

//----- (0804B5B3) --------------------------------------------------------
void __cdecl sub_804B5B3(int a1, int a2, int a3, int a4, unsigned int a5, int a6, int a7, int a8, int a9)
{
  bool v9; // ST4B_1

  v9 = __ctype_get_mb_cur_max() == 1;
  if ( a5 <= 0xA )
    JUMPOUT(__CS__, off_804EBAC[a5]);
  abort();
}

//----- (0804C24A) --------------------------------------------------------
void *__cdecl sub_804C24A(int a1, int a2, _DWORD *a3, int *a4)
{
  int *v4; // eax
  int *v5; // ST3C_4
  int v6; // ST40_4
  int v7; // ST44_4
  int v8; // eax
  int size; // [esp+48h] [ebp-10h]
  void *v11; // [esp+4Ch] [ebp-Ch]

  if ( a4 )
    v4 = a4;
  else
    v4 = &dword_805228B;
  v5 = v4;
  v6 = *__errno_location();
  v7 = v5[1] | (a3 == 0);
  sub_804B5B3(0, 0, a1, a2, *v5, v7, (int)(v5 + 2), v5[10], v5[11]);
  size = v8 + 1;
  v11 = sub_804D393(v8 + 1);
  sub_804B5B3((int)v11, size, a1, a2, *v5, v7, (int)(v5 + 2), v5[10], v5[11]);
  *__errno_location() = v6;
  if ( a3 )
    *a3 = size - 1;
  return v11;
}
// 805228B: using guessed type int dword_805228B;

//----- (0804C3F1) --------------------------------------------------------
int __cdecl sub_804C3F1(int a1)
{
  int v1; // edx
  int v2; // ecx
  int v3; // ST114_4

  v3 = *__errno_location();
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804C427;
  if ( a1 < 0 )
    abort();
  return dword_8052108(v2, v1);
}
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);

//----- (0804C427) --------------------------------------------------------
int __usercall sub_804C427@<eax>(int a1@<edx>, int a2@<ecx>, int a3@<ebp>, int a4, unsigned int a5)
{
  bool v5; // zf
  bool v6; // sf
  unsigned __int8 v7; // of

  v7 = __OFSUB__(dword_805215C, *(_DWORD *)(a3 + 8));
  v5 = dword_805215C == *(_DWORD *)(a3 + 8);
  v6 = dword_805215C - *(_DWORD *)(a3 + 8) < 0;
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_804C53A;
  if ( (unsigned __int8)(v6 ^ v7) | v5 )
  {
    dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804C471;
    if ( a5 > 0xFFFFFFE )
      sub_804D4F8();
  }
  return dword_8052108(a2, a1);
}
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);
// 805215C: using guessed type int dword_805215C;

//----- (0804C471) --------------------------------------------------------
int __usercall sub_804C471@<eax>(int a1@<ecx>, int a2@<ebp>)
{
  int v2; // edx
  bool v3; // zf

  v2 = 8 * (*(_DWORD *)(a2 + 8) + 1);
  v3 = *(_BYTE *)(a2 - 33) == 0;
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&sub_804C4AF;
  if ( !v3 )
    dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_804C4B2;
  return dword_8052108(a1, v2);
}
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);

//----- (0804C4AF) --------------------------------------------------------
#error "804C69F: positive sp value has been found (funcsize=135)"

//----- (0804C6A2) --------------------------------------------------------
int __cdecl sub_804C6A2(int a1)
{
  return sub_804C3F1(a1);
}

//----- (0804C6CC) --------------------------------------------------------
int __cdecl sub_804C6CC(int a1)
{
  return sub_804C3F1(a1);
}

//----- (0804C732) --------------------------------------------------------
int __cdecl sub_804C732(int a1, int a2)
{
  char v3; // [esp+10h] [ebp-38h]

  sub_804B483((int)&v3, a2);
  return sub_804C3F1(a1);
}

//----- (0804C770) --------------------------------------------------------
int __cdecl sub_804C770(int a1, int a2)
{
  char v3; // [esp+10h] [ebp-38h]

  sub_804B483((int)&v3, a2);
  return sub_804C3F1(a1);
}

//----- (0804C7AD) --------------------------------------------------------
int __cdecl sub_804C7AD(int a1)
{
  return sub_804C732(0, a1);
}

//----- (0804C7F8) --------------------------------------------------------
int __cdecl sub_804C7F8(int a1, int a2, unsigned __int8 a3)
{
  int v4; // [esp+20h] [ebp-38h]
  int v5; // [esp+24h] [ebp-34h]
  int v6; // [esp+28h] [ebp-30h]
  int v7; // [esp+2Ch] [ebp-2Ch]
  int v8; // [esp+30h] [ebp-28h]
  int v9; // [esp+34h] [ebp-24h]
  int v10; // [esp+38h] [ebp-20h]
  int v11; // [esp+3Ch] [ebp-1Ch]
  int v12; // [esp+40h] [ebp-18h]
  int v13; // [esp+44h] [ebp-14h]
  int v14; // [esp+48h] [ebp-10h]
  int v15; // [esp+4Ch] [ebp-Ch]

  v4 = dword_805228B;
  v5 = dword_805228F;
  v6 = dword_8052293;
  v7 = dword_8052297;
  v8 = dword_805229B;
  v9 = dword_805229F;
  v10 = dword_80522A3;
  v11 = dword_80522A7;
  v12 = dword_80522AB;
  v13 = dword_80522AF;
  v14 = dword_80522B3;
  v15 = dword_80522B7;
  sub_804B398(&v4, a3, 1);
  return sub_804C3F1(0);
}
// 805228B: using guessed type int dword_805228B;
// 805228F: using guessed type int dword_805228F;
// 8052293: using guessed type int dword_8052293;
// 8052297: using guessed type int dword_8052297;
// 805229B: using guessed type int dword_805229B;
// 805229F: using guessed type int dword_805229F;
// 80522A3: using guessed type int dword_80522A3;
// 80522A7: using guessed type int dword_80522A7;
// 80522AB: using guessed type int dword_80522AB;
// 80522AF: using guessed type int dword_80522AF;
// 80522B3: using guessed type int dword_80522B3;
// 80522B7: using guessed type int dword_80522B7;

//----- (0804C8A2) --------------------------------------------------------
int __cdecl sub_804C8A2(int a1, unsigned __int8 a2)
{
  return sub_804C7F8(a1, -1, a2);
}

//----- (0804C8CB) --------------------------------------------------------
int __cdecl sub_804C8CB(int a1)
{
  return sub_804C8A2(a1, 0x3Au);
}

//----- (0804C908) --------------------------------------------------------
int __cdecl sub_804C908(int a1, int a2)
{
  int v3; // [esp+10h] [ebp-68h]
  int v4; // [esp+14h] [ebp-64h]
  int v5; // [esp+18h] [ebp-60h]
  int v6; // [esp+1Ch] [ebp-5Ch]
  int v7; // [esp+20h] [ebp-58h]
  int v8; // [esp+24h] [ebp-54h]
  int v9; // [esp+28h] [ebp-50h]
  int v10; // [esp+2Ch] [ebp-4Ch]
  int v11; // [esp+30h] [ebp-48h]
  int v12; // [esp+34h] [ebp-44h]
  int v13; // [esp+38h] [ebp-40h]
  int v14; // [esp+3Ch] [ebp-3Ch]
  int v15; // [esp+40h] [ebp-38h]
  int v16; // [esp+44h] [ebp-34h]
  int v17; // [esp+48h] [ebp-30h]
  int v18; // [esp+4Ch] [ebp-2Ch]
  int v19; // [esp+50h] [ebp-28h]
  int v20; // [esp+54h] [ebp-24h]
  int v21; // [esp+58h] [ebp-20h]
  int v22; // [esp+5Ch] [ebp-1Ch]
  int v23; // [esp+60h] [ebp-18h]
  int v24; // [esp+64h] [ebp-14h]
  int v25; // [esp+68h] [ebp-10h]
  int v26; // [esp+6Ch] [ebp-Ch]

  sub_804B483((int)&v3, a2);
  v15 = v3;
  v16 = v4;
  v17 = v5;
  v18 = v6;
  v19 = v7;
  v20 = v8;
  v21 = v9;
  v22 = v10;
  v23 = v11;
  v24 = v12;
  v25 = v13;
  v26 = v14;
  sub_804B398(&v15, 0x3Au, 1);
  return sub_804C3F1(a1);
}

//----- (0804C9A9) --------------------------------------------------------
int __cdecl sub_804C9A9(int a1, int a2, int a3)
{
  return sub_804C9D9(a1, a2, a3);
}

//----- (0804C9D9) --------------------------------------------------------
int __cdecl sub_804C9D9(int a1, int a2, int a3)
{
  int v4; // [esp+10h] [ebp-38h]
  int v5; // [esp+14h] [ebp-34h]
  int v6; // [esp+18h] [ebp-30h]
  int v7; // [esp+1Ch] [ebp-2Ch]
  int v8; // [esp+20h] [ebp-28h]
  int v9; // [esp+24h] [ebp-24h]
  int v10; // [esp+28h] [ebp-20h]
  int v11; // [esp+2Ch] [ebp-1Ch]
  int v12; // [esp+30h] [ebp-18h]
  int v13; // [esp+34h] [ebp-14h]
  int v14; // [esp+38h] [ebp-10h]
  int v15; // [esp+3Ch] [ebp-Ch]

  v4 = dword_805228B;
  v5 = dword_805228F;
  v6 = dword_8052293;
  v7 = dword_8052297;
  v8 = dword_805229B;
  v9 = dword_805229F;
  v10 = dword_80522A3;
  v11 = dword_80522A7;
  v12 = dword_80522AB;
  v13 = dword_80522AF;
  v14 = dword_80522B3;
  v15 = dword_80522B7;
  sub_804B442(&v4, a2, a3);
  return sub_804C3F1(a1);
}
// 805228B: using guessed type int dword_805228B;
// 805228F: using guessed type int dword_805228F;
// 8052293: using guessed type int dword_8052293;
// 8052297: using guessed type int dword_8052297;
// 805229B: using guessed type int dword_805229B;
// 805229F: using guessed type int dword_805229F;
// 80522A3: using guessed type int dword_80522A3;
// 80522A7: using guessed type int dword_80522A7;
// 80522AB: using guessed type int dword_80522AB;
// 80522AF: using guessed type int dword_80522AF;
// 80522B3: using guessed type int dword_80522B3;
// 80522B7: using guessed type int dword_80522B7;

//----- (0804CAD3) --------------------------------------------------------
int __cdecl sub_804CAD3(int a1)
{
  return sub_804C3F1(a1);
}

//----- (0804CB1E) --------------------------------------------------------
int __cdecl sub_804CB1E(int a1)
{
  return sub_804CAD3(a1);
}

//----- (0804CB5B) --------------------------------------------------------
ssize_t __cdecl sub_804CB5B(int fd, void *buf, size_t nbytes)
{
  ssize_t v4; // [esp+1Ch] [ebp-Ch]

  while ( 1 )
  {
    do
    {
      v4 = read(fd, buf, nbytes);
      if ( v4 >= 0 )
        return v4;
    }
    while ( *__errno_location() == 4 );
    if ( *__errno_location() != 22 || nbytes <= 0x7FFFE000 )
      break;
    nbytes = 2147475456;
  }
  return v4;
}

//----- (0804CBBD) --------------------------------------------------------
ssize_t __cdecl sub_804CBBD(int fd, void *buf, size_t n)
{
  ssize_t v4; // [esp+1Ch] [ebp-Ch]

  while ( 1 )
  {
    do
    {
      v4 = write(fd, buf, n);
      if ( v4 >= 0 )
        return v4;
    }
    while ( *__errno_location() == 4 );
    if ( *__errno_location() != 22 || n <= 0x7FFFE000 )
      break;
    n = 2147475456;
  }
  return v4;
}

//----- (0804CC1F) --------------------------------------------------------
int __cdecl sub_804CC1F(FILE *stream, int a2, int a3, int a4, int a5, int a6)
{
  char *v6; // eax
  char *v7; // eax
  int v8; // edi
  int v9; // ST4C_4
  int v10; // ST48_4
  int v11; // ST44_4
  int v12; // ST40_4
  int v13; // ST3C_4
  int v14; // ST38_4
  int v15; // esi
  int v16; // ebx
  char *v17; // eax

  if ( a2 )
    fprintf(stream, "%s (%s) %s\n", a2, a3, a4);
  else
    fprintf(stream, "%s %s\n", a3, a4);
  v6 = gettext("(C)");
  fprintf(stream, "Copyright %s %d Free Software Foundation, Inc.", v6, 2017);
  v7 = gettext(
         "\n"
         "License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>.\n"
         "This is free software: you are free to change and redistribute it.\n"
         "There is NO WARRANTY, to the extent permitted by law.\n"
         "\n");
  fputs_unlocked(v7, stream);
  if ( (unsigned int)a6 <= 9 )
    JUMPOUT(__CS__, *(&off_804F134 + a6));
  v8 = *(_DWORD *)(a5 + 32);
  v9 = *(_DWORD *)(a5 + 28);
  v10 = *(_DWORD *)(a5 + 24);
  v11 = *(_DWORD *)(a5 + 20);
  v12 = *(_DWORD *)(a5 + 16);
  v13 = *(_DWORD *)(a5 + 12);
  v14 = *(_DWORD *)(a5 + 8);
  v15 = *(_DWORD *)(a5 + 4);
  v16 = *(_DWORD *)a5;
  v17 = gettext("Written by %s, %s, %s,\n%s, %s, %s, %s,\n%s, %s, and others.\n");
  return fprintf(stream, v17, v16, v15, v14, v13, v12, v11, v10, v9, v8);
}
// 8048E70: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);
// 804F134: using guessed type void *;

//----- (0804D184) --------------------------------------------------------
int __cdecl sub_804D184(FILE *stream, int a2, int a3, int a4, int a5)
{
  int *v5; // eax
  unsigned int i; // [esp+24h] [ebp-34h]
  int v8[12]; // [esp+28h] [ebp-30h]

  for ( i = 0; i <= 9; ++i )
  {
    v5 = (int *)a5;
    a5 += 4;
    v8[i] = *v5;
    if ( !v8[i] )
      break;
  }
  return sub_804CC1F(stream, a2, a3, a4, (int)v8, i);
}
// 804D184: using guessed type int var_30[12];

//----- (0804D1EA) --------------------------------------------------------
int sub_804D1EA(FILE *stream, int a2, int a3, int a4, ...)
{
  va_list va; // [esp+50h] [ebp+18h]

  va_start(va, a4);
  return sub_804D184(stream, a2, a3, a4, (int)va);
}

//----- (0804D2EF) --------------------------------------------------------
void *__cdecl sub_804D2EF(void *ptr, int a2, int a3)
{
  unsigned int v4; // [esp+1Ch] [ebp-Ch]

  v4 = *(_DWORD *)a2;
  if ( ptr )
  {
    if ( 0x55555554u / a3 <= v4 )
      sub_804D4F8();
    v4 += (v4 >> 1) + 1;
  }
  else
  {
    if ( !v4 )
      v4 = (0x40u / a3 == 0) + 0x40u / a3;
    if ( 0x7FFFFFFFu / a3 < v4 )
      sub_804D4F8();
  }
  *(_DWORD *)a2 = v4;
  return sub_804D3D0(ptr, a3 * v4);
}

//----- (0804D393) --------------------------------------------------------
void *__cdecl sub_804D393(size_t size)
{
  return sub_804D3A6(size);
}

//----- (0804D3A6) --------------------------------------------------------
void *__cdecl sub_804D3A6(size_t size)
{
  void *v2; // [esp+1Ch] [ebp-Ch]

  v2 = malloc(size);
  if ( !v2 && size )
    sub_804D4F8();
  return v2;
}

//----- (0804D3D0) --------------------------------------------------------
void *__cdecl sub_804D3D0(void *ptr, size_t size)
{
  void *result; // eax
  void *ptra; // [esp+20h] [ebp+8h]

  if ( size || !ptr )
  {
    ptra = realloc(ptr, size);
    if ( !ptra )
    {
      if ( size )
        sub_804D4F8();
    }
    result = ptra;
  }
  else
  {
    free(ptr);
    __asm { pushfw }
    result = 0;
    __asm { popfw }
  }
  return result;
}

//----- (0804D4AA) --------------------------------------------------------
void *__cdecl sub_804D4AA(void *src, size_t n)
{
  void *v2; // eax

  v2 = sub_804D3A6(n);
  return memcpy(v2, src, n);
}

//----- (0804D4F8) --------------------------------------------------------
void __noreturn sub_804D4F8()
{
  char *v0; // eax

  v0 = gettext("memory exhausted");
  error(status, 0, "%s", v0);
  abort();
}

//----- (0804D531) --------------------------------------------------------
void sub_804D531()
{
  ;
}

//----- (0804D536) --------------------------------------------------------
void sub_804D536()
{
  if ( sub_804D5E1() < 0 )
    sub_804D531();
}

//----- (0804D559) --------------------------------------------------------
size_t __cdecl sub_804D559(wchar_t *pwc, char *s, size_t n, mbstate_t *p)
{
  char v5; // [esp+18h] [ebp-10h]
  size_t v6; // [esp+1Ch] [ebp-Ch]

  if ( !pwc )
    pwc = (wchar_t *)&v5;
  v6 = mbrtowc(pwc, s, n, p);
  if ( v6 <= 0xFFFFFFFD || !n || !((unsigned __int8)sub_804D767(0) ^ 1) )
    return v6;
  *pwc = (unsigned __int8)*s;
  return 1;
}

//----- (0804D5CB) --------------------------------------------------------
int sub_804D5CB()
{
  int result; // eax

  __asm { pushfw }
  result = 0;
  __asm { popfw }
  return result;
}

//----- (0804D5D6) --------------------------------------------------------
int sub_804D5D6()
{
  int result; // eax

  __asm { pushfw }
  result = 0;
  __asm { popfw }
  return result;
}

//----- (0804D5E1) --------------------------------------------------------
int sub_804D5E1()
{
  int result; // eax
  int v1; // [esp+14h] [ebp-4h]

  v1 = sub_804D5D6();
  if ( v1 )
    result = v1;
  else
    result = sub_804D5CB();
  return result;
}

//----- (0804D614) --------------------------------------------------------
int __cdecl sub_804D614(unsigned __int8 *a1, unsigned __int8 *a2)
{
  unsigned __int8 *v2; // esi
  unsigned __int8 *v3; // ebx
  int result; // eax
  unsigned __int8 v9; // [esp+1Eh] [ebp-Ah]
  unsigned __int8 v10; // [esp+1Fh] [ebp-9h]

  v2 = a1;
  v3 = a2;
  _CF = a1 < a2;
  _OF = __OFSUB__(a1, a2);
  _ZF = a1 == a2;
  _SF = a1 - a2 < 0;
  if ( a1 == a2 )
  {
    __asm { pushfw }
    result = 0;
    __asm { popfw }
  }
  else
  {
    do
    {
      v9 = sub_804E0CF(*v2);
      v10 = sub_804E0CF(*v3);
      if ( !v9 )
        break;
      ++v2;
      ++v3;
    }
    while ( v9 == v10 );
    result = v9 - v10;
  }
  return result;
}

//----- (0804D67A) --------------------------------------------------------
int __cdecl sub_804D67A(FILE *fp)
{
  bool v2; // ST122_1
  int v3; // edx
  int v4; // ecx
  int v5; // eax
  bool v6; // [esp+1Dh] [ebp-Bh]
  bool v7; // [esp+1Fh] [ebp-9h]

  v6 = __fpending(fp) != 0;
  v2 = ferror_unlocked(fp) != 0;
  v7 = sub_804DCF1(fp) != 0;
  dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_804D71F;
  if ( !v2 )
  {
    dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804D75F;
    if ( v7 )
    {
      dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_804D71F;
      if ( !v6 )
      {
        v5 = *__errno_location();
        dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))sub_804D75F;
        if ( v5 != 9 )
        {
          dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&loc_804D747;
          if ( v7 != 1 )
          {
            *__errno_location() = 0;
            dword_8052108 = (int (__fastcall *)(_DWORD, _DWORD))&locret_804D765;
          }
        }
      }
    }
  }
  return dword_8052108(v4, v3);
}
// 804D75F: using guessed type int sub_804D75F();
// 8052108: using guessed type int (__fastcall *dword_8052108)(_DWORD, _DWORD);

//----- (0804D75F) --------------------------------------------------------
#error "804D766: positive sp value has been found (funcsize=4)"

//----- (0804D767) --------------------------------------------------------
int __cdecl sub_804D767(int category)
{
  unsigned __int8 v2; // [esp+1Bh] [ebp-Dh]
  const char *s1; // [esp+1Ch] [ebp-Ch]

  v2 = 1;
  s1 = setlocale(category, 0);
  if ( s1 && (!strcmp(s1, "C") || !strcmp(s1, "POSIX")) )
    v2 = 0;
  return v2;
}

//----- (0804D7C5) --------------------------------------------------------
void *sub_804D7C5()
{
  char v4; // al
  signed int v5; // eax
  void *v7; // [esp+18h] [ebp-B0h]
  const char *s; // [esp+1Ch] [ebp-ACh]
  void *v9; // [esp+20h] [ebp-A8h]
  int v10; // [esp+24h] [ebp-A4h]
  signed int n; // [esp+2Ch] [ebp-9Ch]
  size_t v12; // [esp+30h] [ebp-98h]
  signed int v13; // [esp+34h] [ebp-94h]
  char *dest; // [esp+38h] [ebp-90h]
  int fd; // [esp+3Ch] [ebp-8Ch]
  FILE *stream; // [esp+40h] [ebp-88h]
  int c; // [esp+44h] [ebp-84h]
  int ca; // [esp+44h] [ebp-84h]
  size_t v19; // [esp+48h] [ebp-80h]
  size_t v20; // [esp+4Ch] [ebp-7Ch]
  void *v21; // [esp+50h] [ebp-78h]
  char src; // [esp+56h] [ebp-72h]
  char v23; // [esp+89h] [ebp-3Fh]
  unsigned int v24; // [esp+BCh] [ebp-Ch]

  v24 = __readgsdword(0x14u);
  v7 = (void *)dword_80523CB;
  if ( !dword_80523CB )
  {
    s = getenv("CHARSETALIASDIR");
    if ( !s || !*s )
      s = "/home/hwangdz/coreutils/coreutils-8.28/install_m32/lib";
    n = strlen(s);
    v12 = strlen("charset.alias");
    _CF = 0;
    _OF = 0;
    _ZF = n == 0;
    _SF = n < 0;
    if ( n
      && (v4 = s[n - 1],
          _CF = (unsigned __int8)v4 < 0x2Fu,
          _OF = __OFSUB__(v4, 47),
          _ZF = v4 == 47,
          _SF = (char)(v4 - 47) < 0,
          v4 != 47) )
    {
      v5 = 1;
    }
    else
    {
      __asm { pushfw }
      v5 = 0;
      __asm { popfw }
    }
    v13 = v5;
    dest = (char *)malloc(n + v5 + v12 + 1);
    if ( dest )
    {
      memcpy(dest, s, n);
      if ( v13 )
        dest[n] = 47;
      memcpy(&dest[n + v13], "charset.alias", v12 + 1);
    }
    free(0);
    if ( dest )
    {
      fd = open64(dest, 0x20000);
      if ( fd >= 0 )
      {
        stream = fdopen(fd, "r");
        if ( stream )
        {
          v9 = 0;
          v10 = 0;
          while ( 1 )
          {
            c = getc_unlocked(stream);
            if ( c == -1 )
              break;
            if ( c != 10 && c != 32 && c != 9 )
            {
              if ( c == 35 )
              {
                do
                  ca = getc_unlocked(stream);
                while ( ca != -1 && ca != 10 );
                if ( ca == -1 )
                  break;
              }
              else
              {
                ungetc(c, stream);
                if ( fscanf(stream, "%50s %50s", &src, &v23) <= 1 )
                  break;
                v19 = strlen(&src);
                v20 = strlen(&v23);
                v21 = v9;
                if ( v10 )
                {
                  v10 += v20 + v19 + 2;
                  v9 = realloc(v9, v10 + 1);
                }
                else
                {
                  v10 = v19 + v20 + 2;
                  v9 = malloc(v19 + v20 + 3);
                }
                if ( !v9 )
                {
                  v10 = 0;
                  free(v21);
                  break;
                }
                strcpy((char *)v9 + v10 - v20 - v19 - 2, &src);
                strcpy((char *)v9 + v10 - v20 - 1, &v23);
              }
            }
          }
          sub_804DCF1(stream);
          if ( v10 )
          {
            *((_BYTE *)v9 + v10) = 0;
            v7 = v9;
          }
          else
          {
            v7 = &unk_804F2C3;
          }
        }
        else
        {
          close(fd);
          v7 = &unk_804F2C3;
        }
      }
      else
      {
        v7 = &unk_804F2C3;
      }
      free(dest);
    }
    else
    {
      v7 = &unk_804F2C3;
    }
    dword_80523CB = (int)v7;
  }
  return v7;
}
// 8048C50: using guessed type int __cdecl open64(_DWORD, _DWORD);
// 80523CB: using guessed type int dword_80523CB;

//----- (0804DC3E) --------------------------------------------------------
const char *sub_804DC3E()
{
  char *v0; // ST1C_4
  const char *s1; // [esp+18h] [ebp-10h]
  char *s2; // [esp+1Ch] [ebp-Ch]

  s1 = nl_langinfo(14);
  if ( !s1 )
    s1 = (const char *)&unk_804F2C3;
  for ( s2 = (char *)sub_804D7C5(); *s2; s2 = &v0[strlen(v0) + 1] )
  {
    if ( !strcmp(s1, s2) || *s2 == 42 && !s2[1] )
    {
      s1 = &s2[strlen(s2) + 1];
      break;
    }
    v0 = &s2[strlen(s2) + 1];
  }
  if ( !*s1 )
    s1 = "ASCII";
  return s1;
}

//----- (0804DCF1) --------------------------------------------------------
int __cdecl sub_804DCF1(FILE *stream)
{
  int v2; // eax
  __int64 v3; // rax
  int v4; // [esp+14h] [ebp-14h]
  int v5; // [esp+18h] [ebp-10h]

  v4 = 0;
  if ( fileno(stream) < 0 )
    return fclose(stream);
  if ( !__freading(stream) || (v2 = fileno(stream), LODWORD(v3) = lseek64(v2, 0, 0, 1), v3 != -1) )
  {
    if ( sub_804DDED(stream) )
      v4 = *__errno_location();
  }
  v5 = fclose(stream);
  if ( v4 )
  {
    *__errno_location() = v4;
    v5 = -1;
  }
  return v5;
}
// 8048F60: using guessed type int __cdecl lseek64(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0804DDB4) --------------------------------------------------------
int __cdecl sub_804DDB4(FILE *stream)
{
  int result; // eax

  result = stream->_flags & 0x100;
  if ( result )
    result = sub_804DE2D(stream, 0, 0, 1);
  return result;
}

//----- (0804DDED) --------------------------------------------------------
int __cdecl sub_804DDED(FILE *fp)
{
  if ( !fp || !__freading(fp) )
    return fflush(fp);
  sub_804DDB4(fp);
  return fflush(fp);
}

//----- (0804DE2D) --------------------------------------------------------
int __cdecl sub_804DE2D(FILE *stream, int a2, int a3, int a4)
{
  int v4; // eax
  __off64_t v5; // rax
  int result; // eax

  if ( stream->_IO_read_end != stream->_IO_read_ptr
    || stream->_IO_write_ptr != stream->_IO_write_base
    || stream->_IO_save_base )
  {
    return fseeko64(stream, a2, a3, a4);
  }
  v4 = fileno(stream);
  LODWORD(v5) = lseek64(v4, a2, a3, a4);
  if ( v5 == -1 )
    return -1;
  _CF = 0;
  _OF = 0;
  _ZF = (stream->_flags & 0xFFFFFFEF) == 0;
  _SF = (stream->_flags & 0xFFFFFFEF & 0x80000000) != 0;
  stream->_flags &= 0xFFFFFFEF;
  stream->_offset = v5;
  __asm { pushfw }
  result = 0;
  __asm { popfw }
  return result;
}
// 8048D00: using guessed type int __cdecl fseeko64(_DWORD, _DWORD, _DWORD, _DWORD);
// 8048F60: using guessed type int __cdecl lseek64(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0804E0CF) --------------------------------------------------------
int __cdecl sub_804E0CF(int a1)
{
  int result; // eax

  if ( (unsigned int)(a1 - 65) > 0x19 )
    result = a1;
  else
    result = a1 + 32;
  return result;
}

//----- (0804E17D) --------------------------------------------------------
int __cdecl sub_804E17D(int a1)
{
  return __cxa_atexit(a1, 0, dword_8052120);
}
// 8048DE0: using guessed type int __cdecl __cxa_atexit(_DWORD, _DWORD, _DWORD);
// 8052120: using guessed type int dword_8052120;

//----- (0804E1AC) --------------------------------------------------------
int __cdecl sub_804E1AC(int a1, int a2)
{
  return __fxstat64(3, a1, a2);
}
// 8048D90: using guessed type int __cdecl __fxstat64(_DWORD, _DWORD, _DWORD);

//----- (0804E290) --------------------------------------------------------
int (**sub_804E290())()
{
  int (**result)(); // eax
  int v1; // esi
  int v2; // edi

  init_proc();
  result = off_8051EFC;
  v1 = &off_8051F00 - off_8051EFC;
  if ( v1 )
  {
    v2 = 0;
    do
      result = (int (**)())off_8051EFC[v2++]();
    while ( v1 != v2 );
  }
  return result;
}
// 8051EFC: using guessed type int (*off_8051EFC[2])();
// 8051F00: using guessed type int (*off_8051F00)();

//----- (0804E2F4) --------------------------------------------------------
void term_proc()
{
  ;
}

#error "There were 10 decompilation failure(s) on 96 function(s)"

/* This file has been generated by the Hex-Rays decompiler.
   Copyright (c) 2007-2017 Hex-Rays <info@hex-rays.com>

   Detected compiler: GNU C++
*/

#include <defs.h>


//-------------------------------------------------------------------------
// Function declarations

void *init_proc();
int sub_8049480();
// int raise(int sig);
// int strcmp(const char *s1, const char *s2);
// int open64(void); weak
// int putc_unlocked(int c, FILE *stream);
// struct passwd *getpwuid(__uid_t uid);
// int printf(const char *format, ...);
// void longjmp(struct __jmp_buf_tag env[1], int val);
// int fflush(FILE *stream);
// void _exit(int status);
// int sigprocmask(int how, const sigset_t *set, sigset_t *oset);
// int dirfd(DIR *dirp);
// int __cdecl wcwidth(_DWORD); weak
// void *memmove(void *dest, const void *src, size_t n);
// int _setjmp(struct __jmp_buf_tag env[1]);
// void free(void *ptr);
// uintmax_t strtoumax(const char *nptr, char **endptr, int base);
// void *memcpy(void *dest, const void *src, size_t n);
// int mbsinit(const mbstate_t *ps);
// int clock_gettime(clockid_t clock_id, struct timespec *tp);
// int tolower(int c);
// int fclose(FILE *stream);
// int getc_unlocked(FILE *stream);
// int __stdcall fseeko64(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// __sighandler_t signal(int sig, __sighandler_t handler);
// int memcmp(const void *s1, const void *s2, size_t n);
// int gettimeofday(struct timeval *tv, __timezone_ptr_t tz);
// char *dcgettext(const char *domainname, const char *msgid, int category);
// time_t mktime(struct tm *tp);
// struct tm *localtime_r(const time_t *timer, struct tm *tp);
// int sigismember(const sigset_t *set, int signo);
// int fflush_unlocked(FILE *stream);
// int iswcntrl(wint_t wc);
// char *textdomain(const char *domainname);
// ssize_t readlink(const char *path, char *buf, size_t len);
// int fnmatch(const char *pattern, const char *name, int flags);
// int iswprint(wint_t wc);
// int ioctl(int fd, unsigned int request, ...);
// int ferror_unlocked(FILE *stream);
// size_t fwrite(const void *ptr, size_t size, size_t n, FILE *s);
// int __cdecl __fxstat64(_DWORD, _DWORD, _DWORD); weak
// void tzset(void);
// size_t __ctype_get_mb_cur_max(void);
// char *strcpy(char *dest, const char *src);
// size_t __fpending(FILE *fp);
// size_t wcstombs(char *s, const wchar_t *pwcs, size_t n);
// size_t mbrtowc(wchar_t *pwc, const char *s, size_t n, mbstate_t *p);
// int gethostname(char *name, size_t len);
// int __cdecl __cxa_atexit(_DWORD, _DWORD, _DWORD); weak
// void error(int status, int errnum, const char *format, ...);
// int strcoll(const char *s1, const char *s2);
// char *getenv(const char *name);
// void *realloc(void *ptr, size_t size);
// void *malloc(size_t size);
// time_t timegm(struct tm *tp);
// int __freading(FILE *fp);
// void exit(int status);
// char *gettext(const char *msgid);
// FILE *fdopen(int fd, const char *modes);
// int __cdecl fputs_unlocked(_DWORD, _DWORD); weak
// int getopt_long(int argc, char *const *argv, const char *shortopts, const struct option *longopts, int *longind);
// unsigned int strtoul(const char *nptr, char **endptr, int base);
// char *strchr(const char *s, int c);
// char *getcwd(char *buf, size_t size);
// size_t strlen(const char *s);
// int setenv(const char *name, const char *value, int replace);
// int fprintf(FILE *stream, const char *format, ...);
// int sigaddset(sigset_t *set, int signo);
// void *memset(void *s, int c, size_t n);
// int snprintf(char *s, size_t maxlen, const char *format, ...);
// int *__errno_location(void);
// __pid_t tcgetpgrp(int fd);
// int fileno(FILE *stream);
// unsigned int gnu_dev_major(unsigned __int64 dev);
// size_t fwrite_unlocked(const void *ptr, size_t size, size_t n, FILE *stream);
// int __cdecl mempcpy(_DWORD, _DWORD, _DWORD); weak
// int __cdecl wcswidth(_DWORD, _DWORD); weak
// int sigemptyset(sigset_t *set);
// char *nl_langinfo(nl_item item);
// char *setlocale(int category, const char *locale);
// char *strrchr(const char *s, int c);
// size_t mbstowcs(wchar_t *pwcs, const char *s, size_t n);
// struct tm *gmtime_r(const time_t *timer, struct tm *tp);
// unsigned int gnu_dev_minor(unsigned __int64 dev);
// int sprintf(char *s, const char *format, ...);
// struct lconv *localeconv(void);
// int __stdcall lseek64(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); weak
// int readdir64(void); weak
// int sigaction(int sig, const struct sigaction *act, struct sigaction *oact);
// char *bindtextdomain(const char *domainname, const char *dirname);
// int strncmp(const char *s1, const char *s2, size_t n);
// int isatty(int fd);
// void abort(void);
// int __cdecl __xstat64(_DWORD, _DWORD, _DWORD); weak
// int __cdecl __lxstat64(_DWORD, _DWORD, _DWORD); weak
// int close(int fd);
// int closedir(DIR *dirp);
// DIR *opendir(const char *name);
// struct group *getgrgid(__gid_t gid);
// void __assert_fail(const char *assertion, const char *file, unsigned int line, const char *function);
// const unsigned __int16 **__ctype_b_loc(void);
// void *calloc(size_t nmemb, size_t size);
// int putchar_unlocked(int c);
// int _gmon_start__(void); weak
void sub_8049BE3();
void sub_8049C00();
int sub_8049C10();
int sub_8049C80();
int sub_8049CA0();
void sub_8049CFF();
void sub_8049D1A();
int sub_8049D2A();
void sub_8049E0C();
void sub_8049E27();
signed int sub_8049E37();
void sub_8049F2B();
void sub_8049F46();
int sub_8049F56();
void sub_804A038();
void sub_804A053();
int sub_804A063();
void sub_804A145();
void sub_804A160();
int sub_804A170();
void sub_804A252();
void sub_804A26D();
int sub_804A27D();
void sub_804A35F();
void sub_804A37A();
int sub_804A38A();
// int __usercall sub_804A3F1@<eax>(int a1@<eax>, int (__cdecl *a2)(void *, int)@<edx>);
void sub_804A488();
void sub_804A4A3();
int __fastcall sub_804A4B3(int a1, int a2);
int __fastcall sub_804A556(int a1, int a2);
void sub_804A5CA();
void sub_804A5E5();
int sub_804A5F5();
void sub_804A6D7();
void sub_804A6F2();
int sub_804A702();
void sub_804A820();
void sub_804A872();
int sub_804A882();
void sub_804A9D4();
void sub_804AA0B();
int __cdecl sub_804AB0D(int a1);
int __cdecl sub_804AB20(unsigned __int8 a1);
int __cdecl sub_804AB36(_DWORD); // weak
int sub_804ABC7();
int sub_804ABF2();
_DWORD sub_804AC25(); // weak
int __cdecl sub_804ACA1(char *s2, size_t n); // idb
int __cdecl sub_804ADEE(int a1, int a2);
int __cdecl sub_804AE11(int a1);
bool __cdecl sub_804AE27(int a1);
int sub_804AE33();
_DWORD __cdecl sub_804AE41(_DWORD, _DWORD, _DWORD, _DWORD); // weak
unsigned int __stdcall sub_804AF24(int a1);
unsigned int __cdecl sub_804AFD7(int a1, int a2);
_BYTE *__cdecl sub_804B126(_BYTE *a1);
void sub_804B16D();
signed int sub_804B21D();
char *sub_804B327();
int __cdecl sub_804B55B(__int64 *a1, unsigned int a2);
int __cdecl sub_804B5A2(int a1, _QWORD *a2);
void __cdecl sub_804B626(void *ptr);
int sub_804B63D(void); // weak
void __cdecl sub_804B711(void *ptr);
int __cdecl sub_804B743(int a1);
size_t sub_804B7E4();
size_t sub_804B804();
int __cdecl sub_804B886(int a1);
int sub_804B89C();
int sub_804B8B7();
__sighandler_t sub_804B99B();
__sighandler_t sub_804BBA0();
__sighandler_t sub_804BBB8();
int __cdecl main(int, char **, char **); // idb
int __cdecl sub_804C37A();
int __cdecl sub_804C40C(int argc, char **argv); // idb
int __cdecl sub_804D109(char *s2, size_t n, size_t); // idb
int sub_804D5D8(void); // weak
signed int sub_804D98F();
int sub_804DA6F(void); // weak
void sub_804DE90();
int __cdecl sub_804DF41(int a1);
_DWORD __cdecl sub_804DF78(_DWORD, _DWORD, _DWORD); // weak
_DWORD *__cdecl sub_804E001(char *a1, char *s, int a3);
_DWORD __cdecl sub_804E08B(_DWORD, _DWORD, _DWORD); // weak
_DWORD *__cdecl sub_804E873(int a1);
int __cdecl sub_804E8BA(int, char *name); // idb
int __cdecl sub_804E922(char *name); // idb
_DWORD __cdecl sub_804E9D1(_DWORD); // weak
int sub_804EA10();
void __cdecl sub_804EA4C(void **a1);
int sub_804EAD6();
_DWORD __cdecl sub_804EBA2(_DWORD); // weak
signed int __cdecl sub_804EBF1(int a1, int a2, char a3);
int __cdecl sub_804ECB8(int a1, int a2);
int sub_804ED7E(void); // weak
_BOOL4 __cdecl sub_804EE49(char *s);
_DWORD __cdecl sub_804EEBC(_DWORD, _DWORD, __int64, _DWORD, _DWORD); // weak
void sub_804FE99();
_DWORD __cdecl sub_804FEA1(_DWORD); // weak
_DWORD __cdecl sub_804FEE4(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_804FF74(int, char *s); // idb
int __cdecl sub_805005D(_BYTE *a1);
_DWORD __cdecl sub_805007E(_DWORD, char); // weak
int __cdecl sub_8050280(char *s1, char *s2); // idb
int __cdecl sub_805033A(int *a1, int *a2, int (*a3)(void));
int __cdecl sub_80503C4(_DWORD *a1, _DWORD *a2, int (__cdecl *a3)(_DWORD, _DWORD));
int __cdecl sub_805044C(_DWORD *a1, _DWORD *a2, int (__cdecl *a3)(_DWORD, _DWORD));
_DWORD __cdecl sub_80504DA(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_8050598(_DWORD *a1, _DWORD *a2, int (__cdecl *a3)(_DWORD, _DWORD));
_DWORD __cdecl sub_80505CA(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_8050DF8(int a1, int a2);
int __cdecl sub_8050E1A(int a1, int a2);
int __cdecl sub_8050E3C(int a1, int a2);
int __cdecl sub_8050E5E(int a1, int a2);
signed int __cdecl sub_8050E80(int a1, int a2);
signed int __cdecl sub_8050FF8(int a1, int a2);
int __cdecl sub_8051066(_DWORD *a1, _DWORD *a2);
int __cdecl sub_8051088(_DWORD *a1, _DWORD *a2);
int __cdecl sub_80510AA(_DWORD *a1, _DWORD *a2);
int __cdecl sub_80510CC(_DWORD *a1, _DWORD *a2);
int __cdecl sub_805118E(_DWORD *a1, _DWORD *a2);
int __cdecl sub_80511FC(_DWORD *a1, _DWORD *a2);
int __cdecl sub_8051302(int a1, int a2);
int __cdecl sub_8051324(int a1, int a2);
int __cdecl sub_8051346(int a1, int a2);
int __cdecl sub_8051368(int a1, int a2);
signed int __cdecl sub_805138A(int a1, int a2);
signed int __cdecl sub_8051411(int a1, int a2);
signed int __cdecl sub_8051483(int a1, int a2);
signed int __cdecl sub_805150A(int a1, int a2);
int __cdecl sub_8051578(char **a1, char **a2);
int __cdecl sub_8051596(char **a1, char **a2);
int __cdecl sub_80515B0(char **a1, char **a2);
int __cdecl sub_80515CA(int a1, int a2);
int __cdecl sub_8051652(char **a1, char **a2);
int sub_80516B8();
int sub_8051730(void); // weak
int sub_8051891(void); // weak
// int __usercall sub_8051A04@<eax>(int edx0@<edx>, int ecx0@<ecx>, int a1, int a2, unsigned __int8 a3, int a4, int a5, int a6);
int sub_8051AB5();
int __cdecl sub_8051BBA(char *s, int, int); // idb
// int __usercall sub_8051CB5@<eax>(int a1@<edx>, int a2@<ecx>, __uid_t uid, int a4, int a5);
int __cdecl sub_8051D26(__gid_t gid, int, int); // idb
size_t __cdecl sub_8051D7D(char *a1, int a2);
// size_t __usercall sub_8051E03@<eax>(int a1@<edx>, int a2@<ecx>, __uid_t uid);
size_t __cdecl sub_8051E59(__gid_t gid);
const char *__cdecl sub_8051E8D(int a1, unsigned int a2, int a3);
_DWORD __cdecl sub_8051F19(_DWORD); // weak
_DWORD __cdecl sub_8052B44(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_8052B96(void *src, size_t n, mbstate_t *p, int); // idb
int __cdecl sub_80530CA(void *a1, int a2, int a3);
char *__cdecl sub_80531B2(char *s);
// int __usercall sub_80532E1@<eax>(void *a1@<ebx>, void *a2, int a3, int a4, int a5, char a6, int a7, char *a8);
int __cdecl sub_80537B8(int *a1, unsigned __int8 a2);
size_t sub_8053943();
// int __usercall sub_805398A@<eax>(int a1@<ebx>, int a2);
_DWORD __cdecl sub_8053BCC(_DWORD, _DWORD, _DWORD); // weak
bool __cdecl sub_8053D70(unsigned __int8 a1, int a2, int a3);
bool sub_8053DD1();
_DWORD __cdecl sub_8053E30(_DWORD, _DWORD); // weak
size_t __cdecl sub_8054294(int a1);
_DWORD __cdecl sub_8054302(_DWORD); // weak
// unsigned int __usercall sub_805455F@<eax>(int a1@<ebx>);
// int __usercall sub_805469F@<eax>(int a1@<ebx>);
_DWORD __cdecl sub_80547FB(_DWORD); // weak
unsigned int __cdecl sub_8054911(unsigned int a1, unsigned int a2);
_BYTE *__cdecl sub_80549B6(_BYTE *a1, _BYTE *a2, _BYTE *a3);
int sub_8054A4E(void); // weak
_DWORD __cdecl sub_8054C8C(_DWORD); // weak
void __cdecl __noreturn sub_8054F64(int status); // idb
char *__cdecl sub_80552F3(char *path, int a2);
void __noreturn sub_8055407();
int __cdecl sub_805541B();
void __cdecl sub_8055577(int a1, int a2, int a3);
int __cdecl sub_805561A(int, int, size_t n); // idb
void (*__cdecl sub_8055745(int a1, char *a2, int a3, size_t a4, size_t a5))(void);
signed int __cdecl sub_8055878(signed int a1);
_DWORD __cdecl sub_80558B6(_DWORD); // weak
_BOOL4 __cdecl sub_8055970(int a1);
int __cdecl sub_8055AC8(int a1);
// int __usercall sub_8055BDA@<eax>(int a1@<edx>, int a2@<ecx>, void *src, int a4);
int sub_80565DF();
_DWORD __cdecl sub_80566DC(_DWORD); // weak
void *__cdecl sub_8056783(void *src);
int __cdecl sub_8056815(_BYTE *a1);
unsigned int __cdecl sub_805688E(char *s);
int sub_80568E5();
_DWORD sub_80568EF(); // weak
int __cdecl sub_80569E7(int a1);
signed int __cdecl sub_8056A5F(__int16 a1);
_DWORD __cdecl sub_8056B2C(_DWORD, _DWORD); // weak
int __cdecl sub_8056DB9(int a1, int a2);
void *__cdecl sub_8056DD6(_BYTE *a1, _BYTE *a2, _DWORD *a3);
_BYTE *__cdecl sub_8056E20(_BYTE *a1);
void *__cdecl sub_8056E3C(_BYTE *a1, _BYTE *a2, _DWORD *a3);
_DWORD __cdecl sub_8057073(_DWORD); // weak
int __cdecl sub_805737C(char *s1, char *s2); // idb
struct timespec *__cdecl sub_805761F(struct timespec *tp);
int __cdecl sub_805766E(int category); // idb
int __cdecl sub_80576DA(int a1);
int __cdecl sub_80576E5(int a1);
_DWORD sub_80576F4(); // weak
int __cdecl sub_805795D(_DWORD *a1, int a2);
int __cdecl sub_80579AD(int a1, int a2);
bool sub_8057CBD();
_DWORD __cdecl sub_8057D32(_DWORD); // weak
unsigned int __cdecl sub_8057DD0(int a1, unsigned int a2);
bool __cdecl sub_8057DFB(int a1, int a2);
_DWORD __cdecl sub_8057E09(_DWORD); // weak
unsigned int __cdecl sub_8057F12(unsigned int a1, int a2);
_DWORD *__cdecl sub_8057FCF(unsigned int a1, void *a2, unsigned int (__cdecl *a3)(int a1, unsigned int a2), bool (__cdecl *a4)(int a1, int a2), int a5);
int __cdecl sub_8058210(void *); // idb
_DWORD __cdecl sub_805833F(_DWORD); // weak
int __cdecl sub_8058393(int a1, _DWORD *a2);
_DWORD __cdecl sub_80583C6(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_8058571(_DWORD, _DWORD, _DWORD); // weak
signed int __cdecl sub_8058746(int a1, unsigned int a2);
int __cdecl sub_8058934(int a1, int a2, _DWORD *a3);
int __cdecl sub_8058C10(int a1, int a2);
int __cdecl sub_8058C53(int a1, int a2);
int __cdecl sub_8058E8C(int a1, unsigned int a2);
int __cdecl sub_8059031(int a1, int a2);
void __cdecl sub_80590D1(void **a1);
int __cdecl sub_80590F7(int, _TBYTE); // idb
char *__cdecl sub_8059257(int a1, size_t n, int a3, int a4);
_DWORD __cdecl sub_80593A8(_DWORD, _DWORD); // weak
int __cdecl sub_80593E1(_TBYTE); // idb
__int64 sub_805A1ED();
int __cdecl sub_805A21B(char *s, int, int); // idb
int __cdecl sub_805A40C(char *s, int, int); // idb
// char *__usercall sub_805A459@<eax>(int a1@<edx>, int a2@<ecx>, __uid_t uid);
int __cdecl sub_805A685(__gid_t gid); // idb
int __cdecl sub_805A8F7(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_805AA84(signed __int64 a1, int a2);
int __cdecl sub_805AB32(_DWORD *a1);
int __cdecl sub_805ABB3(int *a1, unsigned int a2);
_BYTE *__cdecl sub_805AC23(_BYTE *a1, unsigned int a2, int a3);
int __cdecl sub_805AC54(char *s, int, int, int, int, int); // idb
int __cdecl sub_805B117(char *s, int); // idb
_DWORD __cdecl sub_805B144(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_805B442(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_805B469(void *src, size_t n, int); // idb
_DWORD __cdecl sub_805B629(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_805B8DB(int a1, int a2, int a3);
int __cdecl sub_805B941(int a1, int a2, int a3);
_DWORD __cdecl sub_805B985(_DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_805B9FA(int a1, int a2);
int __cdecl sub_805BA57(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_805BAC9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
char *__cdecl sub_805E759(char *s);
void *__cdecl sub_805E850(void *src);
int __cdecl sub_805E892(int *a1);
int *__cdecl sub_805E8BD(int a1, int a2);
int __cdecl sub_805E8F0(int *a1, unsigned __int8 a2, char a3);
int *__cdecl sub_805E9CC(int *a1, int a2, int a3);
// _DWORD *__userpurge sub_805EA1D@<eax>(_DWORD *a1, int a2);
char *__cdecl sub_805EABF(char *msgid);
_DWORD __cdecl sub_805EB98(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_805EC25(void *s2, size_t n, mbstate_t *p, int, int, int, int, int); // idb
_DWORD __cdecl sub_805FA33(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
void *__cdecl sub_805FB3E(int a1, int a2, _DWORD *a3, int *a4);
void *__cdecl sub_805FD22(signed int a1, int a2, int a3, _DWORD *a4);
void *__cdecl sub_805FF8F(signed int a1, int a2);
void *__cdecl sub_8060041(signed int a1, int a2, int a3);
int __cdecl sub_8060083(int, char *format, int, int); // idb
void *__cdecl sub_8060111(int a1, int a2);
void *__cdecl sub_8060170(int a1, int a2, unsigned __int8 a3);
void *__cdecl sub_806022A(int a1, char a2);
void *__cdecl sub_8060277(int a1);
void *__cdecl sub_80602B8(signed int a1, int a2, int a3);
void *__cdecl sub_806036D(signed int a1, int a2, int a3, int a4);
void *__cdecl sub_80603B1(signed int a1, int a2, int a3, int a4, int a5);
void *__cdecl sub_80604F4(signed int a1, int a2, int a3);
void *__cdecl sub_806056D(signed int a1, int a2);
void *__cdecl sub_806058F(int a1);
// int __usercall sub_80605CC@<eax>(int a1@<ebx>);
void sub_8060829();
signed int sub_806087A();
signed int sub_8060892();
// _DWORD *__userpurge sub_80609D4@<eax>(_DWORD *a1, int a2);
// _DWORD *__userpurge sub_80609FF@<eax>(_DWORD *a1, int a2);
// _DWORD *__userpurge sub_8060A2E@<eax>(_DWORD *a1, int a2);
int __cdecl sub_8060AEE(_DWORD, _DWORD, _DWORD, _DWORD); // weak
int __cdecl sub_8060BCA(FILE *stream, int, int, int, int, int); // idb
int __cdecl sub_806123D(FILE *stream, int, int, int, int); // idb
_DWORD __cdecl sub_80612DA(_DWORD, _DWORD, _DWORD, _DWORD, char); // weak
void *__cdecl sub_80613BF(unsigned int a1, unsigned int a2);
int __cdecl sub_80613FD(void *ptr, int, int); // idb
int __cdecl sub_8061436(void *ptr, int, int); // idb
void *__cdecl sub_80614D1(size_t size);
void *__cdecl sub_80614E8(size_t size);
int __cdecl sub_806152F(void *ptr, size_t size); // idb
int __cdecl sub_80615B0(void *ptr, int); // idb
void *__cdecl sub_8061651(void *src, size_t n);
void *__cdecl sub_806167E(char *s);
void __noreturn sub_80616A7();
__int64 __cdecl sub_80616EE(char *nptr, int base, int a3, int a4, int a5, int a6, char *s);
char *sub_80618EF();
char *sub_806192C();
signed int __cdecl sub_8061A04(unsigned int *a1, unsigned int a2);
int __cdecl sub_8061AE7(char *nptr, int, int base, int, char *s); // idb
void __cdecl sub_8061F71(int a1, int a2, int a3, int a4, int a5, int status);
void __cdecl __noreturn sub_8062059(int a1, int a2, char a3, int a4, int a5);
signed int __cdecl sub_80620AC(int a1, signed int a2);
int __cdecl sub_806217A(int a1, signed int a2, int a3);
int __cdecl sub_80621B0();
size_t __cdecl sub_8062613(wchar_t *pwc, char *s, size_t n, mbstate_t *p);
int __cdecl sub_8062695(int a1, int a2);
int __cdecl sub_80626D7(int a1, int a2);
signed int __cdecl sub_8062735(signed int *a1, signed int a2, signed int a3);
_DWORD __cdecl sub_8062844(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_8062924(_DWORD, _DWORD); // weak
int __cdecl sub_8062C9B(int a1, int a2);
_BOOL4 __cdecl sub_8062CDD(_DWORD *a1, _DWORD *a2);
char *__cdecl sub_8062D7F(void *dest, void *src, size_t n);
char *__cdecl sub_8062DCF(char *s);
signed int __cdecl sub_8062E9B(int a1, unsigned int a2);
void *__cdecl sub_806305C(void *ptr);
char *sub_8063093();
int __cdecl sub_80630B7(char *value); // idb
signed int __cdecl sub_8063123(int a1);
_DWORD __cdecl sub_8063164(_DWORD); // weak
int __cdecl sub_8063255(void *ptr); // idb
struct tm *__cdecl sub_80632C6(int a1, time_t *timer, struct tm *tp);
int __cdecl sub_806338C(int, struct tm *tp); // idb
int __cdecl sub_80635B8(int a1, char a2);
int __cdecl sub_806379F(FILE *fp); // idb
void *__cdecl sub_8063830(void *src);
unsigned int __cdecl sub_8063860(_BYTE *a1, unsigned int a2);
int __fastcall __noreturn sub_80638BF(int a1, int a2);
int sub_8063DFF(); // weak
void __noreturn sub_8063E08();
int __cdecl sub_8063EF6(FILE *stream); // idb
int __cdecl sub_8064009(FILE *stream); // idb
int __cdecl sub_8064046(FILE *fp); // idb
int __cdecl sub_806408A(FILE *stream, int, int, int); // idb
_DWORD __cdecl sub_80641A8(_DWORD, _DWORD, _DWORD, _DWORD); // weak
_DWORD __cdecl sub_8064371(_DWORD, _DWORD, _DWORD, _DWORD); // weak
signed __int64 __cdecl sub_806458B(unsigned __int64 a1, unsigned int a2, unsigned int a3);
_DWORD __cdecl sub_80646E2(__int64, __int64); // weak
int __cdecl sub_8064920(int a1);
int __cdecl sub_8064953(int a1, int a2);
int __cdecl sub_80649A2(int a1, int a2);
int __cdecl sub_80649F3(int a1, int a2);
int __stdcall sub_8064B53(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_8064BC9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __fastcall sub_8064C35(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __fastcall sub_8064D19(_DWORD, _DWORD);
int __fastcall sub_8064D8D(_DWORD, _DWORD); // weak
int __stdcall sub_8064E07(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_8064E75(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int __stdcall sub_8064EED(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD); // weak
int (**sub_8064F00())();
void term_proc();

//-------------------------------------------------------------------------
// Data declarations

_UNKNOWN locret_804A4C2; // weak
_UNKNOWN loc_804B1ED; // weak
_UNKNOWN loc_804B1F4; // weak
_UNKNOWN loc_804B512; // weak
_UNKNOWN loc_804B798; // weak
_UNKNOWN loc_804B7AA; // weak
_UNKNOWN loc_804B850; // weak
_UNKNOWN locret_804B884; // weak
_UNKNOWN loc_804BABA; // weak
_UNKNOWN loc_804BB25; // weak
_UNKNOWN loc_804DA35; // weak
_UNKNOWN loc_804DA40; // weak
_UNKNOWN loc_804DA51; // weak
_UNKNOWN loc_804E901; // weak
_UNKNOWN loc_804E908; // weak
_UNKNOWN locret_804EAC4; // weak
_UNKNOWN loc_80513E8; // weak
_UNKNOWN loc_80513F5; // weak
_UNKNOWN loc_80514C4; // weak
_UNKNOWN loc_80514D6; // weak
_UNKNOWN loc_8051A34; // weak
_UNKNOWN loc_8051A63; // weak
_UNKNOWN loc_8051B22; // weak
_UNKNOWN loc_8051B8F; // weak
_UNKNOWN locret_8051F17; // weak
_UNKNOWN loc_80531EA; // weak
_UNKNOWN loc_80532D6; // weak
_UNKNOWN loc_80533B6; // weak
_UNKNOWN loc_80533D8; // weak
_UNKNOWN loc_8053418; // weak
_UNKNOWN loc_80534EB; // weak
_UNKNOWN loc_805350D; // weak
_UNKNOWN loc_80535C3; // weak
_UNKNOWN loc_8053712; // weak
_UNKNOWN loc_805375F; // weak
_UNKNOWN loc_805392C; // weak
_UNKNOWN loc_8053938; // weak
_UNKNOWN loc_8053AFC; // weak
_UNKNOWN loc_8053B2F; // weak
_UNKNOWN loc_8055544; // weak
_UNKNOWN loc_8055548; // weak
_UNKNOWN loc_8055C5B; // weak
_UNKNOWN loc_8055C70; // weak
_UNKNOWN loc_8056622; // weak
_UNKNOWN loc_8056632; // weak
_UNKNOWN loc_80568C8; // weak
_UNKNOWN loc_8056A0C; // weak
_UNKNOWN loc_8056A13; // weak
_UNKNOWN loc_8056EA1; // weak
_UNKNOWN loc_8056ECC; // weak
_UNKNOWN loc_8056ED7; // weak
_UNKNOWN loc_80573B6; // weak
_UNKNOWN loc_80573C0; // weak
_UNKNOWN loc_8057A06; // weak
_UNKNOWN loc_8057A5A; // weak
_UNKNOWN loc_80580A1; // weak
_UNKNOWN loc_80580BC; // weak
_UNKNOWN loc_8058120; // weak
_UNKNOWN locret_8058932; // weak
_UNKNOWN loc_8058988; // weak
_UNKNOWN loc_80589A0; // weak
_UNKNOWN loc_8058E4E; // weak
_UNKNOWN loc_8058E87; // weak
_UNKNOWN loc_80592E8; // weak
_UNKNOWN loc_805A4A4; // weak
_UNKNOWN loc_805AB44; // weak
_UNKNOWN loc_805ABAD; // weak
_UNKNOWN loc_805E8E9; // weak
_UNKNOWN loc_806074A; // weak
_UNKNOWN loc_8060773; // weak
_UNKNOWN loc_806124C; // weak
_UNKNOWN loc_806128C; // weak
_UNKNOWN loc_806151F; // weak
_UNKNOWN loc_806152A; // weak
_UNKNOWN loc_8061824; // weak
_UNKNOWN loc_8061829; // weak
_UNKNOWN loc_80625CB; // weak
_UNKNOWN loc_8063018; // weak
_UNKNOWN loc_8063032; // weak
_UNKNOWN loc_806337A; // weak
_UNKNOWN loc_8063385; // weak
_UNKNOWN locret_806338A; // weak
_UNKNOWN loc_8063875; // weak
_UNKNOWN loc_80638B0; // weak
_UNKNOWN loc_8063915; // weak
_UNKNOWN loc_8063B6D; // weak
_UNKNOWN loc_8063B7F; // weak
_UNKNOWN loc_8063BA6; // weak
_UNKNOWN loc_8063BDF; // weak
_UNKNOWN loc_8063DCF; // weak
_UNKNOWN loc_8063DFA; // weak
char locale = '\0'; // idb
_UNKNOWN unk_8066401; // weak
int sig[12] = { 20, 14, 1, 2, 13, 3, 15, 29, 27, 26, 24, 25 }; // idb
_UNKNOWN unk_8069780; // weak
_UNKNOWN unk_80698E4; // weak
int dword_8069BF8[10] = { 0, 1, 2, 3, 4, 5, 6, 7, 8, 9 }; // idb
_UNKNOWN unk_806A738; // weak
_UNKNOWN unk_806A793; // weak
_UNKNOWN unk_806B39C; // weak
_UNKNOWN unk_806B39F; // weak
_UNKNOWN unk_806D3A8; // weak
_UNKNOWN unk_806D3AB; // weak
_UNKNOWN unk_806E3E4; // weak
_UNKNOWN unk_806E3E7; // weak
_UNKNOWN unk_806F40C; // weak
_UNKNOWN unk_806F40F; // weak
int (*off_8070ED8[2])() = { &sub_8049CA0, &sub_8049C80 }; // weak
int (*off_8070EDC)() = &sub_8049C80; // weak
int (*dword_8071008)(void) = NULL; // weak
int dword_80711DC = 0; // weak
int dword_80711F0 = 0; // weak
int dword_8071204 = 0; // weak
int dword_8071218 = 0; // weak
int dword_807122C = 0; // weak
int dword_8071240 = 0; // weak
int dword_8071254 = 0; // weak
int dword_8071268 = 0; // weak
int dword_80712AC = 0; // weak
_UNKNOWN unk_80712C8; // weak
int dword_80712E8[] = { 2 }; // weak
void *s1 = &unk_80663FC; // idb
int dword_80712F0 = 1; // weak
_UNKNOWN unk_80712F8; // weak
int dword_80712FC = 0; // weak
_UNKNOWN unk_8071300; // weak
_UNKNOWN unk_8071308; // weak
_UNKNOWN unk_80713A0; // weak
char *off_80713A8 = "%b %e  %Y"; // idb
int dword_80713B4 = 4294967295; // weak
int status = 1; // idb
int dword_8071408 = 1; // weak
int dword_807140C = 256; // weak
void *off_8071410 = &unk_80728BC; // weak
int *off_8071414 = &dword_807140C; // weak
_UNKNOWN unk_8071428; // weak
_UNKNOWN unk_8071448; // weak
_UNKNOWN unk_807144B; // weak
_UNKNOWN unk_8071450; // weak
_UNKNOWN unk_8071453; // weak
_UNKNOWN unk_807145C; // weak
_UNKNOWN unk_807145F; // weak
int program_invocation_short_name; // weak
FILE *stderr; // idb
int program_invocation_name; // weak
FILE *stdout; // idb
int (*obstack_alloc_failed_handler)(void); // weak
char byte_80714AC; // weak
_UNKNOWN unk_807154A; // weak
char byte_8071714; // weak
void *dword_8071840; // idb
int dword_8071848; // weak
char byte_807184C; // weak
char byte_807184D; // weak
void *dword_8071850; // idb
char *dword_807185C; // idb
int dword_8071860; // weak
char byte_807186C; // weak
char byte_807186D; // weak
int dword_8071870; // weak
int dword_8071874; // weak
int dword_8071878; // weak
int dword_807187C; // idb
int dword_8071880; // idb
int dword_8071884; // idb
int dword_8071888; // idb
int dword_807188C; // weak
int dword_8071890; // weak
int dword_8071894; // weak
int dword_8071898; // weak
char byte_80718A6; // weak
char byte_80718A7; // weak
int dword_80718A8; // weak
__int64 qword_80718AC; // weak
char byte_80718B8; // weak
int dword_80718BC; // weak
char byte_80718C0; // weak
char byte_80718C2; // weak
char byte_80718CD; // weak
int dword_80718DC; // idb
int dword_80718E8; // weak
int dword_80718F0; // weak
int dword_80718F8; // weak
int dword_80718FC; // idb
sigset_t set; // idb
int dword_807199C; // weak
int dword_80719A0; // weak
int dword_80719A4; // weak
void *dword_80719A8; // idb
int dword_80719B0; // weak
_UNKNOWN unk_8071A3C; // weak
int dword_8071A48; // weak
char byte_807277C; // weak
struct __jmp_buf_tag env[1]; // idb
__int64 qword_807283C; // weak
__int64 qword_8072844; // weak
int dword_8072858; // weak
char byte_807285C; // weak
int dword_8072860; // weak
int dword_8072870; // weak
int dword_807287C; // weak
int dword_8072880; // weak
int dword_8072884; // weak
int dword_8072888; // weak
int dword_807288C; // weak
int dword_8072890; // weak
int dword_8072894; // weak
int dword_8072898; // weak
int dword_807289C; // weak
int dword_80728A0; // weak
int dword_80728A4; // weak
int dword_80728A8; // weak
_UNKNOWN unk_80728BC; // weak
int dword_80729BC; // weak
// extern _UNKNOWN __gmon_start__; weak


//----- (0804945C) --------------------------------------------------------
void *init_proc()
{
  void *result; // eax

  result = &__gmon_start__;
  if ( &__gmon_start__ )
    result = (void *)_gmon_start__();
  return result;
}
// 8049BA0: using guessed type int _gmon_start__(void);

//----- (08049480) --------------------------------------------------------
int sub_8049480()
{
  return dword_8071008();
}
// 8071008: using guessed type int (*dword_8071008)(void);

//----- (08049BB0) --------------------------------------------------------
#error "8049BB3: positive sp value has been found (funcsize=2)"

//----- (08049BE3) --------------------------------------------------------
void sub_8049BE3()
{
  ;
}

//----- (08049C00) --------------------------------------------------------
void sub_8049C00()
{
  ;
}

//----- (08049C10) --------------------------------------------------------
int sub_8049C10()
{
  int result; // eax

  result = &unk_807145F - &unk_807145C;
  if ( (unsigned int)(&unk_807145F - &unk_807145C) > 6 )
    result = 0;
  return result;
}
// 8049C10: could not find valid save-restore pair for ebp

//----- (08049C80) --------------------------------------------------------
int sub_8049C80()
{
  int result; // eax

  if ( !byte_80714AC )
  {
    result = sub_8049C10();
    byte_80714AC = 1;
  }
  return result;
}
// 8049C80: could not find valid save-restore pair for ebp
// 80714AC: using guessed type char byte_80714AC;

//----- (08049CA0) --------------------------------------------------------
int sub_8049CA0()
{
  return 0;
}
// 8049CA0: could not find valid save-restore pair for ebp

//----- (08049CFF) --------------------------------------------------------
void sub_8049CFF()
{
  ;
}

//----- (08049D1A) --------------------------------------------------------
void sub_8049D1A()
{
  ;
}

//----- (08049D2A) --------------------------------------------------------
int sub_8049D2A()
{
  int result; // eax

  result = &unk_807144B - &unk_8071448;
  if ( (unsigned int)(&unk_807144B - &unk_8071448) > 6 )
    result = 0;
  return result;
}
// 8049D2A: could not find valid save-restore pair for ebp

//----- (08049E0C) --------------------------------------------------------
void sub_8049E0C()
{
  ;
}

//----- (08049E27) --------------------------------------------------------
void sub_8049E27()
{
  ;
}

//----- (08049E37) --------------------------------------------------------
signed int sub_8049E37()
{
  return 3;
}
// 8049E37: could not find valid save-restore pair for ebp

//----- (08049F2B) --------------------------------------------------------
void sub_8049F2B()
{
  ;
}

//----- (08049F46) --------------------------------------------------------
void sub_8049F46()
{
  ;
}

//----- (08049F56) --------------------------------------------------------
int sub_8049F56()
{
  int result; // eax

  result = &unk_807154A - (_UNKNOWN *)&program_invocation_short_name;
  if ( (unsigned int)(&unk_807154A - (_UNKNOWN *)&program_invocation_short_name) > 6 )
    result = 0;
  return result;
}
// 8049F56: could not find valid save-restore pair for ebp
// 8071460: using guessed type int program_invocation_short_name;

//----- (0804A038) --------------------------------------------------------
void sub_804A038()
{
  ;
}

//----- (0804A053) --------------------------------------------------------
void sub_804A053()
{
  ;
}

//----- (0804A063) --------------------------------------------------------
int sub_804A063()
{
  int result; // eax

  result = &unk_806F40F - &unk_806F40C;
  if ( (unsigned int)(&unk_806F40F - &unk_806F40C) > 6 )
    result = 0;
  return result;
}
// 804A063: could not find valid save-restore pair for ebp

//----- (0804A145) --------------------------------------------------------
void sub_804A145()
{
  ;
}

//----- (0804A160) --------------------------------------------------------
void sub_804A160()
{
  ;
}

//----- (0804A170) --------------------------------------------------------
int sub_804A170()
{
  int result; // eax

  result = &unk_807144B - &unk_8071448;
  if ( (unsigned int)(&unk_807144B - &unk_8071448) > 6 )
    result = 0;
  return result;
}
// 804A170: could not find valid save-restore pair for ebp

//----- (0804A252) --------------------------------------------------------
void sub_804A252()
{
  ;
}

//----- (0804A26D) --------------------------------------------------------
void sub_804A26D()
{
  ;
}

//----- (0804A27D) --------------------------------------------------------
int sub_804A27D()
{
  int result; // eax

  result = &unk_806E3E7 - &unk_806E3E4;
  if ( (unsigned int)(&unk_806E3E7 - &unk_806E3E4) > 6 )
    result = 0;
  return result;
}
// 804A27D: could not find valid save-restore pair for ebp

//----- (0804A35F) --------------------------------------------------------
void sub_804A35F()
{
  ;
}

//----- (0804A37A) --------------------------------------------------------
void sub_804A37A()
{
  ;
}

//----- (0804A38A) --------------------------------------------------------
int sub_804A38A()
{
  int result; // eax

  result = &unk_807144B - &unk_8071448;
  if ( (unsigned int)(&unk_807144B - &unk_8071448) > 6 )
    result = 0;
  return result;
}
// 804A38A: could not find valid save-restore pair for ebp

//----- (0804A3F1) --------------------------------------------------------
int __usercall sub_804A3F1@<eax>(int a1@<eax>, int (__cdecl *a2)(void *, int)@<edx>)
{
  return a2(&unk_8071448, a1);
}

//----- (0804A488) --------------------------------------------------------
void sub_804A488()
{
  ;
}

//----- (0804A4A3) --------------------------------------------------------
void sub_804A4A3()
{
  ;
}

//----- (0804A4B3) --------------------------------------------------------
int __fastcall sub_804A4B3(int a1, int a2)
{
  int result; // eax
  int (__stdcall *v3)(void *, int, int, int, int, int); // eax
  int v4; // [esp+4h] [ebp-18h]
  int v5; // [esp+8h] [ebp-14h]
  int v6; // [esp+Ch] [ebp-10h]
  int v7; // [esp+10h] [ebp-Ch]
  int v8; // [esp+14h] [ebp-8h]
  int v9; // [esp+18h] [ebp-4h]

  result = &unk_807144B - &unk_8071448;
  if ( (unsigned int)(&unk_807144B - &unk_8071448) > 6 )
  {
    v9 = 0;
    dword_8071218 = (int)&locret_804A4C2;
    v3 = (int (__stdcall *)(void *, int, int, int, int, int))sub_8064D8D(a1, a2);
    result = v3(&unk_8071448, v4, v5, v6, v7, v8);
  }
  return result;
}
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;

//----- (0804A556) --------------------------------------------------------
int __fastcall sub_804A556(int a1, int a2)
{
  int result; // eax

  result = sub_804A4B3(a1, a2);
  byte_8071714 = 1;
  return result;
}
// 8071714: using guessed type char byte_8071714;

//----- (0804A5CA) --------------------------------------------------------
void sub_804A5CA()
{
  ;
}

//----- (0804A5E5) --------------------------------------------------------
void sub_804A5E5()
{
  ;
}

//----- (0804A5F5) --------------------------------------------------------
int sub_804A5F5()
{
  int result; // eax

  result = &unk_806D3AB - &unk_806D3A8;
  if ( (unsigned int)(&unk_806D3AB - &unk_806D3A8) > 6 )
    result = 0;
  return result;
}
// 804A5F5: could not find valid save-restore pair for ebp

//----- (0804A6D7) --------------------------------------------------------
void sub_804A6D7()
{
  ;
}

//----- (0804A6F2) --------------------------------------------------------
void sub_804A6F2()
{
  ;
}

//----- (0804A702) --------------------------------------------------------
int sub_804A702()
{
  int result; // eax

  result = &unk_806B39F - &unk_806B39C;
  if ( (unsigned int)(&unk_806B39F - &unk_806B39C) > 6 )
    result = 0;
  return result;
}
// 804A702: could not find valid save-restore pair for ebp

//----- (0804A820) --------------------------------------------------------
void sub_804A820()
{
  ;
}

//----- (0804A872) --------------------------------------------------------
void sub_804A872()
{
  ;
}

//----- (0804A882) --------------------------------------------------------
int sub_804A882()
{
  int result; // eax

  result = &unk_8071453 - &unk_8071450;
  if ( (unsigned int)(&unk_8071453 - &unk_8071450) > 6 )
    result = 0;
  return result;
}

//----- (0804A902) --------------------------------------------------------
#error "804A91F: call analysis failed (funcsize=19)"

//----- (0804A9D4) --------------------------------------------------------
void sub_804A9D4()
{
  ;
}

//----- (0804AA0B) --------------------------------------------------------
void sub_804AA0B()
{
  ;
}

//----- (0804AA1B) --------------------------------------------------------
#error "804AA4C: call analysis failed (funcsize=25)"

//----- (0804AB0D) --------------------------------------------------------
int __cdecl sub_804AB0D(int a1)
{
  int result; // eax

  if ( a1 != 1 )
  {
    result = a1;
    status = a1;
  }
  return result;
}

//----- (0804AB20) --------------------------------------------------------
int __cdecl sub_804AB20(unsigned __int8 a1)
{
  return a1;
}

//----- (0804AB36) --------------------------------------------------------
#error "804ABAD: call analysis failed (funcsize=49)"

//----- (0804ABC7) --------------------------------------------------------
int sub_804ABC7()
{
  FILE *v0; // ebx
  char *v1; // eax

  v0 = stdout;
  v1 = gettext("\nMandatory arguments to long options are mandatory for short options too.\n");
  return fputs_unlocked(v1, v0);
}
// 8049860: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);

//----- (0804ABF2) --------------------------------------------------------
int sub_804ABF2()
{
  FILE *v0; // ebx
  char *v1; // eax

  v0 = stdout;
  v1 = gettext(
         "\n"
         "The SIZE argument is an integer and optional unit (example: 10K is 10*1024).\n"
         "Units are K,M,G,T,P,E,Z,Y (powers of 1024) or KB,MB,... (powers of 1000).\n");
  return fputs_unlocked(v1, v0);
}
// 8049860: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);

//----- (0804AC25) --------------------------------------------------------
#error "804AC9C: call analysis failed (funcsize=26)"

//----- (0804ACA1) --------------------------------------------------------
#error "804ADEB: positive sp value has been found (funcsize=85)"

//----- (0804ADEE) --------------------------------------------------------
int __cdecl sub_804ADEE(int a1, int a2)
{
  return sub_805A8F7(a1, a1 >> 31, a2);
}
// 805A8F7: using guessed type int __cdecl sub_805A8F7(_DWORD, _DWORD, _DWORD);

//----- (0804AE11) --------------------------------------------------------
int __cdecl sub_804AE11(int a1)
{
  return a1;
}

//----- (0804AE27) --------------------------------------------------------
bool __cdecl sub_804AE27(int a1)
{
  return a1 == 95;
}

//----- (0804AE33) --------------------------------------------------------
int sub_804AE33()
{
  return 0;
}

//----- (0804AE41) --------------------------------------------------------
#error "804AEBD: call analysis failed (funcsize=76)"

//----- (0804AF24) --------------------------------------------------------
unsigned int __stdcall sub_804AF24(int a1)
{
  _DWORD *v1; // eax
  _DWORD *v2; // edx
  char *assertion; // [esp+0h] [ebp-2Ch]
  unsigned int line; // [esp+8h] [ebp-24h]
  int v6; // [esp+10h] [ebp-1Ch]
  _DWORD *v7; // [esp+14h] [ebp-18h]
  int v8; // [esp+18h] [ebp-14h]

  v6 = 16;
  v7 = &unk_8071A3C;
  if ( (unsigned int)(v7[3] - v7[2]) < 0x10 )
    __assert_fail("dev_ino_size <= obstack_object_size (&dev_ino_obstack)", "src/ls.c", 0x402u, "dev_ino_pop");
  dword_8071A48 -= v6;
  v8 = dword_8071A48;
  *(&assertion - 3) = *(&assertion - 4);
  v1 = (_DWORD *)line;
  v2 = *(&assertion - 3);
  *(_DWORD *)line = *v2;
  v1[1] = v2[1];
  v1[2] = v2[2];
  v1[3] = v2[3];
  return line;
}
// 8071A48: using guessed type int dword_8071A48;

//----- (0804AFD7) --------------------------------------------------------
unsigned int __cdecl sub_804AFD7(int a1, int a2)
{
  unsigned int result; // eax
  int v3; // [esp+4h] [ebp-34h]
  unsigned int i; // [esp+18h] [ebp-20h]
  int v5; // [esp+1Ch] [ebp-1Ch]
  unsigned int v6; // [esp+20h] [ebp-18h]
  int v7; // [esp+24h] [ebp-14h]
  int v8; // [esp+28h] [ebp-10h]
  int v9; // [esp+2Ch] [ebp-Ch]

  v5 = a2;
  result = (unsigned int)(*(_DWORD *)(a2 + 12) - *(_DWORD *)(a2 + 8)) >> 2;
  v6 = result;
  if ( result )
  {
    v7 = a2;
    v8 = *(_DWORD *)(a2 + 8);
    if ( *(_DWORD *)(a2 + 12) == v8 )
      *(_BYTE *)(v7 + 40) |= 2u;
    *(_DWORD *)(v7 + 12) = (*(_DWORD *)(v7 + 24) + *(_DWORD *)(v7 + 12)) & ~*(_DWORD *)(v7 + 24);
    if ( *(_DWORD *)(v7 + 12) - *(_DWORD *)(v7 + 4) > (unsigned int)(*(_DWORD *)(v7 + 16) - *(_DWORD *)(v7 + 4)) )
      *(_DWORD *)(v7 + 12) = *(_DWORD *)(v7 + 16);
    *(_DWORD *)(v7 + 8) = *(_DWORD *)(v7 + 12);
    v9 = v8;
    fputs_unlocked(a1, stdout);
    for ( i = 0; i < v6; ++i )
    {
      v3 = *(_DWORD *)(4 * i + v9);
      printf(" %lu", v3);
    }
    result = putchar_unlocked(10);
  }
  return result;
}
// 8049860: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);

//----- (0804B126) --------------------------------------------------------
_BYTE *__cdecl sub_804B126(_BYTE *a1)
{
  int v1; // eax

  while ( *a1 )
  {
    if ( *a1 == 37 )
    {
      v1 = (char)a1[1];
      if ( v1 == 37 )
      {
        ++a1;
      }
      else if ( v1 == 98 )
      {
        return a1;
      }
    }
    ++a1;
  }
  return 0;
}

//----- (0804B16D) --------------------------------------------------------
void sub_804B16D()
{
  signed int *v0; // ebp
  int v1; // ebx
  signed int v2; // eax
  bool v3; // zf
  void *v4; // eax
  int v5; // [esp-8h] [ebp-30h]
  signed int v6; // [esp-4h] [ebp-2Ch]
  signed int v7; // [esp+0h] [ebp-28h]
  int v8; // [esp+4h] [ebp-24h]
  int v9; // [esp+8h] [ebp-20h]
  int v10; // [esp+Ch] [ebp-1Ch]
  int v11; // [esp+10h] [ebp-18h]
  int v12; // [esp+14h] [ebp-14h]
  int v13; // [esp+18h] [ebp-10h]
  int v14; // [esp+1Ch] [ebp-Ch]
  int v15; // [esp+20h] [ebp-8h]
  int v16; // [esp+24h] [ebp-4h]
  int savedregs; // [esp+28h] [ebp+0h]

  v0 = &savedregs;
  v14 = 0;
  while ( *(v0 - 3) <= 255 )
  {
    v1 = *(unsigned __int8 *)(*(v0 - 3) + 134683260);
    v0 = &v7;
    v7 = *(&v7 - 3);
    v2 = sub_8055878(v7);
    if ( !(_BYTE)v2 && *(&v7 - 3) != 126 && *(&v7 - 3) != 45 && *(&v7 - 3) != 46 )
    {
      v3 = *(&v7 - 3) == 95;
      v6 = v2;
      v5 = v1;
      v4 = &loc_804B1ED;
      if ( !v3 )
        v4 = &loc_804B1F4;
      dword_8071240 = (int)v4;
      LOBYTE(v1) = v5;
      sub_8064CA3(v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, savedregs);
    }
    *(_BYTE *)((*(&v7 - 3))++ + 134683260) = v1 | 1;
  }
}
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071240: using guessed type int dword_8071240;

//----- (0804B21D) --------------------------------------------------------
signed int sub_804B21D()
{
  char **v0; // ebp
  int v2; // edx
  int v3; // eax
  unsigned int v4; // eax
  char *v5; // [esp+0h] [ebp-48h]
  int v6; // [esp+4h] [ebp-44h]
  int v7; // [esp+8h] [ebp-40h]
  int *v8; // [esp+Ch] [ebp-3Ch]
  int v9; // [esp+10h] [ebp-38h]
  int v10; // [esp+14h] [ebp-34h]
  int v11; // [esp+2Ch] [ebp-1Ch]
  int savedregs; // [esp+48h] [ebp+0h]

  v0 = (char **)&savedregs;
  v11 = 5;
  do
  {
    *(v0 - 5) = *(v0 - 7);
    *(v0 - 7) = 0;
    *(v0 - 6) = 0;
    while ( (signed int)*(v0 - 6) <= 11 )
    {
      *(v0 - 8) = *(v0 - 5);
      v5 = *(v0 - 6) + 131086;
      *(&v5 - 4) = nl_langinfo((nl_item)v5);
      v6 = 37;
      v5 = *(&v5 - 4);
      if ( strchr(v5, 37) )
        return 0;
      v2 = (_DWORD)*(&v5 - 6) << 7;
      v3 = v7;
      v0 = &v5;
      v10 = 0;
      v9 = 0;
      v8 = (int *)(&v5 - 8);
      v7 = 128;
      v6 = v3 + v2;
      v5 = *(&v5 - 4);
      *(&v5 - 3) = (char *)sub_805AC54(v5, v3 + v2, 128, (int)(&v5 - 8), 0, 0);
      if ( (unsigned int)*(&v5 - 3) > 0x7F )
        return 0;
      v4 = (unsigned int)*(&v5 - 7);
      if ( (unsigned int)*(&v5 - 8) >= v4 )
        v4 = (unsigned int)*(&v5 - 8);
      *(&v5 - 7) = (char *)v4;
      ++*(&v5 - 6);
    }
  }
  while ( *(v0 - 5) > *(v0 - 7) );
  return 1;
}

//----- (0804B327) --------------------------------------------------------
char *sub_804B327()
{
  char *result; // eax
  int v1[3]; // [esp+0h] [ebp-658h]
  char *v2; // [esp+Ch] [ebp-64Ch]
  char *v3; // [esp+10h] [ebp-648h]
  int *v4; // [esp+14h] [ebp-644h]
  int v5; // [esp+18h] [ebp-640h]
  int v6; // [esp+1Ch] [ebp-63Ch]
  int v7; // [esp+20h] [ebp-638h]
  int v8; // [esp+24h] [ebp-634h]
  int v9; // [esp+28h] [ebp-630h]
  int i; // [esp+2Ch] [ebp-62Ch]
  int j; // [esp+30h] [ebp-628h]
  int k; // [esp+34h] [ebp-624h]
  char *v13; // [esp+38h] [ebp-620h]
  char *v14; // [esp+3Ch] [ebp-61Ch]
  char *s; // [esp+40h] [ebp-618h]
  char *v16; // [esp+44h] [ebp-614h]
  int v17; // [esp+48h] [ebp-610h]
  char *v18; // [esp+4Ch] [ebp-60Ch]
  char v19; // [esp+50h] [ebp-608h]

  for ( i = 0; i <= 1; ++i )
    *(&v17 + i) = (int)sub_804B126((&off_80713A8)[i]);
  if ( v17 || (result = v18) != 0 )
  {
    v1[0] = (int)&v19;
    result = (char *)(sub_804B21D() ^ 1);
    if ( !(_BYTE)result )
    {
      for ( j = 0; j <= 1; ++j )
      {
        result = (&off_80713A8)[j];
        v14 = (&off_80713A8)[j];
        for ( k = 0; k <= 11; ++k )
        {
          s = (char *)(((k + 12 * j) << 7) + 134683516);
          if ( !*(&v17 + j) )
          {
            v2 = v14;
            v13 = (char *)snprintf(s, 0x80u, "%s");
            dword_8071240 = (int)&loc_804B512;
            sub_8064CA3(v1[0], v1[1], v1[2], v2, v3, v4, v5, v6, v7, v8, v9);
          }
          result = (char *)(*(&v17 + j) - (_DWORD)v14);
          if ( (signed int)result > 128 )
            return result;
          v16 = (char *)(*(&v17 + j) - (_DWORD)v14);
          v5 = *(&v17 + j) + 2;
          v4 = &v1[32 * k - 386];
          v3 = v14;
          v2 = v16;
          result = (char *)snprintf(s, 0x80u, "%.*s%s%s", v16);
          v13 = result;
          if ( (signed int)result < 0 || (signed int)v13 > 127 )
            return result;
        }
      }
      byte_807277C = 1;
    }
  }
  return result;
}
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071240: using guessed type int dword_8071240;
// 807277C: using guessed type char byte_807277C;
// 804B327: using guessed type int anonymous_0[3];

//----- (0804B55B) --------------------------------------------------------
int __cdecl sub_804B55B(__int64 *a1, unsigned int a2)
{
  return sub_80646E2(*a1, a2);
}
// 80646E2: using guessed type _DWORD __cdecl sub_80646E2(__int64, __int64);

//----- (0804B5A2) --------------------------------------------------------
int __cdecl sub_804B5A2(int a1, _QWORD *a2)
{
  int v2; // ebx

  v2 = *(_DWORD *)(a1 + 4);
  return *(_QWORD *)a1 == *a2 && a2[1] == *(_QWORD *)(a1 + 8);
}

//----- (0804B626) --------------------------------------------------------
void __cdecl sub_804B626(void *ptr)
{
  free(ptr);
}

//----- (0804B63D) --------------------------------------------------------
#error "804B651: call analysis failed (funcsize=13)"

//----- (0804B664) --------------------------------------------------------
#error "804B687: call analysis failed (funcsize=55)"

//----- (0804B711) --------------------------------------------------------
void __cdecl sub_804B711(void *ptr)
{
  free(*(void **)ptr);
  free(*((void **)ptr + 1));
  free(ptr);
}

//----- (0804B743) --------------------------------------------------------
int __cdecl sub_804B743(int a1)
{
  void *v1; // eax
  char v2; // al
  int v4; // [esp-18h] [ebp-28h]
  int v5; // [esp-14h] [ebp-24h]
  int v6; // [esp-10h] [ebp-20h]
  int v7; // [esp-Ch] [ebp-1Ch]
  int v8; // [esp-8h] [ebp-18h]
  int v9; // [esp-4h] [ebp-14h]
  int v10; // [esp+0h] [ebp-10h]
  int v11; // [esp+0h] [ebp-10h]
  char *s1; // [esp+4h] [ebp-Ch]

  v10 = dword_80712E8[2 * a1];
  s1 = (char *)*(&::s1 + 2 * a1);
  if ( !v10 )
    goto LABEL_12;
  v1 = &loc_804B798;
  if ( v10 != 1 )
    v1 = &loc_804B7AA;
  dword_8071268 = (int)v1;
  sub_8064BC9(v4, v5, v6, v7, v8, v9, v10);
  if ( *s1 == unk_8066401 || v11 == 2 && !strncmp(s1, "00", 2u) )
LABEL_12:
    v2 = 0;
  else
    v2 = 1;
  return v2 & 1;
}
// 8064BC9: using guessed type int __stdcall sub_8064BC9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071268: using guessed type int dword_8071268;
// 80712E8: using guessed type int dword_80712E8[];

//----- (0804B7E4) --------------------------------------------------------
size_t sub_804B7E4()
{
  sub_8054294((int)dword_80712E8);
  return sub_8054294((int)&dword_80712F0);
}
// 80712E8: using guessed type int dword_80712E8[];
// 80712F0: using guessed type int dword_80712F0;

//----- (0804B804) --------------------------------------------------------
size_t sub_804B804()
{
  void *v0; // eax
  size_t result; // eax
  int v2; // [esp+0h] [ebp-18h]
  int v3; // [esp+4h] [ebp-14h]
  int v4; // [esp+8h] [ebp-10h]
  int v5; // [esp+Ch] [ebp-Ch]
  int v6; // [esp+10h] [ebp-8h]
  int v7; // [esp+14h] [ebp-4h]
  int savedregs; // [esp+18h] [ebp+0h]

  v0 = &loc_804B850;
  if ( !byte_80718C0 )
    v0 = &locret_804B884;
  dword_8071268 = (int)v0;
  sub_8064BC9(v2, v3, v4, v5, v6, v7, savedregs);
  result = sub_804B743(4);
  if ( (_BYTE)result )
  {
    sub_8054294((int)dword_80712E8);
    sub_8054294((int)&unk_8071308);
    result = sub_8054294((int)&dword_80712F0);
  }
  return result;
}
// 8064BC9: using guessed type int __stdcall sub_8064BC9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071268: using guessed type int dword_8071268;
// 80712E8: using guessed type int dword_80712E8[];
// 80712F0: using guessed type int dword_80712F0;
// 80718C0: using guessed type char byte_80718C0;

//----- (0804B886) --------------------------------------------------------
int __cdecl sub_804B886(int a1)
{
  int result; // eax

  result = dword_807199C;
  if ( !dword_807199C )
  {
    result = a1;
    dword_807199C = a1;
  }
  return result;
}
// 807199C: using guessed type int dword_807199C;

//----- (0804B89C) --------------------------------------------------------
int sub_804B89C()
{
  int result; // eax

  result = dword_807199C;
  if ( !dword_807199C )
    result = dword_80719A0++ + 1;
  return result;
}
// 807199C: using guessed type int dword_807199C;
// 80719A0: using guessed type int dword_80719A0;

//----- (0804B8B7) --------------------------------------------------------
int sub_804B8B7()
{
  int result; // eax
  int v1; // [esp+18h] [ebp-94h]
  int oset; // [esp+20h] [ebp-8Ch]

  while ( 1 )
  {
    if ( !dword_807199C )
    {
      result = dword_80719A0;
      if ( !dword_80719A0 )
        break;
    }
    if ( byte_80718C2 )
      sub_804B7E4();
    fflush_unlocked(stdout);
    sigprocmask(0, &set, (sigset_t *)&oset);
    v1 = dword_807199C;
    if ( dword_80719A0 )
    {
      --dword_80719A0;
      raise(19);
    }
    else
    {
      signal(dword_807199C, 0);
      raise(v1);
    }
    sigprocmask(2, (const sigset_t *)&oset, 0);
  }
  return result;
}
// 80718C2: using guessed type char byte_80718C2;
// 807199C: using guessed type int dword_807199C;
// 80719A0: using guessed type int dword_80719A0;

//----- (0804B99B) --------------------------------------------------------
__sighandler_t sub_804B99B()
{
  sigset_t **v0; // ebp
  __sighandler_t result; // eax
  sigset_t *v2; // ebx
  int v3; // eax
  bool v4; // zf
  void *v5; // eax
  sigset_t *v6; // eax
  int v7; // eax
  sigset_t *v8; // [esp-8h] [ebp-C4h]
  int v9; // [esp-4h] [ebp-C0h]
  sigset_t *set; // [esp+0h] [ebp-BCh]
  struct sigaction *act; // [esp+4h] [ebp-B8h]
  struct sigaction *oact; // [esp+8h] [ebp-B4h]
  int i; // [esp+Ch] [ebp-B0h]
  int v14; // [esp+10h] [ebp-ACh]
  sigset_t v15; // [esp+14h] [ebp-A8h]
  int v16; // [esp+18h] [ebp-A4h]
  int v17; // [esp+1Ch] [ebp-A0h]
  int v18; // [esp+20h] [ebp-9Ch]
  int v19; // [esp+24h] [ebp-98h]
  int v20; // [esp+28h] [ebp-94h]
  int v21; // [esp+2Ch] [ebp-90h]
  int v22; // [esp+30h] [ebp-8Ch]
  int v23; // [esp+34h] [ebp-88h]
  int v24; // [esp+38h] [ebp-84h]
  int v25; // [esp+3Ch] [ebp-80h]
  int v26; // [esp+40h] [ebp-7Ch]
  int v27; // [esp+44h] [ebp-78h]
  int v28; // [esp+48h] [ebp-74h]
  int v29; // [esp+4Ch] [ebp-70h]
  int v30; // [esp+50h] [ebp-6Ch]
  int v31; // [esp+54h] [ebp-68h]
  int v32; // [esp+58h] [ebp-64h]
  int v33; // [esp+94h] [ebp-28h]
  int v34; // [esp+B4h] [ebp-8h]
  void (*retaddr)(int); // [esp+BCh] [ebp+0h]

  v0 = (sigset_t **)&v34;
  result = retaddr;
  LOBYTE(oact) = (_BYTE)retaddr;
  if ( (_BYTE)retaddr )
  {
    sigemptyset(&::set);
    for ( i = 0; i <= 11; ++i )
    {
      sigaction(sig[i], 0, (struct sigaction *)&v14);
      if ( v14 != 1 )
        sigaddset(&::set, sig[i]);
    }
    v2 = &::set;
    result = (__sighandler_t)32;
    qmemcpy(&v15, &::set, sizeof(v15));
    v33 = 0x10000000;
    i = 0;
    while ( (signed int)*(v0 - 42) <= 11 )
    {
      act = (struct sigaction *)sig[(_DWORD)*(v0 - 42)];
      v3 = sigismember(&::set, (int)act);
      v4 = v3 == 0;
      v9 = v3;
      v8 = v2;
      v5 = &loc_804BABA;
      if ( v4 )
        v5 = &loc_804BB25;
      dword_8071204 = (int)v5;
      v2 = v8;
      sub_8064E07(
        set,
        act,
        oact,
        i,
        v14,
        v15.__val[0],
        v16,
        v17,
        v18,
        v19,
        v20,
        v21,
        v22,
        v23,
        v24,
        v25,
        v26,
        v27,
        v28,
        v29,
        v30,
        v31,
        v32);
      if ( sig[(_DWORD)*(v0 - 42)] == 20 )
        v6 = (sigset_t *)sub_804B89C;
      else
        v6 = (sigset_t *)sub_804B886;
      *(v0 - 41) = v6;
      v7 = sig[(_DWORD)*(v0 - 42)];
      v0 = &set;
      result = (__sighandler_t)sigaction(v7, (const struct sigaction *)(&set - 41), 0);
      *(&set - 42) = (sigset_t *)((char *)*(&set - 42) + 1);
    }
  }
  else
  {
    for ( i = 0; i <= 11; ++i )
    {
      result = (__sighandler_t)sigismember(&::set, sig[i]);
      if ( result )
        result = signal(sig[i], 0);
    }
  }
  return result;
}
// 8064E07: using guessed type int __stdcall sub_8064E07(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071204: using guessed type int dword_8071204;

//----- (0804BBA0) --------------------------------------------------------
__sighandler_t sub_804BBA0()
{
  return sub_804B99B();
}

//----- (0804BBB8) --------------------------------------------------------
__sighandler_t sub_804BBB8()
{
  return sub_804B99B();
}

//----- (0804BBCC) --------------------------------------------------------
#error "804BD8F: call analysis failed (funcsize=461)"

//----- (0804C37A) --------------------------------------------------------
int __cdecl sub_804C37A()
{
  int v0; // eax
  int v1; // eax
  int result; // eax
  int v3; // [esp+28h] [ebp-10h]
  int v4; // [esp+2Ch] [ebp-Ch]

  v0 = sub_80621B0();
  if ( v0 )
  {
    if ( v0 == 1 )
    {
      dword_80718F8 = -1;
      result = 1;
    }
    else
    {
      result = 0;
    }
  }
  else
  {
    v1 = v3;
    if ( v4 )
      v1 = -1;
    dword_80718F8 = v1;
    result = 1;
  }
  return result;
}
// 80718F8: using guessed type int dword_80718F8;

//----- (0804C40C) --------------------------------------------------------
#error "804D104: call analysis failed (funcsize=638)"

//----- (0804D109) --------------------------------------------------------
#error "804D5D5: positive sp value has been found (funcsize=280)"

//----- (0804D5D8) --------------------------------------------------------
#error "804D5FA: call analysis failed (funcsize=13)"

//----- (0804D5FF) --------------------------------------------------------
#error "804D98E: positive sp value has been found (funcsize=267)"

//----- (0804D98F) --------------------------------------------------------
#error "804D9D3: call analysis failed (funcsize=61)"

//----- (0804DA6F) --------------------------------------------------------
#error "804DCC3: call analysis failed (funcsize=267)"

//----- (0804DE90) --------------------------------------------------------
void sub_804DE90()
{
  void *v0; // ebx
  char *v1; // eax
  char *s; // [esp+18h] [ebp-10h]
  int v3; // [esp+1Ch] [ebp-Ch]

  s = getenv("QUOTING_STYLE");
  if ( s )
  {
    v3 = sub_805541B();
    if ( v3 < 0 )
    {
      v0 = sub_806058F((int)s);
      v1 = gettext("ignoring invalid value of environment variable QUOTING_STYLE: %s");
      error(0, 0, v1, v0);
    }
    else
    {
      sub_805E8BD(0, dword_8069BF8[v3]);
    }
  }
}

//----- (0804DF41) --------------------------------------------------------
int __cdecl sub_804DF41(int a1)
{
  int result; // eax

  result = a1;
  if ( (_BYTE)a1 )
  {
    dword_80719A4 = 2;
  }
  else
  {
    result = dword_80719A4;
    if ( !dword_80719A4 )
      dword_80719A4 = 1;
  }
  return result;
}
// 80719A4: using guessed type int dword_80719A4;

//----- (0804DF78) --------------------------------------------------------
#error "804DFB8: call analysis failed (funcsize=26)"

//----- (0804DFCB) --------------------------------------------------------
#error "804DFFE: positive sp value has been found (funcsize=0)"

//----- (0804E001) --------------------------------------------------------
_DWORD *__cdecl sub_804E001(char *a1, char *s, int a3)
{
  void *v3; // eax
  void *v4; // eax
  _DWORD *result; // eax
  _DWORD *v6; // [esp+1Ch] [ebp-Ch]

  v6 = sub_80614E8(0x10u);
  if ( s )
    v3 = sub_806167E(s);
  else
    v3 = 0;
  v6[1] = v3;
  if ( a1 )
    v4 = sub_806167E(a1);
  else
    v4 = 0;
  *v6 = v4;
  *((_BYTE *)v6 + 8) = a3;
  v6[3] = dword_8071860;
  result = v6;
  dword_8071860 = (int)v6;
  return result;
}
// 8071860: using guessed type int dword_8071860;

//----- (0804E08B) --------------------------------------------------------
#error "804E593: call analysis failed (funcsize=410)"

//----- (0804E86A) --------------------------------------------------------
#error "804E870: positive sp value has been found (funcsize=0)"

//----- (0804E873) --------------------------------------------------------
_DWORD *__cdecl sub_804E873(int a1)
{
  _DWORD *result; // eax

  result = sub_80614E8(8u);
  *result = a1;
  result[1] = dword_80718DC;
  dword_80718DC = (int)result;
  return result;
}

//----- (0804E8BA) --------------------------------------------------------
int __cdecl sub_804E8BA(int a1, char *name)
{
  bool v2; // zf
  void *v3; // eax
  int v5; // [esp+0h] [ebp-28h]
  int v6; // [esp+4h] [ebp-24h]
  int v7; // [esp+8h] [ebp-20h]
  int v8; // [esp+Ch] [ebp-1Ch]
  int v9; // [esp+10h] [ebp-18h]
  int v10; // [esp+14h] [ebp-14h]
  int v11; // [esp+18h] [ebp-10h]

  if ( !a1 )
    return 0;
  v2 = fnmatch(*(const char **)a1, name, 4) == 0;
  v3 = &loc_804E901;
  if ( !v2 )
    v3 = &loc_804E908;
  dword_8071268 = (int)v3;
  sub_8064BC9(v5, v6, v7, v8, v9, v10, v11);
  return 1;
}
// 8064BC9: using guessed type int __stdcall sub_8064BC9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071268: using guessed type int dword_8071268;

//----- (0804E922) --------------------------------------------------------
#error "804E950: call analysis failed (funcsize=59)"

//----- (0804E9D1) --------------------------------------------------------
#error "804E9EB: call analysis failed (funcsize=15)"

//----- (0804E9FE) --------------------------------------------------------
#error "804EA0F: positive sp value has been found (funcsize=0)"

//----- (0804EA10) --------------------------------------------------------
int sub_804EA10()
{
  *__errno_location() = 95;
  return 0;
}

//----- (0804EA4C) --------------------------------------------------------
void __cdecl sub_804EA4C(void **a1)
{
  int *v1; // ebp
  int v2; // edx
  int v3; // ecx
  int v4; // [esp+0h] [ebp-18h]
  int savedregs; // [esp+18h] [ebp+0h]

  v1 = &savedregs;
  free(*a1);
  free(a1[1]);
  free(a1[2]);
  if ( a1[29] != &unk_80712C8 )
  {
    if ( (unsigned __int8)sub_804AE33() )
    {
      free(a1[29]);
      dword_8071218 = (int)&locret_804EAC4;
      sub_8064D8D(v3, v2);
      v1 = &v4;
    }
    v4 = *(_DWORD *)(v1[2] + 116);
    sub_8060829();
  }
}
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;

//----- (0804EAD6) --------------------------------------------------------
int sub_804EAD6()
{
  int result; // eax
  unsigned int i; // [esp+18h] [ebp-10h]

  for ( i = 0; ; ++i )
  {
    result = dword_8071848;
    if ( i >= dword_8071848 )
      break;
    sub_804EA4C(*((void ***)dword_8071850 + i));
  }
  dword_8071848 = 0;
  byte_807184C = 0;
  byte_807186D = 0;
  dword_8071870 = 0;
  dword_8071874 = 0;
  dword_8071878 = 0;
  dword_8071880 = 0;
  dword_8071884 = 0;
  dword_8071888 = 0;
  dword_807187C = 0;
  dword_807188C = 0;
  dword_8071890 = 0;
  dword_8071894 = 0;
  return result;
}
// 8071848: using guessed type int dword_8071848;
// 807184C: using guessed type char byte_807184C;
// 807186D: using guessed type char byte_807186D;
// 8071870: using guessed type int dword_8071870;
// 8071874: using guessed type int dword_8071874;
// 8071878: using guessed type int dword_8071878;
// 807188C: using guessed type int dword_807188C;
// 8071890: using guessed type int dword_8071890;
// 8071894: using guessed type int dword_8071894;

//----- (0804EBA2) --------------------------------------------------------
#error "804EBC2: call analysis failed (funcsize=28)"

//----- (0804EBF1) --------------------------------------------------------
signed int __cdecl sub_804EBF1(int a1, int a2, char a3)
{
  signed int result; // eax
  signed int v4; // eax
  int *v5; // eax
  int v6; // edx
  signed int v7; // [esp+1Ch] [ebp-Ch]

  if ( *(_QWORD *)(a2 + 12) == qword_807283C )
  {
    *__errno_location() = 95;
    result = -1;
  }
  else
  {
    if ( a3 )
      v4 = sub_806087A();
    else
      v4 = sub_8060892();
    v7 = v4;
    if ( v4 < 0 )
    {
      v5 = __errno_location();
      if ( (unsigned __int8)sub_804EBA2(*v5) )
      {
        v6 = *(_DWORD *)(a2 + 16);
        LODWORD(qword_807283C) = *(_DWORD *)(a2 + 12);
        HIDWORD(qword_807283C) = v6;
      }
    }
    result = v7;
  }
  return result;
}
// 804EBA2: using guessed type _DWORD __cdecl sub_804EBA2(_DWORD);
// 807283C: using guessed type __int64 qword_807283C;

//----- (0804ECB8) --------------------------------------------------------
int __cdecl sub_804ECB8(int a1, int a2)
{
  int result; // eax
  int *v3; // eax
  int v4; // edx
  int v5; // [esp+1Ch] [ebp-Ch]

  if ( *(_QWORD *)(a2 + 12) == qword_8072844 )
  {
    *__errno_location() = 95;
    result = 0;
  }
  else
  {
    *__errno_location() = 0;
    v5 = sub_80568E5();
    if ( v5 <= 0 )
    {
      v3 = __errno_location();
      if ( (unsigned __int8)sub_804EBA2(*v3) )
      {
        v4 = *(_DWORD *)(a2 + 16);
        LODWORD(qword_8072844) = *(_DWORD *)(a2 + 12);
        HIDWORD(qword_8072844) = v4;
      }
    }
    result = v5;
  }
  return result;
}
// 804EBA2: using guessed type _DWORD __cdecl sub_804EBA2(_DWORD);
// 807283C: using guessed type __int64 qword_807283C;
// 8072844: using guessed type __int64 qword_8072844;

//----- (0804ED7E) --------------------------------------------------------
#error "804EDF9: call analysis failed (funcsize=66)"

//----- (0804EE49) --------------------------------------------------------
_BOOL4 __cdecl sub_804EE49(char *s)
{
  size_t v1; // eax
  bool v2; // al
  int v4; // [esp+0h] [ebp-38h]
  char v5; // [esp+2Ah] [ebp-Eh]
  int v6; // [esp+2Ch] [ebp-Ch]

  v6 = sub_805FA33((char *)&v4 - 14, 2, s, -1, dword_80718E8);
  v2 = 1;
  if ( *s == v5 )
  {
    v1 = strlen(s);
    if ( v1 == v6 )
      v2 = 0;
  }
  return v2;
}
// 805FA33: using guessed type _DWORD __cdecl sub_805FA33(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 80718E8: using guessed type int dword_80718E8;

//----- (0804EEBC) --------------------------------------------------------
#error "804F79D: call analysis failed (funcsize=921)"

//----- (0804FE99) --------------------------------------------------------
void sub_804FE99()
{
  ;
}

//----- (0804FEA1) --------------------------------------------------------
#error "804FECE: call analysis failed (funcsize=23)"

//----- (0804FEE4) --------------------------------------------------------
#error "804FF09: call analysis failed (funcsize=14)"

//----- (0804FF0E) --------------------------------------------------------
#error "804FF65: positive sp value has been found (funcsize=0)"

//----- (0804FF74) --------------------------------------------------------
#error "804FF93: call analysis failed (funcsize=73)"

//----- (0805005D) --------------------------------------------------------
int __cdecl sub_805005D(_BYTE *a1)
{
  int v1; // ST1C_4

  v1 = sub_8056815(a1);
  return sub_804AB36(v1);
}
// 804AB36: using guessed type int __cdecl sub_804AB36(_DWORD);

//----- (0805007E) --------------------------------------------------------
#error "8050114: call analysis failed (funcsize=152)"

//----- (08050280) --------------------------------------------------------
int __cdecl sub_8050280(char *s1, char *s2)
{
  void *v2; // edi
  void *v3; // esi
  char *v4; // ebx
  int *v5; // eax
  int v7; // [esp+2Ch] [ebp-1Ch]

  *__errno_location() = 0;
  v7 = strcoll(s1, s2);
  if ( *__errno_location() )
  {
    v2 = sub_806056D(1, (int)s2);
    v3 = sub_806056D(0, (int)s1);
    v4 = gettext("cannot compare file names %s and %s");
    v5 = __errno_location();
    error(0, *v5, v4, v3, v2);
    sub_804DF41(0);
    longjmp(env, 1);
  }
  return v7;
}

//----- (0805033A) --------------------------------------------------------
int __cdecl sub_805033A(int *a1, int *a2, int (*a3)(void))
{
  int v3; // ST04_4
  int v4; // ST00_4
  int v6; // [esp+1Ch] [ebp-1Ch]
  int v7; // [esp+20h] [ebp-18h]
  int v8; // [esp+24h] [ebp-14h]
  int v9; // [esp+28h] [ebp-10h]
  int v10; // [esp+2Ch] [ebp-Ch]

  sub_80609FF(&v7, (int)(a1 + 3));
  sub_80609FF(&v9, (int)(a2 + 3));
  v6 = sub_8060AEE(v9, v10, v7, v8);
  if ( v6 )
    return v6;
  v3 = *a2;
  v4 = *a1;
  return a3();
}
// 8060AEE: using guessed type int __cdecl sub_8060AEE(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (080503C4) --------------------------------------------------------
int __cdecl sub_80503C4(_DWORD *a1, _DWORD *a2, int (__cdecl *a3)(_DWORD, _DWORD))
{
  int result; // eax
  int v4; // [esp+1Ch] [ebp-1Ch]
  int v5; // [esp+20h] [ebp-18h]
  int v6; // [esp+24h] [ebp-14h]
  int v7; // [esp+28h] [ebp-10h]
  int v8; // [esp+2Ch] [ebp-Ch]

  sub_8060A2E(&v5, (int)(a1 + 3));
  sub_8060A2E(&v7, (int)(a2 + 3));
  v4 = sub_8060AEE(v7, v8, v5, v6);
  if ( v4 )
    result = v4;
  else
    result = a3(*a1, *a2);
  return result;
}
// 8060AEE: using guessed type int __cdecl sub_8060AEE(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0805044C) --------------------------------------------------------
int __cdecl sub_805044C(_DWORD *a1, _DWORD *a2, int (__cdecl *a3)(_DWORD, _DWORD))
{
  int result; // eax
  int v4; // [esp+1Ch] [ebp-1Ch]
  int v5; // [esp+20h] [ebp-18h]
  int v6; // [esp+24h] [ebp-14h]
  int v7; // [esp+28h] [ebp-10h]
  int v8; // [esp+2Ch] [ebp-Ch]

  sub_80609D4(&v5, (int)(a1 + 3));
  sub_80609D4(&v7, (int)(a2 + 3));
  v4 = sub_8060AEE(v7, v8, v5, v6);
  if ( v4 )
    result = v4;
  else
    result = a3(*a1, *a2);
  return result;
}
// 8060AEE: using guessed type int __cdecl sub_8060AEE(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (080504DA) --------------------------------------------------------
#error "805051C: call analysis failed (funcsize=72)"

//----- (08050598) --------------------------------------------------------
int __cdecl sub_8050598(_DWORD *a1, _DWORD *a2, int (__cdecl *a3)(_DWORD, _DWORD))
{
  return a3(*a1, *a2);
}

//----- (080505CA) --------------------------------------------------------
#error "8050659: call analysis failed (funcsize=49)"

//----- (08050DF8) --------------------------------------------------------
int __cdecl sub_8050DF8(int a1, int a2)
{
  return sub_80504DA(a1, a2, sub_8050280);
}
// 80504DA: using guessed type _DWORD __cdecl sub_80504DA(_DWORD, _DWORD, _DWORD);

//----- (08050E1A) --------------------------------------------------------
int __cdecl sub_8050E1A(int a1, int a2)
{
  return sub_80504DA(a1, a2, strcmp);
}
// 80504DA: using guessed type _DWORD __cdecl sub_80504DA(_DWORD, _DWORD, _DWORD);

//----- (08050E3C) --------------------------------------------------------
int __cdecl sub_8050E3C(int a1, int a2)
{
  return sub_80504DA(a2, a1, sub_8050280);
}
// 80504DA: using guessed type _DWORD __cdecl sub_80504DA(_DWORD, _DWORD, _DWORD);

//----- (08050E5E) --------------------------------------------------------
int __cdecl sub_8050E5E(int a1, int a2)
{
  return sub_80504DA(a2, a1, strcmp);
}
// 80504DA: using guessed type _DWORD __cdecl sub_80504DA(_DWORD, _DWORD, _DWORD);

//----- (08050E80) --------------------------------------------------------
signed int __cdecl sub_8050E80(int a1, int a2)
{
  char v3; // [esp+1Eh] [ebp-Ah]
  char v4; // [esp+1Fh] [ebp-9h]

  v3 = sub_804FEA1(a1);
  v4 = sub_804FEA1(a2);
  if ( v3 && v4 != 1 )
    return -1;
  if ( v3 != 1 && v4 )
    return 1;
  return sub_80504DA(a1, a2, sub_8050280);
}
// 804FEA1: using guessed type _DWORD __cdecl sub_804FEA1(_DWORD);
// 80504DA: using guessed type _DWORD __cdecl sub_80504DA(_DWORD, _DWORD, _DWORD);

//----- (08050EEE) --------------------------------------------------------
#error "8050F34: call analysis failed (funcsize=40)"

//----- (08050F71) --------------------------------------------------------
#error "8050FB8: call analysis failed (funcsize=43)"

//----- (08050FF8) --------------------------------------------------------
signed int __cdecl sub_8050FF8(int a1, int a2)
{
  char v3; // [esp+1Eh] [ebp-Ah]
  char v4; // [esp+1Fh] [ebp-9h]

  v3 = sub_804FEA1(a1);
  v4 = sub_804FEA1(a2);
  if ( v3 && v4 != 1 )
    return -1;
  if ( v3 != 1 && v4 )
    return 1;
  return sub_80504DA(a2, a1, strcmp);
}
// 804FEA1: using guessed type _DWORD __cdecl sub_804FEA1(_DWORD);
// 80504DA: using guessed type _DWORD __cdecl sub_80504DA(_DWORD, _DWORD, _DWORD);

//----- (08051066) --------------------------------------------------------
int __cdecl sub_8051066(_DWORD *a1, _DWORD *a2)
{
  return sub_8050598(a1, a2, (int (__cdecl *)(_DWORD, _DWORD))sub_8050280);
}

//----- (08051088) --------------------------------------------------------
int __cdecl sub_8051088(_DWORD *a1, _DWORD *a2)
{
  return sub_8050598(a1, a2, (int (__cdecl *)(_DWORD, _DWORD))strcmp);
}

//----- (080510AA) --------------------------------------------------------
int __cdecl sub_80510AA(_DWORD *a1, _DWORD *a2)
{
  return sub_8050598(a2, a1, (int (__cdecl *)(_DWORD, _DWORD))sub_8050280);
}

//----- (080510CC) --------------------------------------------------------
int __cdecl sub_80510CC(_DWORD *a1, _DWORD *a2)
{
  return sub_8050598(a2, a1, (int (__cdecl *)(_DWORD, _DWORD))strcmp);
}

//----- (080510EE) --------------------------------------------------------
#error "805112A: call analysis failed (funcsize=51)"

//----- (0805118E) --------------------------------------------------------
int __cdecl sub_805118E(_DWORD *a1, _DWORD *a2)
{
  char v3; // [esp+1Eh] [ebp-Ah]
  char v4; // [esp+1Fh] [ebp-9h]

  v3 = sub_804FEA1(a1);
  v4 = sub_804FEA1(a2);
  if ( v3 && v4 != 1 )
    return -1;
  if ( v3 != 1 && v4 )
    return 1;
  return sub_8050598(a1, a2, (int (__cdecl *)(_DWORD, _DWORD))strcmp);
}
// 804FEA1: using guessed type _DWORD __cdecl sub_804FEA1(_DWORD);

//----- (080511FC) --------------------------------------------------------
int __cdecl sub_80511FC(_DWORD *a1, _DWORD *a2)
{
  char v3; // [esp+1Eh] [ebp-Ah]
  char v4; // [esp+1Fh] [ebp-9h]

  v3 = sub_804FEA1(a1);
  v4 = sub_804FEA1(a2);
  if ( v3 && v4 != 1 )
    return -1;
  if ( v3 != 1 && v4 )
    return 1;
  return sub_8050598(a2, a1, (int (__cdecl *)(_DWORD, _DWORD))sub_8050280);
}
// 804FEA1: using guessed type _DWORD __cdecl sub_804FEA1(_DWORD);

//----- (0805126A) --------------------------------------------------------
#error "80512B0: call analysis failed (funcsize=45)"

//----- (08051302) --------------------------------------------------------
int __cdecl sub_8051302(int a1, int a2)
{
  return sub_80505CA(a1, a2, sub_8050280);
}
// 80505CA: using guessed type _DWORD __cdecl sub_80505CA(_DWORD, _DWORD, _DWORD);

//----- (08051324) --------------------------------------------------------
int __cdecl sub_8051324(int a1, int a2)
{
  return sub_80505CA(a1, a2, strcmp);
}
// 80505CA: using guessed type _DWORD __cdecl sub_80505CA(_DWORD, _DWORD, _DWORD);

//----- (08051346) --------------------------------------------------------
int __cdecl sub_8051346(int a1, int a2)
{
  return sub_80505CA(a2, a1, sub_8050280);
}
// 80505CA: using guessed type _DWORD __cdecl sub_80505CA(_DWORD, _DWORD, _DWORD);

//----- (08051368) --------------------------------------------------------
int __cdecl sub_8051368(int a1, int a2)
{
  return sub_80505CA(a2, a1, strcmp);
}
// 80505CA: using guessed type _DWORD __cdecl sub_80505CA(_DWORD, _DWORD, _DWORD);

//----- (0805138A) --------------------------------------------------------
signed int __cdecl sub_805138A(int a1, int a2)
{
  int v2; // edx
  int v3; // ecx
  signed int result; // eax
  void *v5; // eax
  char v6; // [esp+1Eh] [ebp-Ah]
  char v7; // [esp+1Fh] [ebp-9h]

  v6 = sub_804FEA1(a1);
  v7 = sub_804FEA1(a2);
  if ( v6 && v7 != 1 )
    return -1;
  v5 = &loc_80513E8;
  if ( v6 == 1 )
    v5 = &loc_80513F5;
  dword_8071218 = (int)v5;
  sub_8064D8D(v3, v2);
  if ( v7 )
    result = 1;
  else
    result = sub_80505CA(a1, a2, sub_8050280);
  return result;
}
// 804FEA1: using guessed type _DWORD __cdecl sub_804FEA1(_DWORD);
// 80505CA: using guessed type _DWORD __cdecl sub_80505CA(_DWORD, _DWORD, _DWORD);
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;

//----- (08051411) --------------------------------------------------------
signed int __cdecl sub_8051411(int a1, int a2)
{
  char v3; // [esp+1Eh] [ebp-Ah]
  char v4; // [esp+1Fh] [ebp-9h]

  v3 = sub_804FEA1(a1);
  v4 = sub_804FEA1(a2);
  if ( v3 && v4 != 1 )
    return -1;
  if ( v3 != 1 && v4 )
    return 1;
  return sub_80505CA(a1, a2, strcmp);
}
// 804FEA1: using guessed type _DWORD __cdecl sub_804FEA1(_DWORD);
// 80505CA: using guessed type _DWORD __cdecl sub_80505CA(_DWORD, _DWORD, _DWORD);

//----- (08051483) --------------------------------------------------------
signed int __cdecl sub_8051483(int a1, int a2)
{
  void *v2; // eax
  int v4; // [esp+0h] [ebp-28h]
  int v5; // [esp+4h] [ebp-24h]
  int v6; // [esp+8h] [ebp-20h]
  int v7; // [esp+Ch] [ebp-1Ch]
  int v8; // [esp+10h] [ebp-18h]
  int v9; // [esp+14h] [ebp-14h]
  int v10; // [esp+18h] [ebp-10h]
  char v11; // [esp+1Eh] [ebp-Ah]
  char v12; // [esp+1Fh] [ebp-9h]

  v11 = sub_804FEA1(a1);
  v12 = sub_804FEA1(a2);
  v2 = &loc_80514C4;
  if ( !v11 )
    v2 = &loc_80514D6;
  dword_8071268 = (int)v2;
  sub_8064BC9(v4, v5, v6, v7, v8, v9, v10);
  if ( v12 != 1 )
    return -1;
  if ( v11 == 1 )
    return sub_80505CA(a2, a1, sub_8050280);
  return 1;
}
// 804FEA1: using guessed type _DWORD __cdecl sub_804FEA1(_DWORD);
// 80505CA: using guessed type _DWORD __cdecl sub_80505CA(_DWORD, _DWORD, _DWORD);
// 8064BC9: using guessed type int __stdcall sub_8064BC9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071268: using guessed type int dword_8071268;

//----- (0805150A) --------------------------------------------------------
signed int __cdecl sub_805150A(int a1, int a2)
{
  char v3; // [esp+1Eh] [ebp-Ah]
  char v4; // [esp+1Fh] [ebp-9h]

  v3 = sub_804FEA1(a1);
  v4 = sub_804FEA1(a2);
  if ( v3 && v4 != 1 )
    return -1;
  if ( v3 != 1 && v4 )
    return 1;
  return sub_80505CA(a2, a1, strcmp);
}
// 804FEA1: using guessed type _DWORD __cdecl sub_804FEA1(_DWORD);
// 80505CA: using guessed type _DWORD __cdecl sub_80505CA(_DWORD, _DWORD, _DWORD);

//----- (08051578) --------------------------------------------------------
int __cdecl sub_8051578(char **a1, char **a2)
{
  return sub_805737C(*a1, *a2);
}

//----- (08051596) --------------------------------------------------------
int __cdecl sub_8051596(char **a1, char **a2)
{
  return sub_8051578(a1, a2);
}

//----- (080515B0) --------------------------------------------------------
int __cdecl sub_80515B0(char **a1, char **a2)
{
  return sub_8051578(a2, a1);
}

//----- (080515CA) --------------------------------------------------------
int __cdecl sub_80515CA(int a1, int a2)
{
  int v3; // [esp+0h] [ebp-28h]
  char **v4; // [esp+8h] [ebp-20h]
  char **v5; // [esp+Ch] [ebp-1Ch]
  char v6; // [esp+1Eh] [ebp-Ah]
  char v7; // [esp+1Fh] [ebp-9h]

  v6 = sub_804FEA1(a1);
  v7 = sub_804FEA1(a2);
  if ( v6 && *((_BYTE *)&v3 - 9) != 1 )
    return -1;
  if ( *((_BYTE *)&v3 - 10) != 1 && *((_BYTE *)&v3 - 9) )
    return 1;
  return sub_8051578(v4, v5);
}
// 804FEA1: using guessed type _DWORD __cdecl sub_804FEA1(_DWORD);

//----- (08051652) --------------------------------------------------------
int __cdecl sub_8051652(char **a1, char **a2)
{
  char v3; // [esp+1Eh] [ebp-Ah]
  char v4; // [esp+1Fh] [ebp-9h]

  v3 = sub_804FEA1(a1);
  v4 = sub_804FEA1(a2);
  if ( v3 && v4 != 1 )
    return -1;
  if ( v3 != 1 && v4 )
    return 1;
  return sub_8051578(a2, a1);
}
// 804FEA1: using guessed type _DWORD __cdecl sub_804FEA1(_DWORD);

//----- (080516B8) --------------------------------------------------------
int sub_80516B8()
{
  int result; // eax
  unsigned int i; // [esp+Ch] [ebp-8h]

  for ( i = 0; ; ++i )
  {
    result = dword_8071848;
    if ( i >= dword_8071848 )
      break;
    *((_DWORD *)dword_8071850 + i) = (char *)dword_8071840 + 136 * i;
  }
  return result;
}
// 8071848: using guessed type int dword_8071848;

//----- (08051730) --------------------------------------------------------
#error "8051817: call analysis failed (funcsize=89)"

//----- (08051891) --------------------------------------------------------
#error "8051934: call analysis failed (funcsize=97)"

//----- (08051A04) --------------------------------------------------------
int __usercall sub_8051A04@<eax>(int edx0@<edx>, int ecx0@<ecx>, int a1, int a2, unsigned __int8 a3, int a4, int a5, int a6)
{
  void *v8; // eax

  v8 = &loc_8051A34;
  if ( !byte_807277C )
    v8 = &loc_8051A63;
  dword_8071218 = (int)v8;
  sub_8064D8D(ecx0, edx0);
  return sub_805BA57(a1, a2, ((*(_DWORD *)(a4 + 16) + 12 * a3) << 7) + 134683516, a4, a5, a6);
}
// 805BA57: using guessed type int __cdecl sub_805BA57(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;
// 807277C: using guessed type char byte_807277C;

//----- (08051AB5) --------------------------------------------------------
int sub_8051AB5()
{
  bool v0; // zf
  int v1; // edx
  int v2; // ecx
  void *v3; // eax
  int v4; // edx
  int v5; // ecx
  time_t timer; // [esp+2Ch] [ebp-42Ch]
  int v8; // [esp+30h] [ebp-428h]
  struct tm tp; // [esp+34h] [ebp-424h]
  char v10; // [esp+63h] [ebp-3F5h]
  unsigned int v11; // [esp+44Ch] [ebp-Ch]

  v11 = __readgsdword(0x14u);
  if ( dword_80713B4 < 0 )
  {
    timer = 0;
    v0 = sub_80632C6(dword_80718FC, &timer, &tp) == 0;
    v3 = &loc_8051B22;
    if ( v0 )
      v3 = &loc_8051B8F;
    dword_807122C = (int)v3;
    sub_8064D19(v2, v1);
    v8 = sub_8051A04(v4, v5, (int)&v10, 1001, 0, (int)&tp, dword_80718FC, 0);
    if ( v8 )
      dword_80713B4 = sub_805B144(&v10, v8, 0);
    if ( dword_80713B4 < 0 )
      dword_80713B4 = 0;
  }
  return dword_80713B4;
}
// 805B144: using guessed type _DWORD __cdecl sub_805B144(_DWORD, _DWORD, _DWORD);
// 807122C: using guessed type int dword_807122C;
// 80713B4: using guessed type int dword_80713B4;

//----- (08051BBA) --------------------------------------------------------
#error "8051C77: call analysis failed (funcsize=71)"

//----- (08051CB5) --------------------------------------------------------
int __usercall sub_8051CB5@<eax>(int a1@<edx>, int a2@<ecx>, __uid_t uid, int a4, int a5)
{
  char *v5; // eax

  if ( (_BYTE)a5 == 1 )
  {
    if ( byte_80718A6 )
      v5 = 0;
    else
      v5 = sub_805A459(a1, a2, uid);
  }
  else
  {
    v5 = "?";
  }
  return sub_8051BBA(v5, a4, a4);
}
// 80718A6: using guessed type char byte_80718A6;

//----- (08051D26) --------------------------------------------------------
int __cdecl sub_8051D26(__gid_t gid, int a2, int a3)
{
  char *v3; // eax

  if ( (_BYTE)a3 == 1 )
  {
    if ( byte_80718A6 )
      v3 = 0;
    else
      v3 = (char *)sub_805A685(gid);
  }
  else
  {
    v3 = "?";
  }
  return sub_8051BBA(v3, gid, a2);
}
// 80718A6: using guessed type char byte_80718A6;

//----- (08051D7D) --------------------------------------------------------
size_t __cdecl sub_8051D7D(char *a1, int a2)
{
  size_t result; // eax
  int v3; // [esp+1Ch] [ebp-1Ch]
  char s; // [esp+21h] [ebp-17h]
  unsigned int v5; // [esp+2Ch] [ebp-Ch]

  v5 = __readgsdword(0x14u);
  if ( a1 )
  {
    v3 = sub_805B117(a1, 0);
    result = 0;
    if ( v3 >= 0 )
      result = v3;
  }
  else
  {
    sprintf(&s, "%lu", a2);
    result = strlen(&s);
  }
  return result;
}

//----- (08051E03) --------------------------------------------------------
size_t __usercall sub_8051E03@<eax>(int a1@<edx>, int a2@<ecx>, __uid_t uid)
{
  char *v3; // eax

  if ( byte_80718A6 )
    v3 = 0;
  else
    v3 = sub_805A459(a1, a2, uid);
  return sub_8051D7D(v3, uid);
}
// 80718A6: using guessed type char byte_80718A6;

//----- (08051E59) --------------------------------------------------------
size_t __cdecl sub_8051E59(__gid_t gid)
{
  char *v1; // eax

  if ( byte_80718A6 )
    v1 = 0;
  else
    v1 = (char *)sub_805A685(gid);
  return sub_8051D7D(v1, gid);
}
// 80718A6: using guessed type char byte_80718A6;

//----- (08051E8D) --------------------------------------------------------
const char *__cdecl sub_8051E8D(int a1, unsigned int a2, int a3)
{
  int v3; // edx
  int v4; // ecx

  if ( a2 <= 0x14 )
    __assert_fail("INT_BUFSIZE_BOUND (uintmax_t) <= buflen", "src/ls.c", 0xFA7u, "format_inode");
  if ( *(_BYTE *)(a3 + 120) && *(_QWORD *)(a3 + 100) )
  {
    sub_805AA84(*(_QWORD *)(a3 + 100), a1);
    dword_8071218 = (int)&locret_8051F17;
    sub_8064D8D(v4, v3);
  }
  return "?";
}
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;

//----- (08051F19) --------------------------------------------------------
#error "805252B: call analysis failed (funcsize=622)"

//----- (08052B44) --------------------------------------------------------
#error "8052B91: call analysis failed (funcsize=28)"

//----- (08052B96) --------------------------------------------------------
#error "80530C6: positive sp value has been found (funcsize=391)"

//----- (080530CA) --------------------------------------------------------
int __cdecl sub_80530CA(void *a1, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-2048h]
  int v5; // [esp+28h] [ebp-2020h]
  void *v6; // [esp+2Ch] [ebp-201Ch]
  unsigned __int8 v7; // [esp+33h] [ebp-2015h]
  void *ptr; // [esp+34h] [ebp-2014h]
  int v9; // [esp+38h] [ebp-2010h]
  char v10; // [esp+3Ch] [ebp-200Ch]
  unsigned int v11; // [esp+203Ch] [ebp-Ch]

  v6 = a1;
  v5 = a2;
  v11 = __readgsdword(0x14u);
  ptr = &v4 - 2051;
  sub_8052B44(&v4 - 2053, 0x2000, a1, a2, a3, &v4 - 2052, (char *)&v4 - 8213);
  if ( ptr != &v10 && ptr != v6 )
    free(ptr);
  return v7 + v9;
}
// 8052B44: using guessed type _DWORD __cdecl sub_8052B44(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (080531B2) --------------------------------------------------------
char *__cdecl sub_80531B2(char *s)
{
  size_t v1; // eax
  char *v2; // eax
  int v3; // edx
  int v4; // ecx
  void *v5; // eax
  char *v7; // [esp+18h] [ebp-10h]
  char *v8; // [esp+1Ch] [ebp-Ch]

  v1 = strlen(s);
  v2 = (char *)sub_80613BF(3u, v1 + 1);
  v8 = v2;
  v7 = v2;
  v5 = &loc_80532D6;
  if ( *s )
    v5 = &loc_80531EA;
  dword_8071218 = (int)v5;
  sub_8064D8D(v4, v3);
  *v7 = 0;
  return v8;
}
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;

//----- (080532E1) --------------------------------------------------------
int __usercall sub_80532E1@<eax>(void *a1@<ebx>, void *a2, int a3, int a4, int a5, char a6, int a7, char *a8)
{
  void *v8; // eax
  void *v9; // ebx
  int v10; // eax
  void *v11; // eax
  void *v12; // ebx
  char *v13; // eax
  int v14; // eax
  void *v15; // eax
  void *v16; // ebx
  int v17; // ecx
  size_t v18; // edx
  int v19; // eax
  void *v20; // eax
  void *v22; // [esp-8h] [ebp-2080h]
  int v23; // [esp-4h] [ebp-207Ch]
  int v24; // [esp+0h] [ebp-2078h]
  void *v25; // [esp+4h] [ebp-2074h]
  char *v26; // [esp+8h] [ebp-2070h]
  void *v27; // [esp+Ch] [ebp-206Ch]
  int v28; // [esp+10h] [ebp-2068h]
  int v29; // [esp+14h] [ebp-2064h]
  int v30; // [esp+18h] [ebp-2060h]
  int v31; // [esp+1Ch] [ebp-205Ch]
  int v32; // [esp+20h] [ebp-2058h]
  int v33; // [esp+24h] [ebp-2054h]
  char *s; // [esp+28h] [ebp-2050h]
  int v35; // [esp+2Ch] [ebp-204Ch]
  char v36; // [esp+30h] [ebp-2048h]
  int v37; // [esp+34h] [ebp-2044h]
  int v38; // [esp+38h] [ebp-2040h]
  void *v39; // [esp+3Ch] [ebp-203Ch]
  int v40; // [esp+40h] [ebp-2038h]
  void *v41; // [esp+44h] [ebp-2034h]
  int v42; // [esp+48h] [ebp-2030h]
  void *ptr; // [esp+4Ch] [ebp-202Ch]
  void *v44; // [esp+50h] [ebp-2028h]
  int v45; // [esp+54h] [ebp-2024h]
  size_t n; // [esp+58h] [ebp-2020h]
  int v47; // [esp+5Ch] [ebp-201Ch]
  int v48; // [esp+60h] [ebp-2018h]
  size_t v49; // [esp+64h] [ebp-2014h]
  int v50; // [esp+68h] [ebp-2010h]
  char v51; // [esp+6Ch] [ebp-200Ch]
  unsigned int v52; // [esp+206Ch] [ebp-Ch]

  v39 = a2;
  v38 = a3;
  v37 = a5;
  v36 = a6;
  v35 = a7;
  s = a8;
  v52 = __readgsdword(0x14u);
  v41 = &v24 - 2051;
  v42 = sub_8052B44(&v24 - 2061, 0x2000, a2, a3, a4, 0, (char *)&v24 - 8246);
  v23 = BYTE2(v40);
  v22 = a1;
  v8 = &loc_80533B6;
  if ( !BYTE2(v40) )
    v8 = &loc_80533D8;
  dword_8071204 = (int)v8;
  v9 = v22;
  v10 = sub_8064E07(
          v24,
          v25,
          v26,
          v27,
          v28,
          v29,
          v30,
          v31,
          v32,
          v33,
          s,
          v35,
          *(_DWORD *)&v36,
          v37,
          v38,
          v39,
          v40,
          v41,
          v42,
          ptr,
          v44,
          v45,
          n);
  if ( v36 )
  {
    putchar_unlocked(32);
    v10 = dword_80719B0++ + 1;
  }
  if ( v37 )
  {
    v24 = v37;
    LOBYTE(v10) = sub_8053DD1();
  }
  HIBYTE(v40) = 0;
  v23 = v10;
  v22 = v9;
  v11 = &loc_8053418;
  if ( !s )
    v11 = &loc_80534EB;
  dword_8071268 = (int)v11;
  v12 = v22;
  sub_8064BC9(v24, v25, v26, v27, v28, v29, v30);
  if ( byte_807184D && byte_807184C && BYTE2(v40) != 1 )
  {
    HIBYTE(v40) = 1;
    putchar_unlocked(*(char *)v41);
  }
  v25 = 0;
  ptr = sub_80531B2(dword_807185C);
  v25 = (void *)1;
  v44 = sub_80531B2(s);
  if ( *(_BYTE *)v44 == 47 )
    v13 = &locale;
  else
    v13 = "/";
  v27 = v44;
  v26 = v13;
  v25 = ptr;
  printf("\x1B]8;;file://%s%s%s\a");
  free(ptr);
  free(v44);
  v23 = v14;
  v22 = v12;
  v15 = &loc_805350D;
  if ( !v35 )
    v15 = &loc_80535C3;
  dword_8071204 = (int)v15;
  sub_8064E07(
    v24,
    v25,
    v26,
    v27,
    v28,
    v29,
    v30,
    v31,
    v32,
    v33,
    s,
    v35,
    *(_DWORD *)&v36,
    v37,
    v38,
    v39,
    v40,
    v41,
    v42,
    ptr,
    v44,
    v45,
    n);
  if ( byte_80718B8 )
  {
    v45 = v35;
    n = 4;
    v47 = v35;
    if ( (unsigned int)(*(_DWORD *)(v35 + 16) - *(_DWORD *)(v35 + 12)) < 4 )
      sub_8062924(v45, n);
    memcpy(*(void **)(v45 + 12), &dword_80719B0, n);
    *(_DWORD *)(v45 + 12) += n;
  }
  v16 = v41;
  fwrite_unlocked((char *)v41 + HIBYTE(v40), 1u, v42 - 2 * HIBYTE(v40), stdout);
  v18 = dword_80719B0;
  v19 = dword_80719B0 + v42;
  dword_80719B0 += v42;
  if ( v35 )
  {
    v19 = (unsigned __int8)byte_80718B8;
    if ( byte_80718B8 )
    {
      v48 = v35;
      v49 = 4;
      v50 = v35;
      if ( (unsigned int)(*(_DWORD *)(v35 + 16) - *(_DWORD *)(v35 + 12)) < 4 )
        sub_8062924(v48, v49);
      memcpy(*(void **)(v48 + 12), &dword_80719B0, v49);
      v18 = v49 + *(_DWORD *)(v48 + 12);
      v19 = v48;
      *(_DWORD *)(v48 + 12) = v18;
    }
  }
  v23 = v19;
  v22 = v16;
  v20 = &loc_8053712;
  if ( !s )
    v20 = &loc_805375F;
  dword_807122C = (int)v20;
  sub_8064D19(v17, v18);
  fwrite_unlocked("\x1B]8;;\a", 1u, 6u, stdout);
  if ( HIBYTE(v40) )
    putchar_unlocked(*((char *)v41 + v42 - 1));
  if ( v41 != &v51 && v41 != v39 )
    free(v41);
  return BYTE2(v40) + v42;
}
// 8052B44: using guessed type _DWORD __cdecl sub_8052B44(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8062924: using guessed type _DWORD __cdecl sub_8062924(_DWORD, _DWORD);
// 8064BC9: using guessed type int __stdcall sub_8064BC9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8064E07: using guessed type int __stdcall sub_8064E07(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071204: using guessed type int dword_8071204;
// 807122C: using guessed type int dword_807122C;
// 8071268: using guessed type int dword_8071268;
// 807184C: using guessed type char byte_807184C;
// 807184D: using guessed type char byte_807184D;
// 80718B8: using guessed type char byte_80718B8;
// 80719B0: using guessed type int dword_80719B0;

//----- (080537B8) --------------------------------------------------------
int __cdecl sub_80537B8(int *a1, unsigned __int8 a2)
{
  int v2; // eax
  int v3; // eax
  bool v4; // al
  bool v5; // al
  int v6; // edx
  void *v7; // ebx
  bool v8; // zf
  void *v9; // eax
  void *v11; // [esp-8h] [ebp-50h]
  unsigned int v12; // [esp-4h] [ebp-4Ch]
  void *v13; // [esp+0h] [ebp-48h]
  int v14; // [esp+4h] [ebp-44h]
  int v15; // [esp+8h] [ebp-40h]
  int v16; // [esp+Ch] [ebp-3Ch]
  _BOOL4 v17; // [esp+10h] [ebp-38h]
  unsigned int v18; // [esp+14h] [ebp-34h]
  char *v19; // [esp+18h] [ebp-30h]
  unsigned __int8 v20; // [esp+1Ch] [ebp-2Ch]
  int v21; // [esp+24h] [ebp-24h]
  int v22; // [esp+28h] [ebp-20h]

  v20 = a2;
  if ( a2 )
    v2 = a1[1];
  else
    v2 = *a1;
  v21 = v2;
  if ( byte_80718C0 )
    v3 = sub_8053E30(a1, v20);
  else
    v3 = 0;
  v22 = v3;
  v4 = byte_80718C0 && (*(&v13 - 8) || (unsigned __int8)sub_804B743(4));
  *((_BYTE *)&v13 - 37) = v4;
  *((_BYTE *)&v13 - 37) &= 1u;
  v5 = *((_BYTE *)&v13 - 44) == 0;
  v6 = *(_DWORD *)(v15 + 132);
  v19 = *(char **)(v15 + 8);
  v7 = (void *)v17;
  v18 = v17;
  v17 = v5;
  v16 = (int)*(&v13 - 8);
  v15 = v6;
  v14 = dword_80718E8;
  v13 = *(&v13 - 9);
  *(&v13 - 7) = (void *)sub_80532E1(v7, v13, dword_80718E8, v6, v16, v17, v18, v19);
  sub_804B8B7();
  if ( *((_BYTE *)&v13 - 37) )
  {
    sub_8053943();
    if ( dword_80718F8 )
    {
      v8 = v18 / dword_80718F8 == ((unsigned int)*(&v13 - 7) + v18 - 1) / dword_80718F8;
      v12 = ((unsigned int)*(&v13 - 7) + v18 - 1) / dword_80718F8;
      v11 = v7;
      v9 = &loc_805392C;
      if ( v8 )
        v9 = &loc_8053938;
      dword_8071268 = (int)v9;
      sub_8064BC9(v13, v14, v15, v16, v17, v18, v19);
      sub_8054294((int)&unk_80713A0);
    }
  }
  return (int)*(&v13 - 7);
}
// 8053E30: using guessed type _DWORD __cdecl sub_8053E30(_DWORD, _DWORD);
// 8064BC9: using guessed type int __stdcall sub_8064BC9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071268: using guessed type int dword_8071268;
// 80718C0: using guessed type char byte_80718C0;
// 80718E8: using guessed type int dword_80718E8;
// 80718F8: using guessed type int dword_80718F8;

//----- (08053943) --------------------------------------------------------
size_t sub_8053943()
{
  if ( dword_80712FC )
    return sub_8054294((int)&unk_80712F8);
  sub_8054294((int)dword_80712E8);
  sub_8054294((int)&unk_8071300);
  return sub_8054294((int)&dword_80712F0);
}
// 80712E8: using guessed type int dword_80712E8[];
// 80712F0: using guessed type int dword_80712F0;
// 80712FC: using guessed type int dword_80712FC;

//----- (0805398A) --------------------------------------------------------
int __usercall sub_805398A@<eax>(int a1@<ebx>, int a2)
{
  int **v2; // ebp
  const char *v3; // edx
  int v4; // eax
  const char *v5; // eax
  int v6; // eax
  int v7; // edx
  int v8; // eax
  int v9; // edx
  void *v10; // eax
  int v11; // eax
  int v12; // ecx
  int result; // eax
  unsigned int v14; // ebx
  int v15; // [esp-34h] [ebp-2E0h]
  int v16; // [esp-30h] [ebp-2DCh]
  int *v17; // [esp-2Ch] [ebp-2D8h]
  int v18; // [esp-28h] [ebp-2D4h]
  const char *v19; // [esp-24h] [ebp-2D0h]
  int v20; // [esp-20h] [ebp-2CCh]
  signed int v21; // [esp-1Ch] [ebp-2C8h]
  int v22; // [esp-18h] [ebp-2C4h]
  __int64 v23; // [esp-14h] [ebp-2C0h]
  int v24; // [esp+0h] [ebp-2ACh]
  char v25; // [esp+14h] [ebp-298h]
  unsigned int v26; // [esp+2A0h] [ebp-Ch]
  int savedregs; // [esp+2ACh] [ebp+0h]

  v2 = (int **)&savedregs;
  v24 = a2;
  v26 = __readgsdword(0x14u);
  sub_804B804();
  if ( byte_80718CD )
  {
    v3 = sub_8051E8D((int)&v25, 0x28Cu, v24);
    if ( dword_8071898 == 4 )
      v4 = 0;
    else
      v4 = dword_8071870;
    v19 = v3;
    v18 = v4;
    printf("%*s ", v4);
  }
  if ( byte_80718A7 )
  {
    if ( *(_BYTE *)(v24 + 120) == 1 )
    {
      a1 = HIDWORD(qword_80718AC);
      v2 = &v17;
      v6 = (int)*(&v17 - 171);
      v7 = *(_DWORD *)(v6 + 72);
      v8 = *(_DWORD *)(v6 + 68);
      v23 = qword_80718AC;
      v21 = 512;
      v22 = 0;
      v20 = dword_80718A8;
      v19 = (const char *)(&v17 - 166);
      v5 = (const char *)sub_80593A8(v8, v7);
    }
    else
    {
      v5 = "?";
    }
    if ( dword_8071898 == 4 )
      v9 = 0;
    else
      v9 = dword_8071874;
    v19 = v5;
    v18 = v9;
    printf("%*s ", v9);
  }
  v16 = (unsigned __int8)byte_807186C;
  v15 = a1;
  v10 = &loc_8053AFC;
  if ( !byte_807186C )
    v10 = &loc_8053B2F;
  dword_8071268 = (int)v10;
  sub_8064BC9(v17, v18, v19, v20, v21, v22, v23);
  if ( dword_8071898 == 4 )
    v11 = 0;
  else
    v11 = dword_807187C;
  v19 = (const char *)(*(v2 - 171))[29];
  v18 = v11;
  printf("%*s ", v11, v19);
  v20 = (int)v2[3];
  v19 = 0;
  v18 = 0;
  v17 = *(v2 - 171);
  *(v2 - 167) = (int *)sub_80537B8(v17, 0);
  if ( dword_80718BC )
  {
    v12 = (*(v2 - 171))[27];
    v2 = &v17;
    *(&v17 - 167) = (int *)((char *)*(&v17 - 167) + sub_8053D70(
                                                      *((_BYTE *)*(&v17 - 171) + 120),
                                                      (*(&v17 - 171))[7],
                                                      v12));
  }
  result = (int)*(v2 - 167);
  v14 = __readgsdword(0x14u) ^ (unsigned int)*(v2 - 3);
  return result;
}
// 80593A8: using guessed type _DWORD __cdecl sub_80593A8(_DWORD, _DWORD);
// 8064BC9: using guessed type int __stdcall sub_8064BC9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071268: using guessed type int dword_8071268;
// 807186C: using guessed type char byte_807186C;
// 8071870: using guessed type int dword_8071870;
// 8071874: using guessed type int dword_8071874;
// 8071898: using guessed type int dword_8071898;
// 80718A7: using guessed type char byte_80718A7;
// 80718A8: using guessed type int dword_80718A8;
// 80718AC: using guessed type __int64 qword_80718AC;
// 80718BC: using guessed type int dword_80718BC;
// 80718CD: using guessed type char byte_80718CD;

//----- (08053BCC) --------------------------------------------------------
#error "8053C70: call analysis failed (funcsize=107)"

//----- (08053D70) --------------------------------------------------------
bool __cdecl sub_8053D70(unsigned __int8 a1, int a2, int a3)
{
  char v4; // [esp+1Fh] [ebp-9h]

  v4 = sub_8053BCC(a1, a2, a3);
  if ( v4 )
  {
    putchar_unlocked(v4);
    ++dword_80719B0;
  }
  return v4 != 0;
}
// 8053BCC: using guessed type _DWORD __cdecl sub_8053BCC(_DWORD, _DWORD, _DWORD);
// 80719B0: using guessed type int dword_80719B0;

//----- (08053DD1) --------------------------------------------------------
bool sub_8053DD1()
{
  int v1; // [esp+8h] [ebp-10h]

  if ( v1 )
  {
    if ( (unsigned __int8)sub_804B743(4) )
      sub_804B7E4();
    sub_8054294((int)dword_80712E8);
    sub_8054294(v1);
    sub_8054294((int)&dword_80712F0);
  }
  return v1 != 0;
}
// 80712E8: using guessed type int dword_80712E8[];
// 80712F0: using guessed type int dword_80712F0;

//----- (08053E30) --------------------------------------------------------
#error "8054162: call analysis failed (funcsize=284)"

//----- (08054294) --------------------------------------------------------
size_t __cdecl sub_8054294(int a1)
{
  if ( byte_80718C2 != 1 )
  {
    byte_80718C2 = 1;
    if ( tcgetpgrp(1) >= 0 )
      sub_804BBA0();
    sub_8053943();
  }
  return fwrite_unlocked(*(const void **)(a1 + 4), *(_DWORD *)a1, 1u, stdout);
}
// 80718C2: using guessed type char byte_80718C2;

//----- (08054302) --------------------------------------------------------
#error "80543F0: call analysis failed (funcsize=137)"

//----- (0805455F) --------------------------------------------------------
unsigned int __usercall sub_805455F@<eax>(int a1@<ebx>)
{
  unsigned int v1; // ST28_4
  int v2; // ST34_4
  int v3; // eax
  unsigned int result; // eax
  unsigned int i; // [esp+18h] [ebp-30h]
  int v6; // [esp+1Ch] [ebp-2Ch]
  unsigned int v7; // [esp+20h] [ebp-28h]
  int j; // [esp+24h] [ebp-24h]
  char *v9; // [esp+2Ch] [ebp-1Ch]
  unsigned int v10; // [esp+30h] [ebp-18h]
  int v11; // [esp+38h] [ebp-10h]
  int v12; // [esp+3Ch] [ebp-Ch]

  v1 = sub_8054C8C(1);
  v9 = (char *)dword_80719A8 + 12 * v1 - 12;
  v10 = dword_8071848 / v1 + (dword_8071848 % v1 != 0);
  for ( i = 0; ; ++i )
  {
    result = i;
    if ( i >= v10 )
      break;
    v6 = 0;
    v7 = i;
    for ( j = 0; ; j += v12 )
    {
      v2 = *((_DWORD *)dword_8071850 + v7);
      v11 = sub_8054302(v2);
      v3 = v6++;
      v12 = *(_DWORD *)(*((_DWORD *)v9 + 2) + 4 * v3);
      sub_805398A(a1, v2);
      v7 += v10;
      if ( v7 >= dword_8071848 )
        break;
      sub_8054911(j + v11, v12 + j);
    }
    putchar_unlocked(10);
  }
  return result;
}
// 8054302: using guessed type _DWORD __cdecl sub_8054302(_DWORD);
// 8054C8C: using guessed type _DWORD __cdecl sub_8054C8C(_DWORD);
// 8071848: using guessed type int dword_8071848;

//----- (0805469F) --------------------------------------------------------
int __usercall sub_805469F@<eax>(int a1@<ebx>)
{
  int v1; // ST28_4
  int v2; // ST28_4
  unsigned int i; // [esp+10h] [ebp-28h]
  int v5; // [esp+14h] [ebp-24h]
  int v6; // [esp+18h] [ebp-20h]
  int v7; // [esp+1Ch] [ebp-1Ch]
  unsigned int v8; // [esp+20h] [ebp-18h]
  char *v9; // [esp+24h] [ebp-14h]

  v5 = 0;
  v8 = sub_8054C8C(0);
  v9 = (char *)dword_80719A8 + 12 * v8 - 12;
  v1 = *(_DWORD *)dword_8071850;
  v6 = sub_8054302(*(_DWORD *)dword_8071850);
  v7 = **((_DWORD **)v9 + 2);
  sub_805398A(a1, v1);
  for ( i = 1; i < dword_8071848; ++i )
  {
    if ( i % v8 )
    {
      sub_8054911(v5 + v6, v7 + v5);
      v5 += v7;
    }
    else
    {
      putchar_unlocked(10);
      v5 = 0;
    }
    v2 = *((_DWORD *)dword_8071850 + i);
    sub_805398A(a1, *((_DWORD *)dword_8071850 + i));
    v6 = sub_8054302(v2);
    v7 = *(_DWORD *)(4 * (i % v8) + *((_DWORD *)v9 + 2));
  }
  return putchar_unlocked(10);
}
// 8054302: using guessed type _DWORD __cdecl sub_8054302(_DWORD);
// 8054C8C: using guessed type _DWORD __cdecl sub_8054C8C(_DWORD);
// 8071848: using guessed type int dword_8071848;

//----- (080547FB) --------------------------------------------------------
#error "805487D: call analysis failed (funcsize=80)"

//----- (08054911) --------------------------------------------------------
unsigned int __cdecl sub_8054911(unsigned int a1, unsigned int a2)
{
  unsigned int result; // eax

  while ( 1 )
  {
    result = a1;
    if ( a1 >= a2 )
      break;
    if ( dword_80718F0 && a2 / dword_80718F0 > (a1 + 1) / dword_80718F0 )
    {
      putchar_unlocked(9);
      a1 += dword_80718F0 - a1 % dword_80718F0;
    }
    else
    {
      putchar_unlocked(32);
      ++a1;
    }
  }
  return result;
}
// 80718F0: using guessed type int dword_80718F0;

//----- (080549B6) --------------------------------------------------------
_BYTE *__cdecl sub_80549B6(_BYTE *a1, _BYTE *a2, _BYTE *a3)
{
  _BYTE *v3; // eax
  _BYTE *v4; // edx
  _BYTE *v5; // eax
  _BYTE *v6; // eax
  _BYTE *v7; // edx
  _BYTE *result; // eax
  _BYTE *v9; // [esp+Ch] [ebp-4h]

  v9 = a2;
  if ( *a2 != 46 || a2[1] )
  {
    while ( *v9 )
    {
      v3 = a1++;
      v4 = v9++;
      *v3 = *v4;
    }
    if ( v9 > a2 && *(v9 - 1) != 47 )
    {
      v5 = a1++;
      *v5 = 47;
    }
  }
  while ( *a3 )
  {
    v6 = a1++;
    v7 = a3++;
    *v6 = *v7;
  }
  result = a1;
  *a1 = 0;
  return result;
}

//----- (08054A4E) --------------------------------------------------------
#error "8054A5F: call analysis failed (funcsize=12)"

//----- (08054A72) --------------------------------------------------------
#error "8054ADD: call analysis failed (funcsize=151)"

//----- (08054C8C) --------------------------------------------------------
#error "8054D04: call analysis failed (funcsize=185)"

//----- (08054F64) --------------------------------------------------------
#error "80552BE: call analysis failed (funcsize=195)"

//----- (080552F3) --------------------------------------------------------
char *__cdecl sub_80552F3(char *path, int a2)
{
  int v2; // eax
  int v4; // ST2C_4
  size_t size; // [esp+10h] [ebp-28h]
  char *buf; // [esp+20h] [ebp-18h]
  ssize_t v7; // [esp+28h] [ebp-10h]

  if ( (unsigned int)a2 >= 0x401 )
    v2 = 1025;
  else
    v2 = a2 + 1;
  for ( size = v2; ; size = 0x7FFFFFFF )
  {
    while ( 1 )
    {
      buf = (char *)malloc(size);
      if ( !buf )
        return 0;
      v7 = readlink(path, buf, size);
      if ( v7 < 0 && *__errno_location() != 34 )
      {
        v4 = *__errno_location();
        free(buf);
        *__errno_location() = v4;
        return 0;
      }
      if ( v7 < size )
      {
        buf[v7] = 0;
        return buf;
      }
      free(buf);
      if ( size > 0x3FFFFFFF )
        break;
      size *= 2;
    }
    if ( size > 0x7FFFFFFE )
      break;
  }
  *__errno_location() = 12;
  return 0;
}

//----- (08055407) --------------------------------------------------------
void __noreturn sub_8055407()
{
  sub_8054F64(1);
}

//----- (0805541B) --------------------------------------------------------
#error "805553F: call analysis failed (funcsize=104)"

//----- (08055577) --------------------------------------------------------
void __cdecl sub_8055577(int a1, int a2, int a3)
{
  char *v3; // eax
  void *v4; // ebx
  void *v5; // eax
  int v6; // [esp+0h] [ebp-38h]
  void *v7; // [esp+Ch] [ebp-2Ch]
  void *v8; // [esp+10h] [ebp-28h]
  char *format; // [esp+2Ch] [ebp-Ch]

  if ( a3 == -1 )
    v3 = gettext("invalid argument %s for %s");
  else
    v3 = gettext("ambiguous argument %s for %s");
  format = v3;
  v4 = sub_806056D(1, a1);
  v5 = sub_8060041(0, 8, a2);
  v8 = v4;
  v7 = v5;
  error(0, 0, (const char *)*(&v6 - 3), v5, v4);
}

//----- (0805561A) --------------------------------------------------------
int __cdecl sub_805561A(int a1, int a2, size_t n)
{
  FILE *v3; // ebx
  char *v4; // eax
  const void *v6; // [esp+4h] [ebp-24h]
  void *v7; // [esp+8h] [ebp-20h]
  int i; // [esp+18h] [ebp-10h]
  void *s1; // [esp+1Ch] [ebp-Ch]

  s1 = 0;
  v3 = stderr;
  v4 = gettext("Valid arguments are:");
  fputs_unlocked(v4, v3);
  for ( i = 0; *(_DWORD *)(4 * i + a1); ++i )
  {
    if ( i && (v6 = (const void *)(a2 + i * n), !memcmp(s1, v6, n)) )
    {
      v7 = sub_806058F(*(_DWORD *)(4 * i + a1));
      fprintf(stderr, ", %s", v7);
    }
    else
    {
      v7 = sub_806058F(*(_DWORD *)(4 * i + a1));
      fprintf(stderr, "\n  - %s", v7);
      s1 = (void *)(i * n + a2);
    }
  }
  return putc_unlocked(10, stderr);
}
// 8049860: using guessed type int __cdecl fputs_unlocked(_DWORD, _DWORD);

//----- (08055745) --------------------------------------------------------
void (*__cdecl sub_8055745(int a1, char *a2, int a3, size_t a4, size_t a5))(void)
{
  char *s; // [esp+0h] [ebp-2Ch]
  int v7; // [esp+4h] [ebp-28h]
  size_t n; // [esp+8h] [ebp-24h]
  size_t v9; // [esp+Ch] [ebp-20h]
  void (*v10)(void); // [esp+1Ch] [ebp-10h]

  v9 = a5;
  n = a4;
  v7 = a3;
  s = a2;
  v10 = (void (*)(void))sub_805541B();
  if ( (signed int)v10 >= 0 )
    return v10;
  sub_8055577(a1, (int)a2, (int)v10);
  sub_805561A(a3, a4, a5);
  v10();
  return (void (*)(void))-1;
}

//----- (08055878) --------------------------------------------------------
signed int __cdecl sub_8055878(signed int a1)
{
  if ( a1 > 90 )
  {
    if ( (unsigned int)(a1 - 97) <= 0x19 )
      return 1;
  }
  else if ( a1 >= 65 || (unsigned int)(a1 - 48) <= 9 )
  {
    return 1;
  }
  return 0;
}

//----- (080558B6) --------------------------------------------------------
#error "80558DA: call analysis failed (funcsize=23)"

//----- (08055970) --------------------------------------------------------
_BOOL4 __cdecl sub_8055970(int a1)
{
  return (unsigned int)(a1 - 48) <= 9;
}

//----- (08055AC8) --------------------------------------------------------
int __cdecl sub_8055AC8(int a1)
{
  int result; // eax

  if ( (unsigned int)(a1 - 65) > 0x19 )
    result = a1;
  else
    result = a1 + 32;
  return result;
}

//----- (08055B02) --------------------------------------------------------
#error "8055BAF: call analysis failed (funcsize=65)"

//----- (08055BDA) --------------------------------------------------------
int __usercall sub_8055BDA@<eax>(int a1@<edx>, int a2@<ecx>, void *src, int a4)
{
  void *v4; // eax

  v4 = &loc_8055C5B;
  if ( !(a4 & 3 & ((a4 & 3) - 1)) )
    v4 = &loc_8055C70;
  dword_807122C = (int)v4;
  sub_8064D19(a2, a1);
  *__errno_location() = 22;
  return 0;
}
// 807122C: using guessed type int dword_807122C;

//----- (080565DF) --------------------------------------------------------
int sub_80565DF()
{
  int v0; // edx
  int v1; // ecx
  void *v2; // eax
  void *v3; // ebx
  int *v4; // eax
  int *v5; // eax
  int result; // eax
  char *v7; // [esp+2Ch] [ebp-Ch]

  if ( sub_806379F(stdout) )
  {
    v2 = &loc_8056622;
    if ( byte_807285C != 1 )
      v2 = &loc_8056632;
    dword_8071218 = (int)v2;
    sub_8064D8D(v1, v0);
    if ( *__errno_location() != 32 )
    {
      v7 = gettext("write error");
      if ( dword_8072858 )
      {
        v3 = sub_8060277(dword_8072858);
        v4 = __errno_location();
        error(0, *v4, "%s: %s", v3, v7);
      }
      else
      {
        v5 = __errno_location();
        error(0, *v5, "%s", v7);
      }
      _exit(status);
    }
  }
  result = sub_806379F(stderr);
  if ( result )
    _exit(status);
  return result;
}
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;
// 8072858: using guessed type int dword_8072858;
// 807285C: using guessed type char byte_807285C;

//----- (080566DC) --------------------------------------------------------
#error "805676B: call analysis failed (funcsize=56)"

//----- (08056783) --------------------------------------------------------
void *__cdecl sub_8056783(void *src)
{
  size_t v2; // eax
  size_t n; // [esp+18h] [ebp-10h]
  void *dest; // [esp+1Ch] [ebp-Ch]

  n = sub_80566DC(src);
  dest = malloc((n == 0) + n + 1);
  if ( !dest )
    return 0;
  memcpy(dest, src, n);
  if ( n == 0 )
  {
    v2 = n++;
    *((_BYTE *)dest + v2) = 46;
  }
  *((_BYTE *)dest + n) = 0;
  return dest;
}
// 80566DC: using guessed type _DWORD __cdecl sub_80566DC(_DWORD);

//----- (08056815) --------------------------------------------------------
int __cdecl sub_8056815(_BYTE *a1)
{
  int *v1; // ebp
  _BYTE *v2; // eax
  int v4; // [esp+0h] [ebp-10h]
  char v5; // [esp+7h] [ebp-9h]
  _BYTE *v6; // [esp+8h] [ebp-8h]
  _BYTE *v7; // [esp+Ch] [ebp-4h]
  int savedregs; // [esp+10h] [ebp+0h]

  v1 = &savedregs;
  v6 = a1;
  v5 = 0;
  while ( *v6 == 47 )
    ++v6;
  v7 = v6;
  while ( 1 )
  {
    v2 = (_BYTE *)*(v1 - 1);
    v1 = &v4;
    if ( !*v2 )
      break;
    if ( *(_BYTE *)*(&v4 - 1) == 47 )
    {
      *((_BYTE *)&v4 - 9) = 1;
    }
    else if ( *((_BYTE *)&v4 - 9) )
    {
      *(&v4 - 2) = *(&v4 - 1);
      *((_BYTE *)&v4 - 9) = 0;
    }
    ++*(&v4 - 1);
  }
  return *(&v4 - 2);
}

//----- (0805688E) --------------------------------------------------------
unsigned int __cdecl sub_805688E(char *s)
{
  size_t v1; // eax
  int v2; // ST00_4
  int v4; // [esp+4h] [ebp-24h]
  int v5; // [esp+8h] [ebp-20h]
  int v6; // [esp+Ch] [ebp-1Ch]
  int v7; // [esp+10h] [ebp-18h]
  int v8; // [esp+14h] [ebp-14h]
  unsigned int v9; // [esp+18h] [ebp-10h]
  int v10; // [esp+20h] [ebp-8h]
  int v11; // [esp+24h] [ebp-4h]
  int savedregs; // [esp+28h] [ebp+0h]

  v1 = strlen(s);
  dword_8071240 = (int)&loc_80568C8;
  sub_8064CA3(v2, v4, v5, v6, v7, v8, v1, 0, v10, v11, savedregs);
  do
    --v9;
  while ( v9 > 1 && s[v9 - 1] == 47 );
  return v9;
}
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071240: using guessed type int dword_8071240;

//----- (080568E5) --------------------------------------------------------
int sub_80568E5()
{
  return 0;
}

//----- (080568EF) --------------------------------------------------------
#error "8056966: call analysis failed (funcsize=41)"

//----- (080569E7) --------------------------------------------------------
int __cdecl sub_80569E7(int a1)
{
  void *v1; // eax
  int v3; // [esp+0h] [ebp-38h]
  int v4; // [esp+4h] [ebp-34h]
  int v5; // [esp+8h] [ebp-30h]
  int v6; // [esp+Ch] [ebp-2Ch]
  int v7; // [esp+10h] [ebp-28h]
  int v8; // [esp+14h] [ebp-24h]
  int v9; // [esp+18h] [ebp-20h]
  int v10; // [esp+1Ch] [ebp-1Ch]
  int v11; // [esp+20h] [ebp-18h]
  int v12; // [esp+24h] [ebp-14h]
  int v13; // [esp+28h] [ebp-10h]

  v1 = &loc_8056A0C;
  if ( a1 )
    v1 = &loc_8056A13;
  dword_8071240 = (int)v1;
  sub_8064CA3(v3, v4, v5, v6, v7, v8, v9, v10, v11, v12, v13);
  return 0;
}
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071240: using guessed type int dword_8071240;

//----- (08056A5F) --------------------------------------------------------
signed int __cdecl sub_8056A5F(__int16 a1)
{
  switch ( a1 & 0xF000 )
  {
    case 32768:
      return 45;
    case 16384:
      return 100;
    case 24576:
      return 98;
    case 8192:
      return 99;
    case 40960:
      return 108;
    case 4096:
      return 112;
    case 49152:
      return 115;
  }
  return 63;
}

//----- (08056B2C) --------------------------------------------------------
#error "8056B68: call analysis failed (funcsize=201)"

//----- (08056DB9) --------------------------------------------------------
int __cdecl sub_8056DB9(int a1, int a2)
{
  return sub_8056B2C(*(_DWORD *)(a1 + 16), a2);
}
// 8056B2C: using guessed type _DWORD __cdecl sub_8056B2C(_DWORD, _DWORD);

//----- (08056DD6) --------------------------------------------------------
void *__cdecl sub_8056DD6(_BYTE *a1, _BYTE *a2, _DWORD *a3)
{
  void *v4; // [esp+0h] [ebp-Ch]

  v4 = sub_8056E3C(a1, a2, a3);
  if ( !v4 )
    sub_80616A7();
  return v4;
}

//----- (08056E20) --------------------------------------------------------
_BYTE *__cdecl sub_8056E20(_BYTE *a1)
{
  while ( *a1 == 47 )
    ++a1;
  return a1;
}

//----- (08056E3C) --------------------------------------------------------
void *__cdecl sub_8056E3C(_BYTE *a1, _BYTE *a2, _DWORD *a3)
{
  int v3; // ecx
  void *v4; // eax
  int v5; // ecx
  void *v6; // eax
  _BYTE *v8; // eax
  signed int v9; // eax
  char *v10; // [esp+10h] [ebp-28h]
  unsigned int v11; // [esp+14h] [ebp-24h]
  int v12; // [esp+18h] [ebp-20h]
  char *s; // [esp+20h] [ebp-18h]
  size_t v14; // [esp+24h] [ebp-14h]
  void *v15; // [esp+28h] [ebp-10h]
  int v16; // [esp+2Ch] [ebp-Ch]

  v10 = (char *)sub_8056815(a1);
  v11 = sub_805688E(v10);
  v12 = v10 - a1 + v11;
  v4 = &loc_8056EA1;
  if ( !v11 )
    v4 = &loc_8056ED7;
  dword_8071218 = (int)v4;
  sub_8064D8D(v3, v10 - a1);
  v6 = &loc_8056ECC;
  if ( v10[v11 - 1] == 47 )
    v6 = &loc_8056ED7;
  dword_8071218 = (int)v6;
  sub_8064D8D(v5, v11 - 1);
  s = sub_8056E20(a2);
  v14 = strlen(s);
  v15 = malloc(v12 + 1 + v14 + 1);
  if ( !v15 )
    return 0;
  v8 = (_BYTE *)mempcpy(v15, a1, v12);
  *v8 = 47;
  v16 = (int)(v8 + 1);
  if ( a3 )
  {
    if ( *a2 == 47 )
      v9 = -1;
    else
      v9 = 0;
    *a3 = v9 + v16;
  }
  *(_BYTE *)mempcpy(v16, s, v14) = 0;
  return v15;
}
// 8056E3C: could not find valid save-restore pair for ebx
// 80499B0: using guessed type int __cdecl mempcpy(_DWORD, _DWORD, _DWORD);
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;

//----- (08056F98) --------------------------------------------------------
#error "8056FE6: call analysis failed (funcsize=73)"

//----- (08057073) --------------------------------------------------------
#error "80570FC: call analysis failed (funcsize=46)"

//----- (08057110) --------------------------------------------------------
#error "8057275: call analysis failed (funcsize=168)"

//----- (0805737C) --------------------------------------------------------
int __cdecl sub_805737C(char *s1, char *s2)
{
  bool v2; // zf
  int v3; // edx
  int v4; // ecx
  void *v5; // eax

  v2 = strcmp(s1, s2) == 0;
  v5 = &loc_80573B6;
  if ( !v2 )
    v5 = &loc_80573C0;
  dword_8071218 = (int)v5;
  sub_8064D8D(v4, v3);
  return 0;
}
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;

//----- (0805761F) --------------------------------------------------------
struct timespec *__cdecl sub_805761F(struct timespec *tp)
{
  struct timespec *result; // eax
  struct timeval tv; // [esp+18h] [ebp-10h]

  result = (struct timespec *)clock_gettime(0, tp);
  if ( result )
  {
    gettimeofday(&tv, 0);
    tp->tv_sec = tv.tv_sec;
    result = tp;
    tp->tv_nsec = 1000 * tv.tv_usec;
  }
  return result;
}

//----- (0805766E) --------------------------------------------------------
int __cdecl sub_805766E(int category)
{
  unsigned __int8 v2; // [esp+1Bh] [ebp-Dh]
  const char *s1; // [esp+1Ch] [ebp-Ch]

  v2 = 1;
  s1 = setlocale(category, 0);
  if ( s1 && (!strcmp(s1, "C") || !strcmp(s1, "POSIX")) )
    v2 = 0;
  return v2;
}

//----- (080576DA) --------------------------------------------------------
int __cdecl sub_80576DA(int a1)
{
  return *(_DWORD *)(a1 + 8);
}

//----- (080576E5) --------------------------------------------------------
int __cdecl sub_80576E5(int a1)
{
  return *(_DWORD *)(a1 + 12);
}

//----- (080576F4) --------------------------------------------------------
#error "8057711: call analysis failed (funcsize=11)"

//----- (08057716) --------------------------------------------------------
#error "8057735: positive sp value has been found (funcsize=0)"

//----- (08057736) --------------------------------------------------------
#error "8057774: call analysis failed (funcsize=24)"

//----- (08057779) --------------------------------------------------------
#error "80577DE: positive sp value has been found (funcsize=0)"

//----- (0805795D) --------------------------------------------------------
int __cdecl sub_805795D(_DWORD *a1, int a2)
{
  int (__cdecl *v2)(int, int); // eax
  int v4; // [esp+4h] [ebp-24h]
  unsigned int v5; // [esp+1Ch] [ebp-Ch]

  v2 = (int (__cdecl *)(int, int))a1[6];
  v4 = a1[2];
  v5 = v2(a2, v4);
  if ( a1[2] <= v5 )
    abort();
  return 8 * v5 + *a1;
}

//----- (080579AD) --------------------------------------------------------
int __cdecl sub_80579AD(int a1, int a2)
{
  int v2; // edx
  int v3; // ecx
  int v5; // eax
  bool v6; // zf
  void *v7; // eax
  int v8; // [esp-4h] [ebp-2Ch]
  int v9; // [esp+0h] [ebp-28h]
  _DWORD *v10; // [esp+8h] [ebp-20h]

  *(&v9 - 3) = sub_805795D(v10, a2);
  if ( !*(_DWORD *)*(&v9 - 3) )
    return 0;
  v5 = *(&v9 - 3);
  *(&v9 - 4) = v5;
  v6 = *(&v9 - 4) == 0;
  v8 = v5;
  v7 = &loc_8057A5A;
  if ( !v6 )
    v7 = &loc_8057A06;
  dword_807122C = (int)v7;
  sub_8064D19(v3, v2);
  return 0;
}
// 807122C: using guessed type int dword_807122C;

//----- (08057CBD) --------------------------------------------------------
bool sub_8057CBD()
{
  int *v0; // ebp
  int v2; // [esp+0h] [ebp-10h]
  int v3; // [esp+8h] [ebp-8h]
  int v4; // [esp+Ch] [ebp-4h]
  int savedregs; // [esp+10h] [ebp+0h]

  v0 = &savedregs;
  v3 = 3;
  v4 = 9;
  while ( *(v0 - 1) < (unsigned int)v0[2] && v0[2] % (unsigned int)*(v0 - 2) )
  {
    ++*(v0 - 2);
    v0 = &v2;
    *(v0 - 1) += 4 * *(&v2 - 2);
    ++*(v0 - 2);
  }
  return v0[2] % (unsigned int)*(v0 - 2) != 0;
}

//----- (08057D32) --------------------------------------------------------
#error "8057D7F: call analysis failed (funcsize=29)"

//----- (08057DD0) --------------------------------------------------------
unsigned int __cdecl sub_8057DD0(int a1, unsigned int a2)
{
  return sub_80635B8(a1, 3) % a2;
}

//----- (08057DFB) --------------------------------------------------------
bool __cdecl sub_8057DFB(int a1, int a2)
{
  return a1 == a2;
}

//----- (08057E09) --------------------------------------------------------
#error "8057E35: call analysis failed (funcsize=95)"

//----- (08057F12) --------------------------------------------------------
unsigned int __cdecl sub_8057F12(unsigned int a1, int a2)
{
  unsigned int result; // eax
  float v3; // [esp+20h] [ebp-4h]
  unsigned int v4; // [esp+2Ch] [ebp+8h]

  if ( *(_BYTE *)(a2 + 16) != 1 )
  {
    v3 = (long double)a1 / *(float *)(a2 + 8);
    if ( v3 >= 4294967300.0 )
      return 0;
    a1 = (signed __int64)v3;
  }
  v4 = sub_8057D32(a1);
  if ( v4 <= 0x1FFFFFFF )
    result = v4;
  else
    result = 0;
  return result;
}
// 8057D32: using guessed type _DWORD __cdecl sub_8057D32(_DWORD);

//----- (08057FCF) --------------------------------------------------------
#error "805809C: call analysis failed (funcsize=103)"

//----- (08058210) --------------------------------------------------------
#error "8058251: call analysis failed (funcsize=101)"

//----- (0805833F) --------------------------------------------------------
#error "8058372: call analysis failed (funcsize=26)"

//----- (08058393) --------------------------------------------------------
int __cdecl sub_8058393(int a1, _DWORD *a2)
{
  int result; // eax

  *a2 = 0;
  a2[1] = *(_DWORD *)(a1 + 36);
  result = a1;
  *(_DWORD *)(a1 + 36) = a2;
  return result;
}

//----- (080583C6) --------------------------------------------------------
#error "80584B9: call analysis failed (funcsize=129)"

//----- (08058571) --------------------------------------------------------
#error "8058660: call analysis failed (funcsize=144)"

//----- (08058746) --------------------------------------------------------
signed int __cdecl sub_8058746(int a1, unsigned int a2)
{
  int v3; // ST00_4
  int v4; // [esp+4h] [ebp-44h]
  int v5; // [esp+8h] [ebp-40h]
  int v6; // [esp+Ch] [ebp-3Ch]
  unsigned int nmemb; // [esp+10h] [ebp-38h]
  char *v8; // [esp+14h] [ebp-34h]
  char v9; // [esp+18h] [ebp-30h]
  unsigned int v10; // [esp+1Ch] [ebp-2Ch]
  unsigned int v11; // [esp+20h] [ebp-28h]
  int v12; // [esp+24h] [ebp-24h]
  int v13; // [esp+28h] [ebp-20h]
  int v14; // [esp+2Ch] [ebp-1Ch]
  int v15; // [esp+30h] [ebp-18h]
  int v16; // [esp+34h] [ebp-14h]
  int v17; // [esp+38h] [ebp-10h]
  int v18; // [esp+3Ch] [ebp-Ch]

  nmemb = sub_8057F12(a2, *(_DWORD *)(a1 + 20));
  if ( !nmemb )
    return 0;
  if ( *(_DWORD *)(a1 + 8) == nmemb )
    return 1;
  v8 = &v9;
  *(_DWORD *)&v9 = calloc(nmemb, 8u);
  if ( !*(_DWORD *)&v9 )
    return 0;
  v11 = nmemb;
  v10 = *(_DWORD *)&v9 + 8 * nmemb;
  v12 = 0;
  v13 = 0;
  v14 = *(_DWORD *)(a1 + 20);
  v15 = *(_DWORD *)(a1 + 24);
  v16 = *(_DWORD *)(a1 + 28);
  v17 = *(_DWORD *)(a1 + 32);
  v18 = *(_DWORD *)(a1 + 36);
  if ( (unsigned __int8)sub_8058571(&v9, a1, 0) )
  {
    free(*(void **)a1);
    *(_DWORD *)a1 = *(_DWORD *)&v9;
    *(_DWORD *)(a1 + 4) = v10;
    *(_DWORD *)(a1 + 8) = v11;
    *(_DWORD *)(a1 + 12) = v12;
    *(_DWORD *)(a1 + 36) = v18;
    dword_8071240 = (int)&locret_8058932;
    sub_8064CA3(v3, v4, v5, v6, nmemb, &v9, *(_DWORD *)&v9, v10, v11, v12, v13);
  }
  *(_DWORD *)(a1 + 36) = *((_DWORD *)v8 + 9);
  if ( (unsigned __int8)sub_8058571(a1, v8, 1) ^ 1 || (unsigned __int8)sub_8058571(a1, v8, 0) ^ 1 )
    abort();
  free(*(void **)v8);
  return 0;
}
// 8058571: using guessed type _DWORD __cdecl sub_8058571(_DWORD, _DWORD, _DWORD);
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071240: using guessed type int dword_8071240;

//----- (08058934) --------------------------------------------------------
int __cdecl sub_8058934(int a1, int a2, _DWORD *a3)
{
  int v3; // eax
  bool v4; // zf
  void *v5; // eax
  int v7; // [esp+0h] [ebp-48h]
  int v8; // [esp+4h] [ebp-44h]
  int v9; // [esp+8h] [ebp-40h]
  int v10; // [esp+Ch] [ebp-3Ch]
  int v11; // [esp+10h] [ebp-38h]
  int v12; // [esp+14h] [ebp-34h]
  int v13; // [esp+18h] [ebp-30h]
  int v14; // [esp+1Ch] [ebp-2Ch]
  int v15; // [esp+20h] [ebp-28h]
  int v16; // [esp+24h] [ebp-24h]
  int v17; // [esp+28h] [ebp-20h]
  int v18; // [esp+2Ch] [ebp-1Ch]
  int v19; // [esp+30h] [ebp-18h]

  if ( !a2 )
    abort();
  v3 = sub_80583C6(a1, a2, &v18, 0);
  v19 = v3;
  v4 = v3 == 0;
  v5 = &loc_8058988;
  if ( v4 )
    v5 = &loc_80589A0;
  dword_8071240 = (int)v5;
  sub_8064CA3(v7, v8, v9, v10, v11, v12, v13, v14, v15, v16, v17);
  if ( a3 )
    *a3 = v19;
  return 0;
}
// 80583C6: using guessed type _DWORD __cdecl sub_80583C6(_DWORD, _DWORD, _DWORD, _DWORD);
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071240: using guessed type int dword_8071240;

//----- (08058C10) --------------------------------------------------------
int __cdecl sub_8058C10(int a1, int a2)
{
  int v3; // [esp+18h] [ebp-10h]
  int v4; // [esp+1Ch] [ebp-Ch]

  v4 = sub_8058934(a1, a2, &v3);
  if ( v4 == -1 )
    return 0;
  if ( v4 )
    return a2;
  return v3;
}

//----- (08058C53) --------------------------------------------------------
int __cdecl sub_8058C53(int a1, int a2)
{
  long double v3; // fst7
  bool v4; // zf
  int v5; // edx
  int v6; // ecx
  void *v7; // eax
  _DWORD *v8; // [esp+14h] [ebp-20h]
  void *ptr; // [esp+18h] [ebp-1Ch]
  int v10; // [esp+1Ch] [ebp-18h]
  int v11; // [esp+20h] [ebp-14h]
  unsigned int v12; // [esp+24h] [ebp-10h]
  void *v13; // [esp+28h] [ebp-Ch]

  v10 = sub_80583C6(a1, a2, &v8, 1);
  if ( !v10 )
    return 0;
  --*(_DWORD *)(a1 + 16);
  if ( !*v8
    && **(float **)(a1 + 20) * (long double)*(unsigned int *)(a1 + 8) > (long double)(unsigned int)--*(_DWORD *)(a1 + 12) )
  {
    sub_8057E09(a1);
    if ( **(float **)(a1 + 20) * (long double)*(unsigned int *)(a1 + 8) > (long double)*(unsigned int *)(a1 + 12) )
    {
      v11 = *(_DWORD *)(a1 + 20);
      if ( *(_BYTE *)(v11 + 16) )
        v3 = (long double)*(unsigned int *)(a1 + 8) * *(float *)(v11 + 4);
      else
        v3 = (long double)*(unsigned int *)(a1 + 8) * *(float *)(v11 + 4) * *(float *)(v11 + 8);
      v12 = (signed __int64)v3;
      v4 = (unsigned __int8)sub_8058746(a1, v12) == 1;
      v7 = &loc_8058E4E;
      if ( v4 )
        v7 = &loc_8058E87;
      dword_807122C = (int)v7;
      sub_8064D19(v6, v5);
      for ( ptr = *(void **)(a1 + 36); ptr; ptr = v13 )
      {
        v13 = (void *)*((_DWORD *)ptr + 1);
        free(ptr);
      }
      *(_DWORD *)(a1 + 36) = 0;
    }
  }
  return v10;
}
// 8057E09: using guessed type _DWORD __cdecl sub_8057E09(_DWORD);
// 80583C6: using guessed type _DWORD __cdecl sub_80583C6(_DWORD, _DWORD, _DWORD, _DWORD);
// 807122C: using guessed type int dword_807122C;

//----- (08058E8C) --------------------------------------------------------
int __cdecl sub_8058E8C(int a1, unsigned int a2)
{
  unsigned int v2; // ST2C_4

  v2 = sub_8063860(*(_BYTE **)a1, a2);
  return sub_80646E2(*(_QWORD *)(a1 + 4) ^ v2, a2);
}
// 80646E2: using guessed type _DWORD __cdecl sub_80646E2(__int64, __int64);

//----- (08059031) --------------------------------------------------------
int __cdecl sub_8059031(int a1, int a2)
{
  int v2; // ebx

  v2 = *(_DWORD *)(a1 + 8);
  return *(_QWORD *)(a1 + 4) == *(_QWORD *)(a2 + 4)
      && __PAIR__(*(_DWORD *)(a1 + 12), *(_DWORD *)(a2 + 16)) == __PAIR__(*(_DWORD *)(a2 + 12), *(_DWORD *)(a1 + 16))
      && !strcmp(*(const char **)a1, *(const char **)a2);
}

//----- (080590D1) --------------------------------------------------------
void __cdecl sub_80590D1(void **a1)
{
  free(*a1);
  free(a1);
}

//----- (080590F7) --------------------------------------------------------
#error "8059204: call analysis failed (funcsize=103)"

//----- (08059257) --------------------------------------------------------
char *__cdecl sub_8059257(int a1, size_t n, int a3, int a4)
{
  size_t v4; // eax
  char *v5; // ebx
  int v7; // [esp-14h] [ebp-68h]
  int v8; // [esp-10h] [ebp-64h]
  int v9; // [esp-Ch] [ebp-60h]
  int v10; // [esp-8h] [ebp-5Ch]
  int v11; // [esp-4h] [ebp-58h]
  char *s; // [esp+0h] [ebp-54h]
  int v13; // [esp+4h] [ebp-50h]
  void *src; // [esp+8h] [ebp-4Ch]
  int v15; // [esp+Ch] [ebp-48h]
  size_t v16; // [esp+10h] [ebp-44h]
  size_t v17; // [esp+14h] [ebp-40h]
  size_t v18; // [esp+18h] [ebp-3Ch]
  char dest; // [esp+1Fh] [ebp-35h]
  unsigned int v20; // [esp+48h] [ebp-Ch]

  src = (void *)a1;
  v13 = a3;
  s = (char *)a4;
  v20 = __readgsdword(0x14u);
  v16 = -1;
  v18 = strlen((const char *)a4);
  v17 = n;
  memcpy(&dest, (const void *)a1, n);
  HIBYTE(v15) = *(_BYTE *)a3;
  if ( HIBYTE(v15) )
  {
    if ( HIBYTE(v15) > 0x7Eu )
      v4 = v17;
    else
      v4 = HIBYTE(v15);
    v16 = v4;
    ++v13;
  }
  if ( v17 < v16 )
    v16 = v17;
  v5 = (char *)(a1 + n - v16);
  v17 -= v16;
  memcpy(v5, (char *)&v7 + v17 - 53, v16);
  if ( !v17 )
    return v5;
  memcpy(&v5[-v18], s, v18);
  dword_8071240 = (int)&loc_80592E8;
  return (char *)sub_8064CA3(v7, v8, v9, v10, v11, s, v13, src, v15, v16, v17);
}
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071240: using guessed type int dword_8071240;

//----- (080593A8) --------------------------------------------------------
#error "80593DC: call analysis failed (funcsize=19)"

//----- (080593E1) --------------------------------------------------------
#error "805A1E8: positive sp value has been found (funcsize=765)"

//----- (0805A1ED) --------------------------------------------------------
__int64 sub_805A1ED()
{
  __int64 result; // rax

  if ( getenv("POSIXLY_CORRECT") )
    LODWORD(result) = 512;
  else
    LODWORD(result) = 1024;
  HIDWORD(result) = 0;
  return result;
}

//----- (0805A21B) --------------------------------------------------------
#error "805A279: call analysis failed (funcsize=113)"

//----- (0805A40C) --------------------------------------------------------
int __cdecl sub_805A40C(char *s, int a2, int a3)
{
  int v4; // [esp+1Ch] [ebp-Ch]

  v4 = sub_805A21B(s, a3, a2);
  if ( !*(_QWORD *)a3 )
  {
    *(_QWORD *)a3 = sub_805A1ED();
    v4 = 4;
  }
  return v4;
}

//----- (0805A459) --------------------------------------------------------
char *__usercall sub_805A459@<eax>(int a1@<edx>, int a2@<ecx>, __uid_t uid)
{
  const char *v3; // eax
  char *s; // ST1C_4
  size_t v5; // eax
  char *result; // eax
  char *v7; // [esp+10h] [ebp-18h]
  char *v8; // [esp+14h] [ebp-14h]
  struct passwd *v9; // [esp+18h] [ebp-10h]

  v8 = 0;
  v7 = (char *)dword_8072860;
  dword_8071218 = (int)&loc_805A4A4;
  sub_8064D8D(a2, a1);
  while ( *(_DWORD *)v7 != uid )
  {
    v7 = (char *)*((_DWORD *)v7 + 1);
    if ( !v7 )
      goto LABEL_5;
  }
  v8 = v7;
LABEL_5:
  if ( !v8 )
  {
    v9 = getpwuid(uid);
    if ( v9 )
      v3 = v9->pw_name;
    else
      v3 = (const char *)&unk_80698E4;
    s = (char *)v3;
    v5 = strlen(v3);
    v8 = (char *)sub_80614E8((v5 + 16) & 0xFFFFFFF8);
    *(_DWORD *)v8 = uid;
    strcpy(v8 + 8, s);
    *((_DWORD *)v8 + 1) = dword_8072860;
    dword_8072860 = (int)v8;
  }
  if ( v8[8] )
    result = v8 + 8;
  else
    result = 0;
  return result;
}
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;
// 8072860: using guessed type int dword_8072860;

//----- (0805A685) --------------------------------------------------------
#error "805A6EE: call analysis failed (funcsize=74)"

//----- (0805A8F7) --------------------------------------------------------
#error "805A919: call analysis failed (funcsize=13)"

//----- (0805A91E) --------------------------------------------------------
#error "805AA13: call analysis failed (funcsize=100)"

//----- (0805AA84) --------------------------------------------------------
int __cdecl sub_805AA84(signed __int64 a1, int a2)
{
  signed __int64 v3; // [esp+18h] [ebp-20h]
  int v4; // [esp+2Ch] [ebp-Ch]

  v3 = a1;
  v4 = a2 + 20;
  *(_BYTE *)(a2 + 20) = 0;
  do
  {
    *(_BYTE *)--v4 = sub_80646E2(v3, 10LL) + 48;
    v3 = sub_806458B(v3, 0xAu, 0);
  }
  while ( v3 );
  return v4;
}
// 80646E2: using guessed type _DWORD __cdecl sub_80646E2(__int64, __int64);

//----- (0805AB32) --------------------------------------------------------
#error "805ABA8: call analysis failed (funcsize=22)"

//----- (0805ABB3) --------------------------------------------------------
int __cdecl sub_805ABB3(int *a1, unsigned int a2)
{
  int v3; // [esp+0h] [ebp-28h]
  int v4; // [esp+18h] [ebp-10h]
  int v5; // [esp+1Ch] [ebp-Ch]

  v4 = 0;
  v5 = 0;
  while ( *a1 )
  {
    v3 = *a1;
    v5 = wcwidth(v3);
    if ( v5 == -1 )
    {
      *a1 = 65533;
      v5 = 1;
    }
    if ( v5 + v4 > a2 )
      break;
    v4 += v5;
    ++a1;
  }
  *a1 = 0;
  return v4;
}
// 8049560: using guessed type int __cdecl wcwidth(_DWORD);

//----- (0805AC23) --------------------------------------------------------
_BYTE *__cdecl sub_805AC23(_BYTE *a1, unsigned int a2, int a3)
{
  _BYTE *v3; // eax
  int v4; // eax

  while ( 1 )
  {
    v4 = a3--;
    if ( !v4 || (unsigned int)a1 >= a2 )
      break;
    v3 = a1++;
    *v3 = 32;
  }
  *a1 = 0;
  return a1;
}

//----- (0805AC54) --------------------------------------------------------
#error "805AFBD: call analysis failed (funcsize=273)"

//----- (0805B117) --------------------------------------------------------
int __cdecl sub_805B117(char *s, int a2)
{
  size_t v2; // eax

  v2 = strlen(s);
  return sub_805B144(s, v2, a2);
}
// 805B144: using guessed type _DWORD __cdecl sub_805B144(_DWORD, _DWORD, _DWORD);

//----- (0805B144) --------------------------------------------------------
#error "805B284: call analysis failed (funcsize=190)"

//----- (0805B442) --------------------------------------------------------
#error "805B464: call analysis failed (funcsize=13)"

//----- (0805B469) --------------------------------------------------------
#error "805B628: positive sp value has been found (funcsize=119)"

//----- (0805B629) --------------------------------------------------------
#error "805B78D: call analysis failed (funcsize=112)"

//----- (0805B8DB) --------------------------------------------------------
int __cdecl sub_805B8DB(int a1, int a2, int a3)
{
  return sub_805B629(a1, a2, a1 + 4 * a2, a3);
}
// 805B629: using guessed type _DWORD __cdecl sub_805B629(_DWORD, _DWORD, _DWORD, _DWORD);

//----- (0805B941) --------------------------------------------------------
int __cdecl sub_805B941(int a1, int a2, int a3)
{
  int v3; // eax

  while ( 1 )
  {
    v3 = a3--;
    if ( !v3 )
      break;
    *(_BYTE *)(a1 + a3) = tolower(*(unsigned __int8 *)(a2 + a3));
  }
  return a1;
}

//----- (0805B985) --------------------------------------------------------
#error "805B9EC: call analysis failed (funcsize=32)"

//----- (0805B9FA) --------------------------------------------------------
int __cdecl sub_805B9FA(int a1, int a2)
{
  return 7 * ((a1 - a2 + 382) / 7) - (382 - a2) + 3;
}

//----- (0805BA57) --------------------------------------------------------
#error "805BA6F: call analysis failed (funcsize=14)"

//----- (0805BA82) --------------------------------------------------------
#error "805BAC8: positive sp value has been found (funcsize=0)"

//----- (0805BAC9) --------------------------------------------------------
#error "805BAF7: call analysis failed (funcsize=18)"

//----- (0805BAFC) --------------------------------------------------------
#error "805DA8F: call analysis failed (funcsize=1947)"

//----- (0805E759) --------------------------------------------------------
char *__cdecl sub_805E759(char *s)
{
  char *v1; // eax
  char *result; // eax
  char *v3; // [esp+18h] [ebp-10h]
  char *s1; // [esp+1Ch] [ebp-Ch]

  if ( !s )
  {
    fwrite("A NULL argv[0] was passed through an exec system call.\n", 1u, 0x37u, stderr);
    abort();
  }
  v3 = strrchr(s, 47);
  if ( v3 )
    v1 = v3 + 1;
  else
    v1 = s;
  s1 = v1;
  if ( v1 - s > 6 && !strncmp(v1 - 7, "/.libs/", 7u) )
  {
    s = s1;
    if ( !strncmp(s1, "lt-", 3u) )
    {
      s = s1 + 3;
      program_invocation_short_name = (int)(s1 + 3);
    }
  }
  dword_8072870 = (int)s;
  result = s;
  program_invocation_name = (int)s;
  return result;
}
// 8071460: using guessed type int program_invocation_short_name;
// 8071470: using guessed type int program_invocation_name;
// 8072870: using guessed type int dword_8072870;

//----- (0805E850) --------------------------------------------------------
void *__cdecl sub_805E850(void *src)
{
  int *v1; // eax
  void *v2; // ST1C_4
  int v4; // [esp+18h] [ebp-10h]

  v4 = *__errno_location();
  if ( src )
    v1 = (int *)src;
  else
    v1 = &dword_807287C;
  v2 = sub_8061651(v1, 0x30u);
  *__errno_location() = v4;
  return v2;
}
// 807287C: using guessed type int dword_807287C;

//----- (0805E892) --------------------------------------------------------
int __cdecl sub_805E892(int *a1)
{
  int *v1; // eax

  if ( a1 )
    v1 = a1;
  else
    v1 = &dword_807287C;
  return *v1;
}
// 807287C: using guessed type int dword_807287C;

//----- (0805E8BD) --------------------------------------------------------
#error "805E8DB: call analysis failed (funcsize=18)"

//----- (0805E8F0) --------------------------------------------------------
int __cdecl sub_805E8F0(int *a1, unsigned __int8 a2, char a3)
{
  int *v3; // eax
  int v4; // ST10_4

  if ( a1 )
    v3 = a1;
  else
    v3 = &dword_807287C;
  v4 = ((unsigned int)v3[(a2 >> 5) + 2] >> (a2 & 0x1F)) & 1;
  v3[(a2 >> 5) + 2] ^= (v4 ^ a3 & 1) << (a2 & 0x1F);
  return v4;
}
// 807287C: using guessed type int dword_807287C;

//----- (0805E9CC) --------------------------------------------------------
int *__cdecl sub_805E9CC(int *a1, int a2, int a3)
{
  int *result; // eax

  if ( !a1 )
    a1 = &dword_807287C;
  *a1 = 10;
  if ( !a2 || !a3 )
    abort();
  a1[10] = a2;
  result = a1;
  a1[11] = a3;
  return result;
}
// 807287C: using guessed type int dword_807287C;

//----- (0805EA1D) --------------------------------------------------------
_DWORD *__userpurge sub_805EA1D@<eax>(_DWORD *a1, int a2)
{
  int v3; // [esp+0h] [ebp-38h]
  int v4; // [esp+4h] [ebp-34h]
  int v5; // [esp+8h] [ebp-30h]
  int v6; // [esp+Ch] [ebp-2Ch]
  int v7; // [esp+10h] [ebp-28h]
  int v8; // [esp+14h] [ebp-24h]
  int v9; // [esp+18h] [ebp-20h]
  int v10; // [esp+1Ch] [ebp-1Ch]
  int v11; // [esp+20h] [ebp-18h]
  int v12; // [esp+24h] [ebp-14h]
  int v13; // [esp+28h] [ebp-10h]
  int v14; // [esp+2Ch] [ebp-Ch]

  memset(&v3 - 14, 0, 0x30u);
  if ( a2 == 10 )
    abort();
  *a1 = a2;
  a1[1] = v4;
  a1[2] = v5;
  a1[3] = v6;
  a1[4] = v7;
  a1[5] = v8;
  a1[6] = v9;
  a1[7] = v10;
  a1[8] = v11;
  a1[9] = v12;
  a1[10] = v13;
  a1[11] = v14;
  return a1;
}

//----- (0805EABF) --------------------------------------------------------
char *__cdecl sub_805EABF(char *msgid)
{
  char *v2; // [esp+18h] [ebp-10h]

  v2 = gettext(msgid);
  if ( v2 == msgid )
    sub_8063E08();
  return v2;
}

//----- (0805EB98) --------------------------------------------------------
#error "805EC20: call analysis failed (funcsize=39)"

//----- (0805EC25) --------------------------------------------------------
#error "805FA2F: positive sp value has been found (funcsize=966)"

//----- (0805FA33) --------------------------------------------------------
#error "805FA97: call analysis failed (funcsize=39)"

//----- (0805FAAA) --------------------------------------------------------
#error "805FAC9: call analysis failed (funcsize=32)"

//----- (0805FB3E) --------------------------------------------------------
void *__cdecl sub_805FB3E(int a1, int a2, _DWORD *a3, int *a4)
{
  int *v4; // eax
  int *v5; // ST3C_4
  int v6; // ST40_4
  int v7; // ST44_4
  int size; // [esp+48h] [ebp-10h]
  void *v10; // [esp+4Ch] [ebp-Ch]

  if ( a4 )
    v4 = a4;
  else
    v4 = &dword_807287C;
  v5 = v4;
  v6 = *__errno_location();
  v7 = v5[1] | (a3 == 0);
  size = sub_805EB98(0, 0, a1, a2, *v5, v7, v5 + 2, v5[10], v5[11]) + 1;
  v10 = sub_80614D1(size);
  sub_805EB98(v10, size, a1, a2, *v5, v7, v5 + 2, v5[10], v5[11]);
  *__errno_location() = v6;
  if ( a3 )
    *a3 = size - 1;
  return v10;
}
// 805EB98: using guessed type _DWORD __cdecl sub_805EB98(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 807287C: using guessed type int dword_807287C;

//----- (0805FD22) --------------------------------------------------------
void *__cdecl sub_805FD22(signed int a1, int a2, int a3, _DWORD *a4)
{
  int *v4; // eax
  void *v5; // edx
  size_t v6; // ST44_4
  bool v8; // [esp+37h] [ebp-21h]
  int *v9; // [esp+38h] [ebp-20h]
  void *ptr; // [esp+3Ch] [ebp-1Ch]
  int v11; // [esp+40h] [ebp-18h]
  int size; // [esp+44h] [ebp-14h]
  int v13; // [esp+48h] [ebp-10h]
  size_t v14; // [esp+4Ch] [ebp-Ch]

  v11 = *__errno_location();
  v9 = off_8071414;
  if ( a1 < 0 )
    abort();
  if ( dword_8071408 <= a1 )
  {
    v8 = off_8071414 == &dword_807140C;
    if ( (unsigned int)a1 > 0xFFFFFFE )
      sub_80616A7();
    if ( v8 )
      v4 = 0;
    else
      v4 = off_8071414;
    v9 = (int *)sub_806152F(v4, 8 * (a1 + 1));
    off_8071414 = v9;
    if ( v8 )
    {
      v5 = off_8071410;
      *v9 = dword_807140C;
      v9[1] = (int)v5;
    }
    memset(&v9[2 * dword_8071408], 0, 8 * (a1 + 1 - dword_8071408));
    dword_8071408 = a1 + 1;
  }
  v6 = v9[2 * a1];
  ptr = (void *)v9[2 * a1 + 1];
  v13 = a4[1] | 1;
  v14 = sub_805EB98(ptr, v6, a2, a3, *a4, v13, a4 + 2, a4[10], a4[11]);
  if ( v6 <= v14 )
  {
    size = v14 + 1;
    v9[2 * a1] = v14 + 1;
    if ( ptr != &unk_80728BC )
      free(ptr);
    ptr = sub_80614D1(size);
    v9[2 * a1 + 1] = (int)ptr;
    sub_805EB98(ptr, size, a2, a3, *a4, v13, a4 + 2, a4[10], a4[11]);
  }
  *__errno_location() = v11;
  return ptr;
}
// 805EB98: using guessed type _DWORD __cdecl sub_805EB98(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071408: using guessed type int dword_8071408;
// 807140C: using guessed type int dword_807140C;
// 8071410: using guessed type void *off_8071410;
// 8071414: using guessed type int *off_8071414;

//----- (0805FF8F) --------------------------------------------------------
void *__cdecl sub_805FF8F(signed int a1, int a2)
{
  return sub_805FD22(a1, a2, -1, &dword_807287C);
}
// 807287C: using guessed type int dword_807287C;

//----- (0805FFB9) --------------------------------------------------------
#error "805FFFD: call analysis failed (funcsize=25)"

//----- (08060041) --------------------------------------------------------
void *__cdecl sub_8060041(signed int a1, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-48h]
  char v5; // [esp+10h] [ebp-38h]

  sub_805EA1D(&v4 - 14, a2);
  return sub_805FD22(a1, a3, -1, &v5);
}

//----- (08060083) --------------------------------------------------------
#error "80600B4: call analysis failed (funcsize=40)"

//----- (080600F9) --------------------------------------------------------
#error "8060110: positive sp value has been found (funcsize=0)"

//----- (08060111) --------------------------------------------------------
void *__cdecl sub_8060111(int a1, int a2)
{
  return sub_8060041(0, a1, a2);
}

//----- (08060170) --------------------------------------------------------
void *__cdecl sub_8060170(int a1, int a2, unsigned __int8 a3)
{
  int v4; // [esp+0h] [ebp-58h]
  unsigned __int8 v5; // [esp+1Ch] [ebp-3Ch]
  int v6; // [esp+20h] [ebp-38h]
  int v7; // [esp+24h] [ebp-34h]
  int v8; // [esp+28h] [ebp-30h]
  int v9; // [esp+2Ch] [ebp-2Ch]
  int v10; // [esp+30h] [ebp-28h]
  int v11; // [esp+34h] [ebp-24h]
  int v12; // [esp+38h] [ebp-20h]
  int v13; // [esp+3Ch] [ebp-1Ch]
  int v14; // [esp+40h] [ebp-18h]
  int v15; // [esp+44h] [ebp-14h]
  int v16; // [esp+48h] [ebp-10h]
  int v17; // [esp+4Ch] [ebp-Ch]

  v5 = a3;
  v6 = dword_807287C;
  v7 = dword_8072880;
  v8 = dword_8072884;
  v9 = dword_8072888;
  v10 = dword_807288C;
  v11 = dword_8072890;
  v12 = dword_8072894;
  v13 = dword_8072898;
  v14 = dword_807289C;
  v15 = dword_80728A0;
  v16 = dword_80728A4;
  v17 = dword_80728A8;
  sub_805E8F0(&v4 - 14, a3, 1);
  return sub_805FD22(0, a1, a2, &v6);
}
// 807287C: using guessed type int dword_807287C;
// 8072880: using guessed type int dword_8072880;
// 8072884: using guessed type int dword_8072884;
// 8072888: using guessed type int dword_8072888;
// 807288C: using guessed type int dword_807288C;
// 8072890: using guessed type int dword_8072890;
// 8072894: using guessed type int dword_8072894;
// 8072898: using guessed type int dword_8072898;
// 807289C: using guessed type int dword_807289C;
// 80728A0: using guessed type int dword_80728A0;
// 80728A4: using guessed type int dword_80728A4;
// 80728A8: using guessed type int dword_80728A8;

//----- (0806022A) --------------------------------------------------------
void *__cdecl sub_806022A(int a1, char a2)
{
  int v3; // [esp+0h] [ebp-1Ch]
  char v4; // [esp+Ch] [ebp-10h]

  v4 = a2;
  return sub_8060170(*((char *)&v3 - 12), -1, *((_BYTE *)&v3 - 12));
}

//----- (08060277) --------------------------------------------------------
void *__cdecl sub_8060277(int a1)
{
  return sub_806022A(a1, 58);
}

//----- (080602B8) --------------------------------------------------------
void *__cdecl sub_80602B8(signed int a1, int a2, int a3)
{
  int v4; // [esp+0h] [ebp-78h]
  int v5; // [esp+10h] [ebp-68h]
  int v6; // [esp+14h] [ebp-64h]
  int v7; // [esp+18h] [ebp-60h]
  int v8; // [esp+1Ch] [ebp-5Ch]
  int v9; // [esp+20h] [ebp-58h]
  int v10; // [esp+24h] [ebp-54h]
  int v11; // [esp+28h] [ebp-50h]
  int v12; // [esp+2Ch] [ebp-4Ch]
  int v13; // [esp+30h] [ebp-48h]
  int v14; // [esp+34h] [ebp-44h]
  int v15; // [esp+38h] [ebp-40h]
  int v16; // [esp+3Ch] [ebp-3Ch]
  int v17; // [esp+40h] [ebp-38h]
  int v18; // [esp+44h] [ebp-34h]
  int v19; // [esp+48h] [ebp-30h]
  int v20; // [esp+4Ch] [ebp-2Ch]
  int v21; // [esp+50h] [ebp-28h]
  int v22; // [esp+54h] [ebp-24h]
  int v23; // [esp+58h] [ebp-20h]
  int v24; // [esp+5Ch] [ebp-1Ch]
  int v25; // [esp+60h] [ebp-18h]
  int v26; // [esp+64h] [ebp-14h]
  int v27; // [esp+68h] [ebp-10h]
  int v28; // [esp+6Ch] [ebp-Ch]

  sub_805EA1D(&v5, a2);
  v17 = v5;
  v18 = v6;
  v19 = v7;
  v20 = v8;
  v21 = v9;
  v22 = v10;
  v23 = v11;
  v24 = v12;
  v25 = v13;
  v26 = v14;
  v27 = v15;
  v28 = v16;
  sub_805E8F0(&v4 - 14, 0x3Au, 1);
  return sub_805FD22(a1, a3, -1, &v17);
}

//----- (0806036D) --------------------------------------------------------
void *__cdecl sub_806036D(signed int a1, int a2, int a3, int a4)
{
  return sub_80603B1(a1, a2, a3, a4, -1);
}

//----- (080603B1) --------------------------------------------------------
void *__cdecl sub_80603B1(signed int a1, int a2, int a3, int a4, int a5)
{
  int v6; // [esp+0h] [ebp-48h]
  int v7; // [esp+10h] [ebp-38h]
  int v8; // [esp+14h] [ebp-34h]
  int v9; // [esp+18h] [ebp-30h]
  int v10; // [esp+1Ch] [ebp-2Ch]
  int v11; // [esp+20h] [ebp-28h]
  int v12; // [esp+24h] [ebp-24h]
  int v13; // [esp+28h] [ebp-20h]
  int v14; // [esp+2Ch] [ebp-1Ch]
  int v15; // [esp+30h] [ebp-18h]
  int v16; // [esp+34h] [ebp-14h]
  int v17; // [esp+38h] [ebp-10h]
  int v18; // [esp+3Ch] [ebp-Ch]

  v7 = dword_807287C;
  v8 = dword_8072880;
  v9 = dword_8072884;
  v10 = dword_8072888;
  v11 = dword_807288C;
  v12 = dword_8072890;
  v13 = dword_8072894;
  v14 = dword_8072898;
  v15 = dword_807289C;
  v16 = dword_80728A0;
  v17 = dword_80728A4;
  v18 = dword_80728A8;
  sub_805E9CC(&v6 - 14, a2, a3);
  return sub_805FD22(a1, a4, a5, &v7);
}
// 807287C: using guessed type int dword_807287C;
// 8072880: using guessed type int dword_8072880;
// 8072884: using guessed type int dword_8072884;
// 8072888: using guessed type int dword_8072888;
// 807288C: using guessed type int dword_807288C;
// 8072890: using guessed type int dword_8072890;
// 8072894: using guessed type int dword_8072894;
// 8072898: using guessed type int dword_8072898;
// 807289C: using guessed type int dword_807289C;
// 80728A0: using guessed type int dword_80728A0;
// 80728A4: using guessed type int dword_80728A4;
// 80728A8: using guessed type int dword_80728A8;

//----- (080604F4) --------------------------------------------------------
void *__cdecl sub_80604F4(signed int a1, int a2, int a3)
{
  return sub_805FD22(a1, a2, a3, &unk_8071428);
}

//----- (0806056D) --------------------------------------------------------
void *__cdecl sub_806056D(signed int a1, int a2)
{
  return sub_80604F4(a1, a2, -1);
}

//----- (0806058F) --------------------------------------------------------
void *__cdecl sub_806058F(int a1)
{
  return sub_806056D(0, a1);
}

//----- (080605CC) --------------------------------------------------------
int __usercall sub_80605CC@<eax>(int a1@<ebx>)
{
  int *v1; // ebp
  bool v2; // al
  int v3; // eax
  int v4; // eax
  bool v5; // zf
  void *v6; // eax
  int v7; // eax
  int v8; // ebx
  bool v9; // al
  int v11; // [esp-1Ch] [ebp-100h]
  int v12; // [esp-18h] [ebp-FCh]
  int v13; // [esp-14h] [ebp-F8h]
  int v14; // [esp-10h] [ebp-F4h]
  int v15; // [esp-Ch] [ebp-F0h]
  size_t v16; // [esp-8h] [ebp-ECh]
  char v17; // [esp-7h] [ebp-EBh]
  bool v18; // [esp-6h] [ebp-EAh]
  bool v19; // [esp-5h] [ebp-E9h]
  char *v20; // [esp-4h] [ebp-E8h]
  char *v21; // [esp+0h] [ebp-E4h]
  void *s1; // [esp+4h] [ebp-E0h]
  void *s2; // [esp+8h] [ebp-DCh]
  void *v24; // [esp+Ch] [ebp-D8h]
  size_t n; // [esp+10h] [ebp-D4h]
  void *ptr; // [esp+14h] [ebp-D0h]
  void *v27; // [esp+18h] [ebp-CCh]
  int v28; // [esp+1Ch] [ebp-C8h]
  int v29; // [esp+20h] [ebp-C4h]
  int v30; // [esp+24h] [ebp-C0h]
  int v31; // [esp+28h] [ebp-BCh]
  int v32; // [esp+2Ch] [ebp-B8h]
  int v33; // [esp+30h] [ebp-B4h]
  int v34; // [esp+34h] [ebp-B0h]
  int v35; // [esp+38h] [ebp-ACh]
  int v36; // [esp+3Ch] [ebp-A8h]
  int v37; // [esp+40h] [ebp-A4h]
  int v38; // [esp+44h] [ebp-A0h]
  __int64 v39; // [esp+6Ch] [ebp-78h]
  int v40; // [esp+74h] [ebp-70h]
  __int64 v41; // [esp+CCh] [ebp-18h]
  int v42; // [esp+DCh] [ebp-8h]
  _BYTE *savedregs; // [esp+E4h] [ebp+0h]
  _BYTE *retaddr; // [esp+E8h] [ebp+4h]

  v1 = &v42;
  v20 = (char *)sub_8056815(savedregs);
  v21 = (char *)sub_8056815(retaddr);
  s1 = (void *)sub_805688E(v20);
  s2 = (void *)sub_805688E(v21);
  v2 = s1 == s2 && !memcmp(v20, v21, (size_t)s2);
  v18 = v2;
  v19 = v2;
  v17 = 0;
  if ( v2 )
  {
    v24 = sub_8063830(savedregs);
    n = (size_t)sub_8063830(retaddr);
    if ( sub_8064953((int)v24, (int)&ptr) )
    {
      v3 = *__errno_location();
      v16 = (size_t)v24;
      error(1, v3, "%s");
    }
    v4 = sub_8064953(n, (int)&v40);
    v5 = v4 == 0;
    v12 = v4;
    v11 = a1;
    v6 = &loc_806074A;
    if ( v5 )
      v6 = &loc_8060773;
    dword_8071204 = (int)v6;
    sub_8064E07(
      v13,
      v14,
      v15,
      v16,
      v20,
      v21,
      s1,
      s2,
      v24,
      n,
      ptr,
      v27,
      v28,
      v29,
      v30,
      v31,
      v32,
      v33,
      v34,
      v35,
      v36,
      v37,
      v38);
    v7 = *__errno_location();
    v16 = n;
    error(1, v7, "%s", n);
    v9 = 0;
    if ( v39 == v41 )
    {
      v1 = &v13;
      v8 = *(&v13 - 49);
      if ( *((_QWORD *)&v13 - 25) == *((_QWORD *)&v13 - 13) )
        v9 = 1;
    }
    *((_BYTE *)v1 - 227) = v9;
    *((_BYTE *)v1 - 227) &= 1u;
    free((void *)*(v1 - 52));
    free((void *)*(v1 - 51));
  }
  return *((unsigned __int8 *)v1 - 227);
}
// 8064E07: using guessed type int __stdcall sub_8064E07(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071204: using guessed type int dword_8071204;

//----- (08060829) --------------------------------------------------------
void sub_8060829()
{
  ;
}

//----- (0806087A) --------------------------------------------------------
signed int sub_806087A()
{
  *__errno_location() = 95;
  return -1;
}

//----- (08060892) --------------------------------------------------------
signed int sub_8060892()
{
  *__errno_location() = 95;
  return -1;
}

//----- (080609D4) --------------------------------------------------------
_DWORD *__userpurge sub_80609D4@<eax>(_DWORD *a1, int a2)
{
  int v2; // edx

  v2 = *(_DWORD *)(a2 + 68);
  *a1 = *(_DWORD *)(a2 + 64);
  a1[1] = v2;
  return a1;
}

//----- (080609FF) --------------------------------------------------------
_DWORD *__userpurge sub_80609FF@<eax>(_DWORD *a1, int a2)
{
  int v2; // edx

  v2 = *(_DWORD *)(a2 + 84);
  *a1 = *(_DWORD *)(a2 + 80);
  a1[1] = v2;
  return a1;
}

//----- (08060A2E) --------------------------------------------------------
_DWORD *__userpurge sub_8060A2E@<eax>(_DWORD *a1, int a2)
{
  int v2; // edx

  v2 = *(_DWORD *)(a2 + 76);
  *a1 = *(_DWORD *)(a2 + 72);
  a1[1] = v2;
  return a1;
}

//----- (08060AEE) --------------------------------------------------------
#error "8060B11: call analysis failed (funcsize=20)"

//----- (08060B24) --------------------------------------------------------
#error "8060B64: positive sp value has been found (funcsize=0)"

//----- (08060BCA) --------------------------------------------------------
#error "8061127: call analysis failed (funcsize=385)"

//----- (0806123D) --------------------------------------------------------
int __cdecl sub_806123D(FILE *stream, int a2, int a3, int a4, int a5)
{
  void *v5; // eax
  int v6; // ST2C_4
  int v8; // [esp+0h] [ebp-58h]
  int v9; // [esp+4h] [ebp-54h]
  int v10; // [esp+8h] [ebp-50h]
  int v11; // [esp+Ch] [ebp-4Ch]
  int v12; // [esp+10h] [ebp-48h]
  int v13; // [esp+14h] [ebp-44h]
  int v14; // [esp+18h] [ebp-40h]
  int v15; // [esp+1Ch] [ebp-3Ch]
  int v16; // [esp+20h] [ebp-38h]
  int v17; // [esp+28h] [ebp-30h]

  v17 = *(_DWORD *)a5;
  v5 = &loc_806128C;
  if ( v17 )
    v5 = &loc_806124C;
  dword_8071240 = (int)v5;
  sub_8064CA3(v8, v9, v10, v11, v12, v13, v14, v15, v16, 0, v17);
  return sub_8060BCA((FILE *)a3, a4, a3, a4, (int)&v17, v6);
}
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071240: using guessed type int dword_8071240;

//----- (080612DA) --------------------------------------------------------
#error "8061310: call analysis failed (funcsize=19)"

//----- (08061315) --------------------------------------------------------
#error "8061333: positive sp value has been found (funcsize=0)"

//----- (080613BF) --------------------------------------------------------
void *__cdecl sub_80613BF(unsigned int a1, unsigned int a2)
{
  if ( 0x7FFFFFFF / a2 < a1 )
    sub_80616A7();
  return sub_80614E8(a2 * a1);
}

//----- (080613FD) --------------------------------------------------------
int __cdecl sub_80613FD(void *ptr, int a2, int a3)
{
  if ( 0x7FFFFFFFu / a3 < a2 )
    sub_80616A7();
  return sub_806152F(ptr, a3 * a2);
}

//----- (08061436) --------------------------------------------------------
int __cdecl sub_8061436(void *ptr, int a2, int a3)
{
  unsigned int v4; // [esp+1Ch] [ebp-Ch]

  v4 = *(_DWORD *)a2;
  if ( ptr )
  {
    if ( 0x55555554u / a3 <= v4 )
      sub_80616A7();
    v4 += (v4 >> 1) + 1;
  }
  else
  {
    if ( !v4 )
      v4 = (0x40u / a3 == 0) + 0x40u / a3;
    if ( 0x7FFFFFFFu / a3 < v4 )
      sub_80616A7();
  }
  *(_DWORD *)a2 = v4;
  return sub_806152F(ptr, a3 * v4);
}

//----- (080614D1) --------------------------------------------------------
void *__cdecl sub_80614D1(size_t size)
{
  return sub_80614E8(size);
}

//----- (080614E8) --------------------------------------------------------
#error "806151A: call analysis failed (funcsize=25)"

//----- (0806152F) --------------------------------------------------------
#error "8061555: call analysis failed (funcsize=42)"

//----- (080615B0) --------------------------------------------------------
int __cdecl sub_80615B0(void *ptr, int a2)
{
  return sub_8061436(ptr, a2, 1);
}

//----- (08061651) --------------------------------------------------------
void *__cdecl sub_8061651(void *src, size_t n)
{
  void *v2; // eax

  v2 = sub_80614E8(n);
  return memcpy(v2, src, n);
}

//----- (0806167E) --------------------------------------------------------
void *__cdecl sub_806167E(char *s)
{
  size_t v1; // eax

  v1 = strlen(s);
  return sub_8061651(s, v1 + 1);
}

//----- (080616A7) --------------------------------------------------------
void __noreturn sub_80616A7()
{
  char *v0; // eax

  v0 = gettext("memory exhausted");
  error(status, 0, "%s", v0);
  abort();
}

//----- (080616EE) --------------------------------------------------------
__int64 __cdecl sub_80616EE(char *nptr, int base, int a3, int a4, int a5, int a6, char *s)
{
  char *v7; // ebx
  int *v8; // eax
  int v9; // edx
  void *v10; // eax
  char *v11; // ebx
  int v12; // edx
  char *v14; // [esp-8h] [ebp-50h]
  int *v15; // [esp-4h] [ebp-4Ch]
  int *v16; // [esp+0h] [ebp-48h]
  int v17; // [esp+4h] [ebp-44h]
  int *v18; // [esp+8h] [ebp-40h]
  int *v19; // [esp+Ch] [ebp-3Ch]
  char *v20; // [esp+10h] [ebp-38h]
  int v21; // [esp+14h] [ebp-34h]
  int v22; // [esp+18h] [ebp-30h]
  int v23; // [esp+1Ch] [ebp-2Ch]
  int v24; // [esp+20h] [ebp-28h]
  int *v25; // [esp+24h] [ebp-24h]
  int v26; // [esp+28h] [ebp-20h]
  int v27; // [esp+2Ch] [ebp-1Ch]
  int v28; // [esp+38h] [ebp-10h]

  v26 = a3;
  v27 = a4;
  v24 = a5;
  v25 = (int *)a6;
  v20 = s;
  v19 = &v28;
  v18 = &v28;
  v17 = 0;
  v16 = &v28;
  *(&v16 - 5) = (int *)sub_80621B0();
  if ( *(&v16 - 5) )
  {
    if ( *(&v16 - 5) == (int *)1 )
    {
      *__errno_location() = 75;
    }
    else if ( *(&v16 - 5) == (int *)3 )
    {
      *__errno_location() = 0;
    }
  }
  else if ( *((_QWORD *)&v16 - 2) < *((_QWORD *)&v16 - 4) || *((_QWORD *)&v16 - 5) < *((_QWORD *)&v16 - 2) )
  {
    *(&v16 - 5) = (int *)1;
    if ( *((_QWORD *)&v16 - 2) <= 0x3FFFFFFFuLL )
      *__errno_location() = 34;
    else
      *__errno_location() = 75;
  }
  if ( *(&v16 - 5) )
  {
    v7 = (char *)sub_806058F((int)v18);
    v8 = (int *)*__errno_location();
    if ( v8 != (int *)22 )
    {
      v8 = __errno_location();
      v9 = *v8;
    }
    v15 = v8;
    v14 = v7;
    v10 = &loc_8061824;
    if ( !v26 )
      v10 = &loc_8061829;
    dword_8071240 = (int)v10;
    v11 = v14;
    sub_8064CA3(v16, v17, v18, v19, v20, v21, v22, v23, v24, v25, v26);
    v20 = v11;
    v19 = v25;
    error(v26, v12, "%s: %s", v25, v11);
  }
  return *((_QWORD *)&v16 - 2);
}
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071240: using guessed type int dword_8071240;

//----- (080618EF) --------------------------------------------------------
char *sub_80618EF()
{
  char *v1; // [esp+1Ch] [ebp-Ch]

  v1 = getcwd(0, 0);
  if ( !v1 && *__errno_location() == 12 )
    sub_80616A7();
  return v1;
}

//----- (0806192C) --------------------------------------------------------
char *sub_806192C()
{
  int v1; // [esp+10h] [ebp-18h]
  char *name; // [esp+14h] [ebp-14h]
  size_t len; // [esp+18h] [ebp-10h]
  int v4; // [esp+1Ch] [ebp-Ch]

  name = 0;
  v1 = 34;
  do
  {
    while ( 1 )
    {
      name = (char *)sub_80615B0(name, (int)&v1);
      len = v1 - 1;
      name[v1 - 2] = 0;
      *__errno_location() = 0;
      if ( gethostname(name, len) )
        break;
      if ( !name[len - 1] )
        return name;
    }
  }
  while ( !*__errno_location() || *__errno_location() == 36 || *__errno_location() == 22 || *__errno_location() == 12 );
  v4 = *__errno_location();
  free(name);
  *__errno_location() = v4;
  return 0;
}

//----- (08061A04) --------------------------------------------------------
signed int __cdecl sub_8061A04(unsigned int *a1, unsigned int a2)
{
  signed int result; // eax

  if ( 0xFFFFFFFF / a2 >= *a1 )
  {
    *a1 *= a2;
    result = 0;
  }
  else
  {
    *a1 = -1;
    result = 1;
  }
  return result;
}

//----- (08061A58) --------------------------------------------------------
#error "8061ADD: call analysis failed (funcsize=43)"

//----- (08061AE7) --------------------------------------------------------
#error "8061BC8: call analysis failed (funcsize=94)"

//----- (08061F71) --------------------------------------------------------
void __cdecl sub_8061F71(int a1, int a2, int a3, int a4, int a5, int status)
{
  char *v6; // eax
  const char *v7; // [esp+Ch] [ebp-2Ch]
  char *v8; // [esp+10h] [ebp-28h]
  int v9; // [esp+14h] [ebp-24h]
  char v10; // [esp+1Ch] [ebp-1Ch]
  char v11; // [esp+22h] [ebp-16h]
  char v12; // [esp+23h] [ebp-15h]
  const char *v13; // [esp+24h] [ebp-14h]
  char *msgid; // [esp+28h] [ebp-10h]
  char *v15; // [esp+2Ch] [ebp-Ch]

  v10 = a3;
  v13 = "--";
  if ( (unsigned int)a1 > 3 )
  {
    if ( a1 != 4 )
      goto LABEL_6;
    msgid = "invalid %s%s argument '%s'";
  }
  else if ( (unsigned int)a1 >= 2 )
  {
    msgid = "invalid suffix in %s%s argument '%s'";
  }
  else
  {
    if ( a1 != 1 )
LABEL_6:
      abort();
    msgid = "%s%s argument '%s' too large";
  }
  if ( a2 >= 0 )
  {
    v15 = *(char **)(16 * a2 + a4);
  }
  else
  {
    v13 -= a2;
    v11 = v10;
    v12 = 0;
    v15 = &v11;
  }
  v6 = gettext(msgid);
  v9 = a5;
  v8 = v15;
  v7 = v13;
  error(status, 0, v6, v13, v15, a5);
}

//----- (08062059) --------------------------------------------------------
void __cdecl __noreturn sub_8062059(int a1, int a2, char a3, int a4, int a5)
{
  sub_8061F71(a1, a2, a3, a4, a5, status);
  abort();
}

//----- (080620AC) --------------------------------------------------------
signed int __cdecl sub_80620AC(int a1, signed int a2)
{
  unsigned __int64 v2; // rcx
  signed int result; // eax
  int v4; // [esp+8h] [ebp-20h]
  int v5; // [esp+Ch] [ebp-1Ch]

  v2 = sub_806458B(0xFFFFFFFFFFFFFFFFLL, a2, a2 >> 31);
  if ( v2 >= *(_QWORD *)v4 )
  {
    *(_QWORD *)v4 *= v5;
    result = 0;
  }
  else
  {
    *(_DWORD *)v4 = -1;
    *(_DWORD *)(v4 + 4) = -1;
    result = 1;
  }
  return result;
}

//----- (0806217A) --------------------------------------------------------
int __cdecl sub_806217A(int a1, signed int a2, int a3)
{
  int v3; // eax
  int i; // [esp+1Ch] [ebp-Ch]

  for ( i = 0; ; i |= sub_80620AC(a1, a2) )
  {
    v3 = a3--;
    if ( !v3 )
      break;
  }
  return i;
}

//----- (080621B0) --------------------------------------------------------
int __cdecl sub_80621B0()
{
  int *v0; // eax
  int result; // eax
  int v2; // edx
  _DWORD *v3; // ecx
  int v4; // edx
  _DWORD *v5; // ecx
  int v6; // eax
  int v7; // edx
  int v8; // ecx
  int v9; // edx
  _DWORD *v10; // ecx
  int v11; // edx
  _DWORD *v12; // ecx
  int v13; // [esp+0h] [ebp-48h]
  int v14; // [esp+4h] [ebp-44h]
  const char *v15; // [esp+8h] [ebp-40h]
  int *v16; // [esp+Ch] [ebp-3Ch]
  const char *v17; // [esp+10h] [ebp-38h]
  _DWORD *v18; // [esp+14h] [ebp-34h]
  const char *v19; // [esp+18h] [ebp-30h]

  *(&v13 - 10) = 0;
  if ( (signed int)v17 < 0 || (signed int)v17 > 36 )
    __assert_fail("0 <= strtol_base && strtol_base <= 36", "lib/xstrtol.c", 0x60u, "xstrtoumax");
  if ( v16 )
    v0 = v16;
  else
    v0 = &v13 - 11;
  *(&v13 - 5) = (int)v0;
  *__errno_location() = 0;
  *(&v13 - 9) = (int)v15;
  for ( *((_BYTE *)&v13 - 45) = *(_BYTE *)*(&v13 - 9);
        (*__ctype_b_loc())[*((unsigned __int8 *)&v13 - 45)] & 0x2000;
        *((_BYTE *)&v13 - 45) = *(_BYTE *)*(&v13 - 9) )
  {
    ++*(&v13 - 9);
  }
  if ( *((_BYTE *)&v13 - 45) == 45 )
    return 4;
  v15 = v17;
  v14 = *(&v13 - 5);
  *((_QWORD *)&v13 - 2) = strtoumax(v17, (char **)v14, (int)v17);
  if ( *(const char **)*(&v13 - 5) == v15 )
  {
    if ( !v19 )
      return 4;
    if ( !**(_BYTE **)*(&v13 - 5) )
      return 4;
    v14 = **(char **)*(&v13 - 5);
    if ( !strchr(v19, v14) )
      return 4;
    *(&v13 - 4) = 1;
    *(&v13 - 3) = 0;
  }
  else if ( *__errno_location() )
  {
    if ( *__errno_location() != 34 )
      return 4;
    *(&v13 - 10) = 1;
  }
  if ( !v19 )
  {
    v2 = *(&v13 - 3);
    v3 = v18;
    *v18 = *(&v13 - 4);
    v3[1] = v2;
    return *(&v13 - 10);
  }
  if ( !**(_BYTE **)*(&v13 - 5) )
  {
LABEL_53:
    v11 = *(&v13 - 3);
    v12 = v18;
    *v18 = *(&v13 - 4);
    v12[1] = v11;
    return *(&v13 - 10);
  }
  *(&v13 - 8) = 1024;
  *(&v13 - 7) = 1;
  v14 = **(char **)*(&v13 - 5);
  if ( !strchr(v19, v14) )
  {
    v4 = *(&v13 - 3);
    v5 = v18;
    *v18 = *(&v13 - 4);
    v5[1] = v4;
    return *(&v13 - 10) | 2;
  }
  switch ( **(char **)*(&v13 - 5) )
  {
    case 69:
    case 71:
    case 75:
    case 77:
    case 80:
    case 84:
    case 89:
    case 90:
    case 103:
    case 107:
    case 109:
    case 116:
      if ( strchr(v19, 48) )
      {
        v6 = *(char *)(*(_DWORD *)*(&v13 - 5) + 1);
        switch ( v6 )
        {
          case 68:
            goto LABEL_56;
          case 105:
            if ( *(_BYTE *)(*(_DWORD *)*(&v13 - 5) + 2) == 66 )
              *(&v13 - 7) += 2;
            goto LABEL_37;
          case 66:
LABEL_56:
            *(&v13 - 8) = 1000;
            ++*(&v13 - 7);
            break;
        }
      }
      break;
    default:
      break;
  }
LABEL_37:
  switch ( **(char **)*(&v13 - 5) )
  {
    case 66:
      *(&v13 - 6) = sub_80620AC((int)(&v13 - 4), 1024);
      goto LABEL_51;
    case 69:
      v15 = (const char *)6;
      v14 = *(&v13 - 8);
      *(&v13 - 6) = sub_806217A((int)(&v13 - 4), v14, 6);
      goto LABEL_51;
    case 71:
    case 103:
      v15 = (const char *)3;
      v14 = *(&v13 - 8);
      *(&v13 - 6) = sub_806217A((int)(&v13 - 4), v14, 3);
      goto LABEL_51;
    case 75:
    case 107:
      v15 = (const char *)1;
      v14 = *(&v13 - 8);
      *(&v13 - 6) = sub_806217A((int)(&v13 - 4), v14, 1);
      goto LABEL_51;
    case 77:
    case 109:
      v15 = (const char *)2;
      v14 = *(&v13 - 8);
      *(&v13 - 6) = sub_806217A((int)(&v13 - 4), v14, 2);
      goto LABEL_51;
    case 80:
      v15 = (const char *)5;
      v14 = *(&v13 - 8);
      *(&v13 - 6) = sub_806217A((int)(&v13 - 4), v14, 5);
      goto LABEL_51;
    case 84:
    case 116:
      v15 = (const char *)4;
      v14 = *(&v13 - 8);
      *(&v13 - 6) = sub_806217A((int)(&v13 - 4), v14, 4);
      goto LABEL_51;
    case 89:
      v15 = (const char *)8;
      v14 = *(&v13 - 8);
      *(&v13 - 6) = sub_806217A((int)(&v13 - 4), v14, 8);
      dword_8071218 = (int)&loc_80625CB;
      sub_8064D8D(v8, v7);
      goto LABEL_49;
    case 90:
LABEL_49:
      v15 = (const char *)7;
      v14 = *(&v13 - 8);
      *(&v13 - 6) = sub_806217A((int)(&v13 - 4), v14, 7);
      goto LABEL_51;
    case 98:
      *(&v13 - 6) = sub_80620AC((int)(&v13 - 4), 512);
      goto LABEL_51;
    case 99:
      *(&v13 - 6) = 0;
      goto LABEL_51;
    case 119:
      *(&v13 - 6) = sub_80620AC((int)(&v13 - 4), 2);
LABEL_51:
      *(&v13 - 10) |= *(&v13 - 6);
      *(_DWORD *)*(&v13 - 5) += *(&v13 - 7);
      if ( **(_BYTE **)*(&v13 - 5) )
        *(&v13 - 10) |= 2u;
      goto LABEL_53;
    default:
      v9 = *(&v13 - 3);
      v10 = v18;
      *v18 = *(&v13 - 4);
      v10[1] = v9;
      result = *(&v13 - 10) | 2;
      break;
  }
  return result;
}
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;

//----- (08062613) --------------------------------------------------------
size_t __cdecl sub_8062613(wchar_t *pwc, char *s, size_t n, mbstate_t *p)
{
  char v5; // [esp+18h] [ebp-10h]
  size_t v6; // [esp+1Ch] [ebp-Ch]

  if ( !pwc )
    pwc = (wchar_t *)&v5;
  v6 = mbrtowc(pwc, s, n, p);
  if ( v6 <= 0xFFFFFFFD || !n || !((unsigned __int8)sub_805766E(0) ^ 1) )
    return v6;
  *pwc = (unsigned __int8)*s;
  return 1;
}

//----- (08062695) --------------------------------------------------------
int __cdecl sub_8062695(int a1, int a2)
{
  int result; // eax

  if ( *(_BYTE *)(a1 + 40) & 1 )
    result = (*(int (__cdecl **)(_DWORD, int))(a1 + 28))(*(_DWORD *)(a1 + 36), a2);
  else
    result = (*(int (__cdecl **)(int))(a1 + 28))(a2);
  return result;
}

//----- (080626D7) --------------------------------------------------------
int __cdecl sub_80626D7(int a1, int a2)
{
  int result; // eax
  int v3; // [esp+Ch] [ebp-Ch]

  if ( *(_BYTE *)(a1 + 40) & 1 )
    result = (*(int (__cdecl **)(_DWORD, int))(a1 + 32))(*(_DWORD *)(a1 + 36), v3);
  else
    result = (*(int (__cdecl **)(int))(a1 + 32))(a2);
  return result;
}

//----- (08062735) --------------------------------------------------------
signed int __cdecl sub_8062735(signed int *a1, signed int a2, signed int a3)
{
  int v3; // eax
  int v5; // [esp+0h] [ebp-28h]
  int v6; // [esp+4h] [ebp-24h]
  int v7; // [esp+8h] [ebp-20h]
  int v8; // [esp+10h] [ebp-18h]
  int v9; // [esp+18h] [ebp-10h]

  if ( !a3 )
    a3 = 8;
  if ( !a2 )
  {
    v9 = 32;
    a2 = 4064;
  }
  *a1 = a2;
  a1[6] = a3 - 1;
  v6 = *(_DWORD *)v7;
  v3 = sub_8062695(v7, v6);
  *(_DWORD *)(v7 + 4) = v3;
  *(&v5 - 3) = *(_DWORD *)(v7 + 4);
  if ( !*(&v5 - 3) )
    obstack_alloc_failed_handler();
  *(_DWORD *)(v7 + 8) = (*(&v5 - 3) + 8 + v8 - 1) & -v8;
  *(_DWORD *)(v7 + 12) = *(_DWORD *)(v7 + 8);
  *(_DWORD *)*(&v5 - 3) = *(&v5 - 3) + *(_DWORD *)v7;
  *(_DWORD *)(v7 + 16) = *(_DWORD *)*(&v5 - 3);
  *(_DWORD *)(*(&v5 - 3) + 4) = 0;
  *(_BYTE *)(v7 + 40) &= 0xFDu;
  *(_BYTE *)(v7 + 40) &= 0xFBu;
  return 1;
}
// 80714A0: using guessed type int (*obstack_alloc_failed_handler)(void);

//----- (08062844) --------------------------------------------------------
#error "8062888: call analysis failed (funcsize=28)"

//----- (0806289B) --------------------------------------------------------
#error "80628A8: positive sp value has been found (funcsize=0)"

//----- (08062924) --------------------------------------------------------
#error "80629EA: call analysis failed (funcsize=156)"

//----- (08062C9B) --------------------------------------------------------
int __cdecl sub_8062C9B(int a1, int a2)
{
  return (a1 == 0) ^ (a2 == 0) && a1 >= 0 && a2 >= 0;
}

//----- (08062CDD) --------------------------------------------------------
_BOOL4 __cdecl sub_8062CDD(_DWORD *a1, _DWORD *a2)
{
  int v2; // ebx

  v2 = a1[5] ^ a2[5] | a1[4] ^ a2[4] | a1[3] ^ a2[3] | a1[2] ^ a2[2] | a1[1] ^ a2[1] | *a2 ^ *a1;
  return (v2 | (unsigned __int8)sub_8062C9B(a1[8], a2[8])) == 0;
}

//----- (08062D7F) --------------------------------------------------------
char *__cdecl sub_8062D7F(void *dest, void *src, size_t n)
{
  char *result; // eax

  memcpy(dest, src, n);
  result = (char *)dest + n;
  *((_BYTE *)dest + n) = 0;
  return result;
}

//----- (08062DCF) --------------------------------------------------------
char *__cdecl sub_8062DCF(char *s)
{
  size_t v1; // eax
  int v2; // eax
  size_t n; // [esp+14h] [ebp-14h]
  char *v5; // [esp+1Ch] [ebp-Ch]

  if ( s )
    v1 = strlen(s) + 1;
  else
    v1 = 0;
  n = v1;
  if ( v1 <= 0x3A )
    v2 = 59;
  else
    v2 = v1 + 1;
  v5 = (char *)malloc((v2 + 12) & 0xFFFFFFF8);
  if ( v5 )
  {
    *(_DWORD *)v5 = 0;
    v5[4] = s != 0;
    v5[5] = 0;
    if ( s )
      sub_8062D7F(v5 + 5, s, n);
  }
  return v5;
}

//----- (08062E9B) --------------------------------------------------------
signed int __cdecl sub_8062E9B(int a1, unsigned int a2)
{
  int i; // eax
  void *v4; // eax
  int v5; // [esp+0h] [ebp-28h]
  int v6; // [esp+4h] [ebp-24h]
  int v7; // [esp+8h] [ebp-20h]
  int v8; // [esp+Ch] [ebp-1Ch]
  char *s1; // [esp+10h] [ebp-18h]
  char *s1a; // [esp+10h] [ebp-18h]
  char *s; // [esp+14h] [ebp-14h]
  size_t n; // [esp+18h] [ebp-10h]
  size_t na; // [esp+18h] [ebp-10h]
  int v14; // [esp+1Ch] [ebp-Ch]
  int v15; // [esp+1Ch] [ebp-Ch]
  int v16; // [esp+20h] [ebp-8h]
  int v17; // [esp+24h] [ebp-4h]
  int savedregs; // [esp+28h] [ebp+0h]
  int v19; // [esp+30h] [ebp+8h]

  s1 = (char *)&unk_806A738;
  s = *(char **)(a2 + 40);
  if ( !s || a2 <= (unsigned int)s && a2 + 44 > (unsigned int)s )
    return 1;
  if ( *s )
  {
    s1 = (char *)(a1 + 5);
    for ( i = strcmp((const char *)(a1 + 5), s); i; i = strcmp(s1, s) )
    {
      if ( !*s1 && ((char *)(a1 + 5) != s1 || !*(_BYTE *)(a1 + 4)) )
      {
        na = strlen(s) + 1;
        v15 = (int)&s1[-a1 - 5];
        if ( ~v15 < na )
        {
          *__errno_location() = 12;
          return 0;
        }
        if ( v15 + na <= 0x3A )
        {
          sub_8062D7F(s1, s, na);
          break;
        }
        *(_DWORD *)a1 = sub_8062DCF(s);
        v19 = *(_DWORD *)a1;
        if ( !v19 )
          return 0;
        *(_BYTE *)(v19 + 4) = 0;
        s1 = (char *)(v19 + 5);
        break;
      }
      s1a = &s1[strlen(s1) + 1];
      v4 = &loc_8063018;
      if ( *s1a )
        v4 = &loc_8063032;
      dword_8071240 = (int)v4;
      sub_8064CA3(v5, v6, v7, v8, s1a, s, n, v14, v16, v17, savedregs);
      if ( *(_DWORD *)a1 )
      {
        a1 = *(_DWORD *)a1;
        s1 = (char *)(a1 + 5);
      }
    }
  }
  *(_DWORD *)(a2 + 40) = s1;
  return 1;
}
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8071240: using guessed type int dword_8071240;

//----- (0806305C) --------------------------------------------------------
void *__cdecl sub_806305C(void *ptr)
{
  void *result; // eax
  void *v2; // ST1C_4

  result = (void *)1;
  if ( ptr != (void *)1 )
  {
    while ( ptr )
    {
      v2 = *(void **)ptr;
      free(ptr);
      result = v2;
      ptr = v2;
    }
  }
  return result;
}

//----- (08063093) --------------------------------------------------------
char *sub_8063093()
{
  return getenv("TZ");
}

//----- (080630B7) --------------------------------------------------------
#error "80630D7: call analysis failed (funcsize=30)"

//----- (08063123) --------------------------------------------------------
signed int __cdecl sub_8063123(int a1)
{
  char *v1; // eax

  if ( *(_BYTE *)(a1 + 4) )
    v1 = (char *)(a1 + 5);
  else
    v1 = 0;
  if ( sub_80630B7(v1) )
    return 0;
  tzset();
  return 1;
}

//----- (08063164) --------------------------------------------------------
#error "806318C: call analysis failed (funcsize=64)"

//----- (08063255) --------------------------------------------------------
int __cdecl sub_8063255(void *ptr)
{
  unsigned __int8 v2; // [esp+1Bh] [ebp-Dh]
  int v3; // [esp+1Ch] [ebp-Ch]

  if ( ptr == (void *)1 )
    return 1;
  v3 = *__errno_location();
  v2 = sub_8063123((int)ptr);
  if ( v2 ^ 1 )
    v3 = *__errno_location();
  sub_806305C(ptr);
  *__errno_location() = v3;
  return v2;
}

//----- (080632C6) --------------------------------------------------------
struct tm *__cdecl sub_80632C6(int a1, time_t *timer, struct tm *tp)
{
  int v3; // edx
  int v4; // ecx
  char v5; // al
  bool v6; // zf
  void *v7; // eax
  char v8; // ST23_1
  struct tm *result; // eax
  int v10; // [esp+0h] [ebp-28h]
  int v11; // [esp+4h] [ebp-24h]
  int v12; // [esp+8h] [ebp-20h]
  int v13; // [esp+Ch] [ebp-1Ch]
  int v14; // [esp+10h] [ebp-18h]
  int v15; // [esp+14h] [ebp-14h]
  int v16; // [esp+18h] [ebp-10h]
  void *ptr; // [esp+1Ch] [ebp-Ch]

  if ( !a1 )
  {
    gmtime_r(timer, tp);
    dword_807122C = (int)&locret_806338A;
    sub_8064D19(v4, v3);
  }
  ptr = (void *)sub_8063164(a1);
  if ( !ptr )
    goto LABEL_15;
  v5 = localtime_r(timer, tp) && (unsigned __int8)sub_8062E9B(a1, (unsigned int)tp) ? 1 : 0;
  HIBYTE(v16) = v5 & 1;
  v6 = (unsigned __int8)sub_8063255(ptr) == 0;
  v7 = &loc_806337A;
  if ( v6 )
    v7 = &loc_8063385;
  dword_8071268 = (int)v7;
  sub_8064BC9(v10, v11, v12, v13, v14, v15, v16);
  if ( v8 )
    result = tp;
  else
LABEL_15:
    result = 0;
  return result;
}
// 8063164: using guessed type _DWORD __cdecl sub_8063164(_DWORD);
// 8064BC9: using guessed type int __stdcall sub_8064BC9(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 807122C: using guessed type int dword_807122C;
// 8071268: using guessed type int dword_8071268;

//----- (0806338C) --------------------------------------------------------
int __cdecl sub_806338C(int a1, struct tm *tp)
{
  int result; // eax
  time_t timer; // [esp+18h] [ebp-40h]
  void *ptr; // [esp+1Ch] [ebp-3Ch]
  time_t v5; // [esp+20h] [ebp-38h]
  struct tm v6; // [esp+24h] [ebp-34h]

  if ( !a1 )
    return timegm(tp);
  ptr = (void *)sub_8063164(a1);
  if ( !ptr )
    goto LABEL_14;
  timer = mktime(tp);
  v5 = -1;
  if ( timer != -1 || localtime_r(&timer, &v6) && sub_8062CDD(tp, &v6) )
  {
    if ( (unsigned __int8)sub_8062E9B(a1, (unsigned int)tp) ^ 1 )
      timer = v5;
  }
  if ( (unsigned __int8)sub_8063255(ptr) )
    result = timer;
  else
LABEL_14:
    result = -1;
  return result;
}
// 8063164: using guessed type _DWORD __cdecl sub_8063164(_DWORD);

//----- (080635B8) --------------------------------------------------------
int __cdecl sub_80635B8(int a1, char a2)
{
  return __ROR4__(a1, a2);
}

//----- (080636E3) --------------------------------------------------------
#error "806373B: call analysis failed (funcsize=38)"

//----- (0806379F) --------------------------------------------------------
int __cdecl sub_806379F(FILE *fp)
{
  bool v1; // ST1E_1
  bool v3; // [esp+1Dh] [ebp-Bh]
  bool v4; // [esp+1Fh] [ebp-9h]

  v3 = __fpending(fp) != 0;
  v1 = ferror_unlocked(fp) != 0;
  v4 = sub_8063EF6(fp) != 0;
  if ( !v1 && (!v4 || !v3 && *__errno_location() == 9) )
    return 0;
  if ( v4 != 1 )
    *__errno_location() = 0;
  return -1;
}

//----- (08063830) --------------------------------------------------------
void *__cdecl sub_8063830(void *src)
{
  void *v2; // [esp+1Ch] [ebp-Ch]

  v2 = sub_8056783(src);
  if ( !v2 )
    sub_80616A7();
  return v2;
}

//----- (08063860) --------------------------------------------------------
#error "80638AB: call analysis failed (funcsize=25)"

//----- (080638BF) --------------------------------------------------------
int __fastcall __noreturn sub_80638BF(int a1, int a2)
{
  void *v2; // eax
  _BOOL4 v3; // eax
  int v4; // edx
  int v5; // ecx
  void *v6; // eax
  int v7; // edx
  int v8; // ecx
  void *v9; // eax
  int (*v10)(); // eax
  void *v12; // [esp+0h] [ebp-C8h]
  int v13; // [esp+4h] [ebp-C4h]
  int v14; // [esp+8h] [ebp-C0h]
  int v15; // [esp+Ch] [ebp-BCh]
  int v16; // [esp+10h] [ebp-B8h]
  void *ptr; // [esp+14h] [ebp-B4h]
  void *v18; // [esp+18h] [ebp-B0h]
  char *s; // [esp+1Ch] [ebp-ACh]
  void *v20; // [esp+20h] [ebp-A8h]
  int v21; // [esp+24h] [ebp-A4h]
  char *v22; // [esp+28h] [ebp-A0h]
  size_t n; // [esp+2Ch] [ebp-9Ch]
  size_t v24; // [esp+30h] [ebp-98h]
  _BOOL4 v25; // [esp+34h] [ebp-94h]
  void *dest; // [esp+38h] [ebp-90h]
  int fd; // [esp+3Ch] [ebp-8Ch]
  FILE *stream; // [esp+40h] [ebp-88h]
  int c; // [esp+44h] [ebp-84h]
  int v30; // [esp+48h] [ebp-80h]
  unsigned int v31; // [esp+BCh] [ebp-Ch]

  v31 = __readgsdword(0x14u);
  v18 = (void *)dword_80729BC;
  v2 = &loc_8063915;
  if ( dword_80729BC )
    v2 = &loc_8063DCF;
  dword_8071254 = (int)v2;
  sub_8064C35(a1, a2, v12, v13, v14, v15, v16, ptr, v18, s, v20, v21, v22, n, v24, v25, dest, fd, stream, c, v30);
  ptr = 0;
  v22 = "charset.alias";
  s = getenv("CHARSETALIASDIR");
  if ( !s || !*s )
  {
    ptr = 0;
    s = "/home/hwangdz/coreutils/coreutils-8.28/install_m32/lib";
  }
  n = strlen(s);
  v24 = strlen(v22);
  v3 = n && s[n - 1] != 47;
  v25 = v3;
  v12 = (void *)(n + v3 + v24 + 1);
  dest = malloc((size_t)v12);
  if ( dest )
  {
    memcpy(dest, s, n);
    if ( v25 )
      *((_BYTE *)dest + n) = 47;
    memcpy((char *)dest + n + v25, v22, v24 + 1);
  }
  free(ptr);
  if ( dest )
  {
    v13 = 0x20000;
    v12 = dest;
    fd = open64();
    if ( fd >= 0 )
    {
      stream = fdopen(fd, "r");
      if ( stream )
      {
        v20 = 0;
        v21 = 0;
        while ( 1 )
        {
          c = getc_unlocked(stream);
          if ( c == -1 )
            break;
          v6 = &loc_8063B6D;
          if ( c == 10 )
            v6 = &loc_8063B7F;
          dword_8071240 = (int)v6;
          sub_8064CA3(v12, v13, v14, v15, v16, ptr, v18, s, v20, v21, v22);
          if ( c != 32 && c != 9 )
          {
            v9 = &loc_8063BA6;
            if ( c != 35 )
              v9 = &loc_8063BDF;
            dword_8071254 = (int)v9;
            sub_8064C35(
              v8,
              v7,
              v12,
              v13,
              v14,
              v15,
              v16,
              ptr,
              v18,
              s,
              v20,
              v21,
              v22,
              n,
              v24,
              v25,
              dest,
              fd,
              stream,
              c,
              v30);
            do
              c = getc_unlocked(stream);
            while ( c != -1 && c != 10 );
            if ( c == -1 )
              break;
          }
        }
        sub_8063EF6(stream);
        if ( v21 )
        {
          *((_BYTE *)v20 + v21) = 0;
          v18 = v20;
        }
        else
        {
          v18 = &unk_806A793;
        }
      }
      else
      {
        close(fd);
        v18 = &unk_806A793;
      }
    }
    else
    {
      v18 = &unk_806A793;
    }
    free(dest);
  }
  else
  {
    v18 = &unk_806A793;
  }
  dword_80729BC = (int)v18;
  v10 = (int (*)())&loc_8063DFA;
  if ( __readgsdword(0x14u) == v31 )
    v10 = sub_8063DFF;
  dword_8071218 = (int)v10;
  return sub_8064D8D(v5, v4);
}
// 80494D0: using guessed type int open64(void);
// 8063DFF: using guessed type int sub_8063DFF();
// 8064C35: using guessed type int __fastcall sub_8064C35(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8064CA3: using guessed type int __stdcall sub_8064CA3(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8064D8D: using guessed type int __fastcall sub_8064D8D(_DWORD, _DWORD);
// 8071218: using guessed type int dword_8071218;
// 8071240: using guessed type int dword_8071240;
// 8071254: using guessed type int dword_8071254;
// 80729BC: using guessed type int dword_80729BC;

//----- (08063DFF) --------------------------------------------------------
#error "8063E05: positive sp value has been found (funcsize=0)"

//----- (08063E08) --------------------------------------------------------
void __noreturn sub_8063E08()
{
  int v0; // edx
  int v1; // ecx

  nl_langinfo(14);
  sub_80638BF(v1, v0);
}

//----- (08063EF6) --------------------------------------------------------
#error "8063F51: call analysis failed (funcsize=77)"

//----- (08064009) --------------------------------------------------------
int __cdecl sub_8064009(FILE *stream)
{
  int result; // eax

  result = stream->_flags & 0x100;
  if ( result )
    result = sub_806408A(stream, 0, 0, 1);
  return result;
}

//----- (08064046) --------------------------------------------------------
int __cdecl sub_8064046(FILE *fp)
{
  if ( !fp || !__freading(fp) )
    return fflush(fp);
  sub_8064009(fp);
  return fflush(fp);
}

//----- (0806408A) --------------------------------------------------------
int __cdecl sub_806408A(FILE *stream, int a2, int a3, int a4)
{
  int v4; // eax
  __int64 v5; // rax
  int v7; // edx
  int v8; // [esp-8h] [ebp-28h]
  int v9; // [esp-4h] [ebp-24h]
  int v10; // [esp+0h] [ebp-20h]
  int v11; // [esp+4h] [ebp-1Ch]
  int v12; // [esp+8h] [ebp-18h]
  int v13; // [esp+Ch] [ebp-14h]
  __int64 v14; // [esp+10h] [ebp-10h]
  int v15; // [esp+18h] [ebp-8h]
  int v16; // [esp+1Ch] [ebp-4h]

  v10 = a2;
  v11 = a3;
  if ( stream->_IO_read_end != stream->_IO_read_ptr
    || stream->_IO_write_ptr != stream->_IO_write_base
    || stream->_IO_save_base )
  {
    return fseeko64(stream, v10, v11, a4, v8, v9, v10, v11, v12, v13, v14, HIDWORD(v14), v15, v16);
  }
  v4 = fileno(stream);
  LODWORD(v5) = lseek64(v4, v10, v11, a4, v8, v9, v10, v11, v12, v13, v14, HIDWORD(v14), v15, v16);
  v14 = v5;
  if ( v5 == -1 )
    return -1;
  stream->_flags &= 0xFFFFFFEF;
  v7 = HIDWORD(v14);
  LODWORD(stream->_offset) = v14;
  HIDWORD(stream->_offset) = v7;
  return 0;
}
// 8049610: using guessed type int __stdcall fseeko64(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);
// 8049A70: using guessed type int __stdcall lseek64(_DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD, _DWORD);

//----- (080641A8) --------------------------------------------------------
#error "806429E: call analysis failed (funcsize=151)"

//----- (08064371) --------------------------------------------------------
#error "8064505: call analysis failed (funcsize=137)"

//----- (0806458B) --------------------------------------------------------
signed __int64 __cdecl sub_806458B(unsigned __int64 a1, unsigned int a2, unsigned int a3)
{
  unsigned int v3; // esi
  unsigned __int64 v4; // rtt
  signed __int64 result; // rax
  int v6; // ebp
  int v7; // ebp
  unsigned __int64 v8; // rdi
  unsigned int v9; // eax
  unsigned int v10; // esi
  unsigned int v11; // edi
  unsigned __int64 v12; // rax
  unsigned int v13; // [esp+0h] [ebp-18h]
  unsigned int v14; // [esp+4h] [ebp-14h]
  unsigned int v15; // [esp+8h] [ebp-10h]

  v14 = a1;
  v13 = a2;
  if ( !a3 )
  {
    if ( a2 > (unsigned int)&v13 )
      return (unsigned int)(a1 / a2);
    v3 = a2;
    if ( !a2 )
      v3 = 1 / 0u;
    LODWORD(v4) = a1;
    HIDWORD(v4) = (unsigned int)&v13 % v3;
    LODWORD(result) = v4 / v3;
    HIDWORD(result) = (unsigned int)&v13 / v3;
    return result;
  }
  if ( a3 > (unsigned int)&v13 )
    return 0LL;
  _BitScanReverse((unsigned int *)&v6, a3);
  v7 = v6 ^ 0x1F;
  if ( !v7 )
  {
    if ( v13 <= v14 || a3 < HIDWORD(a1) )
      return 1LL;
    return 0LL;
  }
  v15 = v13 >> (32 - v7);
  v15 |= a3 << v7;
  v13 <<= v7;
  HIDWORD(v8) = HIDWORD(a1) >> (32 - v7);
  LODWORD(v8) = (HIDWORD(a1) << (char)&v13) | (v14 >> (32 - v7));
  v9 = v8 / v15;
  v10 = v8 % v15;
  v11 = v9;
  v12 = v13 * (unsigned __int64)v9;
  v13 = HIDWORD(v12);
  if ( v10 < HIDWORD(v12) || v14 << (char)&v13 < (unsigned int)v12 && v10 == v13 )
    result = v11 - 1;
  else
    result = v11;
  return result;
}

//----- (080646E2) --------------------------------------------------------
#error "80647F2: call analysis failed (funcsize=106)"

//----- (08064920) --------------------------------------------------------
int __cdecl sub_8064920(int a1)
{
  return __cxa_atexit(a1, 0, dword_80712AC);
}
// 80497B0: using guessed type int __cdecl __cxa_atexit(_DWORD, _DWORD, _DWORD);
// 80712AC: using guessed type int dword_80712AC;

//----- (08064953) --------------------------------------------------------
int __cdecl sub_8064953(int a1, int a2)
{
  return __xstat64(3, a1, a2);
}
// 8049AE0: using guessed type int __cdecl __xstat64(_DWORD, _DWORD, _DWORD);

//----- (080649A2) --------------------------------------------------------
int __cdecl sub_80649A2(int a1, int a2)
{
  return __fxstat64(3, a1, a2);
}
// 8049730: using guessed type int __cdecl __fxstat64(_DWORD, _DWORD, _DWORD);

//----- (080649F3) --------------------------------------------------------
int __cdecl sub_80649F3(int a1, int a2)
{
  return __lxstat64(3, a1, a2);
}
// 8049AF0: using guessed type int __cdecl __lxstat64(_DWORD, _DWORD, _DWORD);

//----- (08064B53) --------------------------------------------------------
#error "8064B59: positive sp value has been found (funcsize=0)"

//----- (08064BC9) --------------------------------------------------------
#error "8064BCF: positive sp value has been found (funcsize=0)"

//----- (08064C35) --------------------------------------------------------
#error "8064C3B: positive sp value has been found (funcsize=0)"

//----- (08064CA3) --------------------------------------------------------
#error "8064CA9: positive sp value has been found (funcsize=0)"

//----- (08064D19) --------------------------------------------------------
#error "8064D1F: positive sp value has been found (funcsize=0)"

//----- (08064D8D) --------------------------------------------------------
#error "8064D93: positive sp value has been found (funcsize=0)"

//----- (08064E07) --------------------------------------------------------
#error "8064E0D: positive sp value has been found (funcsize=0)"

//----- (08064E75) --------------------------------------------------------
#error "8064E7B: positive sp value has been found (funcsize=0)"

//----- (08064EED) --------------------------------------------------------
#error "8064EF3: positive sp value has been found (funcsize=0)"

//----- (08064F00) --------------------------------------------------------
int (**sub_8064F00())()
{
  int (**result)(); // eax
  int v1; // esi
  int v2; // edi

  init_proc();
  result = off_8070ED8;
  v1 = &off_8070EDC - off_8070ED8;
  if ( v1 )
  {
    v2 = 0;
    do
      result = (int (**)())off_8070ED8[v2++]();
    while ( v1 != v2 );
  }
  return result;
}
// 8070ED8: using guessed type int (*off_8070ED8[2])();
// 8070EDC: using guessed type int (*off_8070EDC)();

//----- (08064F64) --------------------------------------------------------
void term_proc()
{
  ;
}

#error "There were 127 decompilation failure(s) on 390 function(s)"
